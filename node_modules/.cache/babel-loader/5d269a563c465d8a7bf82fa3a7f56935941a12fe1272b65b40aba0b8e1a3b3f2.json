{"ast":null,"code":"var _jsxFileName = \"/Users/reidsickels/Inbox/inbox-manager-frontend/src/components/InboxManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { Search, Filter, Send, Edit3, Clock, Mail, User, MessageSquare, ChevronDown, ChevronRight, X, TrendingUp, Calendar, ExternalLink, BarChart3, Users, AlertCircle, CheckCircle, Timer, Zap, Target, DollarSign, Activity, Key, Brain, Database, Loader2, Save, Phone, LogOut } from 'lucide-react';\nimport { leadsService } from '../lib/leadsService';\n\n// Security utilities for API key encryption\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ENCRYPTION_SALT = 'InboxManager_2024_Salt_Key';\nconst encryptApiKey = key => {\n  if (!key) return '';\n  try {\n    // Simple encryption using base64 encoding with salt\n    const combined = key + ENCRYPTION_SALT;\n    return btoa(combined);\n  } catch (error) {\n    console.warn('Failed to encrypt API key:', error);\n    return key;\n  }\n};\nconst decryptApiKey = encryptedKey => {\n  if (!encryptedKey) return '';\n  try {\n    const decoded = atob(encryptedKey);\n    return decoded.replace(ENCRYPTION_SALT, '');\n  } catch (error) {\n    console.warn('Failed to decrypt API key, treating as plain text:', error);\n    return encryptedKey;\n  }\n};\n\n// HTML sanitization function (basic XSS protection)\nconst sanitizeHtml = html => {\n  if (!html) return '';\n\n  // Create a temporary element to parse HTML\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n\n  // Remove potentially dangerous elements and attributes\n  const dangerousElements = ['script', 'object', 'embed', 'iframe', 'form'];\n  const dangerousAttributes = ['onload', 'onerror', 'onclick', 'onmouseover', 'onfocus', 'onblur', 'onchange', 'onsubmit'];\n  dangerousElements.forEach(tagName => {\n    const elements = temp.querySelectorAll(tagName);\n    elements.forEach(el => el.remove());\n  });\n\n  // Remove dangerous attributes from all elements\n  const allElements = temp.querySelectorAll('*');\n  allElements.forEach(el => {\n    dangerousAttributes.forEach(attr => {\n      if (el.hasAttribute(attr)) {\n        el.removeAttribute(attr);\n      }\n    });\n\n    // Remove javascript: URLs\n    ['href', 'src'].forEach(attr => {\n      const value = el.getAttribute(attr);\n      if (value && value.toLowerCase().startsWith('javascript:')) {\n        el.removeAttribute(attr);\n      }\n    });\n  });\n  return temp.innerHTML;\n};\nconst InboxManager = ({\n  user,\n  onSignOut\n}) => {\n  _s();\n  var _activeFilters$urgenc2, _activeFilters$urgenc3, _activeFilters$urgenc4;\n  // State for leads from API\n  const [leads, setLeads] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Add new state for enrichment data\n  const [enrichmentData, setEnrichmentData] = useState(null);\n  const [isEnriching, setIsEnriching] = useState(false);\n  const [showEnrichmentPopup, setShowEnrichmentPopup] = useState(false);\n\n  // Add new state for API settings and tab management\n  const [activeTab, setActiveTab] = useState('all');\n  const [showApiSettings, setShowApiSettings] = useState(false);\n  const [apiKeys, setApiKeys] = useState({\n    esp: {\n      provider: localStorage.getItem('esp_provider') || '',\n      key: decryptApiKey(localStorage.getItem('esp_api_key_enc') || '')\n    },\n    fullenrich: decryptApiKey(localStorage.getItem('fullenrich_api_key_enc') || '')\n  });\n  const [apiTestStatus, setApiTestStatus] = useState({\n    esp: null,\n    fullenrich: null\n  });\n  const [isSavingApi, setIsSavingApi] = useState(false);\n  const [showApiToast, setShowApiToast] = useState(false);\n  const [apiToastMessage, setApiToastMessage] = useState({\n    type: '',\n    message: ''\n  });\n\n  // Add new state for searching phone number\n  const [isSearchingPhone, setIsSearchingPhone] = useState(false);\n\n  // Replace single loading states with maps of lead IDs\n  const [enrichingLeads, setEnrichingLeads] = useState(new Set());\n  const [searchingPhoneLeads, setSearchingPhoneLeads] = useState(new Set());\n\n  // Replace single toast with array of toasts\n  const [toasts, setToasts] = useState([]);\n  const toastsTimeoutRef = useRef({}); // Store timeouts by toast ID\n\n  // Theme management\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const savedTheme = localStorage.getItem('inbox_manager_theme');\n    return savedTheme ? savedTheme === 'dark' : true; // Default to dark mode\n  });\n\n  // Auto-save drafts state\n  const [drafts, setDrafts] = useState(() => {\n    try {\n      const savedDrafts = localStorage.getItem('inbox_manager_drafts');\n      return savedDrafts ? JSON.parse(savedDrafts) : {};\n    } catch (e) {\n      console.warn('Failed to load saved drafts:', e);\n      return {};\n    }\n  });\n\n  // Recently viewed leads state\n  const [recentlyViewed, setRecentlyViewed] = useState(() => {\n    try {\n      const savedRecent = localStorage.getItem('inbox_manager_recent_leads');\n      return savedRecent ? JSON.parse(savedRecent) : [];\n    } catch (e) {\n      console.warn('Failed to load recently viewed leads:', e);\n      return [];\n    }\n  });\n  const [showRecentDropdown, setShowRecentDropdown] = useState(false);\n\n  // Clean up all timeouts on unmount\n  useEffect(() => {\n    return () => {\n      Object.values(toastsTimeoutRef.current).forEach(timeout => {\n        clearTimeout(timeout);\n      });\n      if (draftTimeoutRef.current) {\n        clearTimeout(draftTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Click outside to close dropdowns\n  useEffect(() => {\n    const handleClickOutside = event => {\n      // Close recent dropdown if clicking outside\n      if (showRecentDropdown && !event.target.closest('.recent-dropdown')) {\n        setShowRecentDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showRecentDropdown]);\n\n  // Auto-save drafts with debouncing\n  const draftTimeoutRef = useRef(null);\n  const [isDraftSaving, setIsDraftSaving] = useState(false);\n  const saveDraft = (leadId, content, htmlContent) => {\n    if (draftTimeoutRef.current) {\n      clearTimeout(draftTimeoutRef.current);\n    }\n    setIsDraftSaving(true);\n    draftTimeoutRef.current = setTimeout(() => {\n      const newDrafts = {\n        ...drafts,\n        [leadId]: {\n          content: content.trim(),\n          htmlContent: htmlContent || '',\n          savedAt: new Date().toISOString()\n        }\n      };\n\n      // Remove empty drafts\n      if (!content.trim()) {\n        delete newDrafts[leadId];\n      }\n      setDrafts(newDrafts);\n      localStorage.setItem('inbox_manager_drafts', JSON.stringify(newDrafts));\n      setIsDraftSaving(false);\n    }, 2000); // Auto-save after 2 seconds of inactivity\n  };\n\n  // Recently viewed leads management\n  const addToRecentlyViewed = lead => {\n    if (!lead) return;\n    const newRecent = [{\n      id: lead.id,\n      name: `${lead.first_name} ${lead.last_name}`,\n      email: lead.email\n    }, ...recentlyViewed.filter(item => item.id !== lead.id)].slice(0, 8); // Keep only last 8\n\n    setRecentlyViewed(newRecent);\n    localStorage.setItem('inbox_manager_recent_leads', JSON.stringify(newRecent));\n  };\n\n  // Migrate existing unencrypted API keys to encrypted storage (runs once on mount)\n  useEffect(() => {\n    const migrateApiKeys = () => {\n      const keysToMigrate = ['smartlead', 'claude', 'fullenrich'];\n      let migrationNeeded = false;\n      keysToMigrate.forEach(keyName => {\n        const oldKey = localStorage.getItem(`${keyName}_api_key`);\n        const newKey = localStorage.getItem(`${keyName}_api_key_enc`);\n\n        // If old unencrypted key exists but new encrypted key doesn't\n        if (oldKey && !newKey) {\n          const encryptedKey = encryptApiKey(oldKey);\n          localStorage.setItem(`${keyName}_api_key_enc`, encryptedKey);\n          localStorage.removeItem(`${keyName}_api_key`);\n          migrationNeeded = true;\n        }\n      });\n      if (migrationNeeded) {\n        console.info('API keys migrated to encrypted storage for security');\n        showToast('API keys upgraded to encrypted storage', 'success');\n      }\n    };\n    migrateApiKeys();\n  }, []);\n\n  // Theme toggle function\n  const toggleTheme = () => {\n    const newTheme = !isDarkMode;\n    setIsDarkMode(newTheme);\n    localStorage.setItem('inbox_manager_theme', newTheme ? 'dark' : 'light');\n    showToast(`Switched to ${newTheme ? 'dark' : 'light'} mode`, 'success');\n  };\n\n  // Theme CSS variables\n  const themeStyles = isDarkMode ? {\n    // Dark mode colors\n    primaryBg: '#1A1C1A',\n    secondaryBg: 'rgba(26, 28, 26, 0.8)',\n    tertiaryBg: 'rgba(255, 255, 255, 0.05)',\n    textPrimary: '#FFFFFF',\n    textSecondary: '#D1D5DB',\n    textMuted: '#9CA3AF',\n    accent: '#54FCFF',\n    border: 'rgba(255, 255, 255, 0.1)',\n    borderStrong: 'rgba(255, 255, 255, 0.2)',\n    success: '#10B981',\n    warning: '#F59E0B',\n    error: '#EF4444'\n  } : {\n    // Light mode colors (fixed contrast)\n    primaryBg: '#F8FAFC',\n    secondaryBg: '#FFFFFF',\n    tertiaryBg: '#F1F5F9',\n    textPrimary: '#0F172A',\n    textSecondary: '#334155',\n    textMuted: '#64748B',\n    accent: '#2563EB',\n    border: 'rgba(0, 0, 0, 0.15)',\n    borderStrong: 'rgba(0, 0, 0, 0.25)',\n    success: '#059669',\n    warning: '#D97706',\n    error: '#DC2626'\n  };\n\n  // Modified toast helper function\n  const showToast = (message, type = 'success', leadId = null) => {\n    const id = Date.now(); // Unique ID for each toast\n    const newToast = {\n      id,\n      message,\n      type,\n      leadId\n    };\n    setToasts(currentToasts => [...currentToasts, newToast]);\n\n    // Store the timeout reference\n    toastsTimeoutRef.current[id] = setTimeout(() => {\n      removeToast(id);\n    }, 10000);\n  };\n\n  // Remove specific toast\n  const removeToast = id => {\n    // Clear the timeout\n    if (toastsTimeoutRef.current[id]) {\n      clearTimeout(toastsTimeoutRef.current[id]);\n      delete toastsTimeoutRef.current[id];\n    }\n    setToasts(currentToasts => currentToasts.filter(toast => toast.id !== id));\n  };\n\n  // Helper functions (moved up before they're used)\n  // Get last response date from them (last REPLY message)\n  const getLastResponseFromThem = conversation => {\n    const replies = conversation.filter(msg => msg.type === 'REPLY');\n    if (replies.length === 0) return null;\n    return replies[replies.length - 1].time;\n  };\n\n  // Add utility functions at the top of the component\n  const safeGetLastMessage = lead => {\n    var _lead$conversation;\n    if (!(lead !== null && lead !== void 0 && (_lead$conversation = lead.conversation) !== null && _lead$conversation !== void 0 && _lead$conversation.length)) return null;\n    return lead.conversation[lead.conversation.length - 1];\n  };\n  const timeDiff = (date1, date2) => {\n    try {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      if (isNaN(d1.getTime()) || isNaN(d2.getTime())) return Infinity;\n      return (d1 - d2) / (1000 * 60 * 60 * 24);\n    } catch (e) {\n      return Infinity;\n    }\n  };\n  const getResponseUrgency = lead => {\n    const lastMessage = safeGetLastMessage(lead);\n    if (!lastMessage) return 'none';\n    const isHighMediumIntent = lead.intent >= 4;\n    const theyRepliedLast = lastMessage.type === 'REPLY';\n    const weRepliedLast = lastMessage.type === 'SENT';\n    const daysSinceLastMessage = timeDiff(new Date(), new Date(lastMessage.time));\n    if (isHighMediumIntent && theyRepliedLast) {\n      if (daysSinceLastMessage >= 2) return 'urgent-response';\n      return 'needs-response';\n    }\n    if (weRepliedLast && daysSinceLastMessage >= 3) {\n      return 'needs-followup';\n    }\n    return 'none';\n  };\n\n  // Fetch leads from API\n  useEffect(() => {\n    fetchLeads();\n  }, []);\n  const fetchLeads = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Include user's brand_id in the API call if user is authenticated\n      const url = user ? `https://leads-api-nu.vercel.app/api/retention-harbor?brand_id=${user.id}` : 'https://leads-api-nu.vercel.app/api/retention-harbor';\n      const response = await fetch(url);\n      if (!response.ok) throw new Error('Failed to fetch leads');\n      const data = await response.json();\n\n      // Transform the data to match the expected format\n      const transformedLeads = (data.leads || []).map(lead => {\n        var _lead$lead_email;\n        // Parse conversation data from email_message_body and extract subject\n        let conversation = [];\n        let extractedSubject = `Campaign for ${lead.first_name || 'Lead'}`;\n        let emailStatsId = null;\n        try {\n          if (lead.email_message_body) {\n            const parsedConversation = JSON.parse(lead.email_message_body);\n\n            // Extract stats_id from the first message\n            if (parsedConversation.length > 0 && parsedConversation[0].stats_id) {\n              emailStatsId = parsedConversation[0].stats_id;\n            }\n            conversation = parsedConversation.map((msg, index) => {\n              const prevMsg = parsedConversation[index - 1];\n              let responseTime = undefined;\n              if (msg.type === 'REPLY' && prevMsg && prevMsg.type === 'SENT') {\n                const timeDiff = new Date(msg.time) - new Date(prevMsg.time);\n                responseTime = timeDiff / (1000 * 60 * 60); // Convert to hours\n              }\n              return {\n                from: msg.from || '',\n                to: msg.to || '',\n                cc: msg.cc || null,\n                type: msg.type || 'SENT',\n                time: msg.time || new Date().toISOString(),\n                content: extractTextFromHTML(msg.email_body || ''),\n                subject: msg.subject || '',\n                opened: (msg.open_count || 0) > 0,\n                clicked: (msg.click_count || 0) > 0,\n                response_time: responseTime\n              };\n            });\n\n            // Extract subject from the first message in conversation or any message with subject\n            if (conversation.length > 0) {\n              const messageWithSubject = conversation.find(msg => msg.subject && msg.subject.trim() !== '');\n              if (messageWithSubject) {\n                extractedSubject = messageWithSubject.subject.trim();\n              }\n            }\n          }\n        } catch (e) {\n          console.error('Error parsing conversation for lead', lead.id, e);\n          conversation = [];\n        }\n\n        // Calculate metrics from conversation\n        const replies = conversation.filter(m => m.type === 'REPLY');\n        const sent = conversation.filter(m => m.type === 'SENT');\n\n        // Calculate average response time\n        const responseTimes = conversation.filter(m => m.response_time !== undefined).map(m => m.response_time);\n        const avgResponseTime = responseTimes.length > 0 ? responseTimes.reduce((sum, time) => sum + time, 0) / responseTimes.length : 0;\n\n        // Calculate engagement score\n        let engagementScore = 0;\n        if (sent.length > 0) {\n          engagementScore += Math.min(replies.length / sent.length * 60, 60);\n          if (avgResponseTime < 1) engagementScore += 40;else if (avgResponseTime < 4) engagementScore += 30;else if (avgResponseTime < 24) engagementScore += 20;else if (avgResponseTime < 72) engagementScore += 10;\n        }\n        engagementScore = Math.round(Math.min(engagementScore, 100));\n\n        // Calculate intent score based on conversation content\n        const allText = conversation.map(m => m.content.toLowerCase()).join(' ');\n        let intentScore = 1 + Math.min(replies.length * 2, 6);\n        const positiveKeywords = ['interested', 'yes', 'sure', 'sounds good', 'let me know', 'call', 'meeting', 'schedule'];\n        intentScore += positiveKeywords.filter(keyword => allText.includes(keyword)).length;\n        if (allText.includes('price') || allText.includes('cost')) intentScore += 1;\n        if (allText.includes('sample') || allText.includes('example')) intentScore += 1;\n        intentScore = Math.min(intentScore, 10);\n        return {\n          id: lead.id,\n          campaign_id: lead.campaign_ID || null,\n          lead_id: lead.lead_ID || null,\n          email_stats_id: emailStatsId,\n          created_at: lead.created_at,\n          updated_at: lead.created_at,\n          email: lead.lead_email,\n          first_name: lead.first_name || 'Unknown',\n          last_name: lead.last_name || '',\n          website: lead.website || ((_lead$lead_email = lead.lead_email) === null || _lead$lead_email === void 0 ? void 0 : _lead$lead_email.split('@')[1]) || '',\n          content_brief: `Email marketing campaign for ${lead.lead_category || 'business'}`,\n          subject: extractedSubject,\n          email_message_body: lead.email_message_body,\n          intent: intentScore,\n          created_at_best: lead.created_at,\n          response_time_avg: avgResponseTime,\n          engagement_score: engagementScore,\n          lead_category: lead.lead_category,\n          tags: [lead.lead_category ? leadCategoryMap[lead.lead_category] || 'Uncategorized' : 'Uncategorized'],\n          conversation: conversation,\n          // Include the Supabase fields with their values or defaults\n          role: lead.role || 'N/A',\n          company_data: lead.company_data || 'N/A',\n          personal_linkedin_url: lead.personal_linkedin_url || null,\n          business_linkedin_url: lead.business_linkedin_url || null,\n          linkedin_url: lead.linkedin_url || 'N/A',\n          phone: lead.phone || null\n          // Add any other relevant fields you want to include\n        };\n      });\n      setLeads(transformedLeads);\n    } catch (err) {\n      console.error('Error fetching leads:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to extract text from HTML and clean reply content\n  const extractTextFromHTML = html => {\n    if (!html) return '';\n\n    // First clean HTML tags and entities\n    let text = html.replace(/<[^>]*>/g, ' ').replace(/&nbsp;/g, ' ').replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&#39;/g, \"'\").replace(/&#x27;/g, \"'\").replace(/&apos;/g, \"'\").replace(/&quot;/g, '\"').replace(/&#34;/g, '\"').replace(/&#x22;/g, '\"').replace(/&#8217;/g, \"'\").replace(/&#8216;/g, \"'\").replace(/&#8220;/g, '\"').replace(/&#8221;/g, '\"').replace(/&#8211;/g, '-').replace(/&#8212;/g, '—').replace(/&#8230;/g, '...').replace(/&hellip;/g, '...').replace(/&mdash;/g, '—').replace(/&ndash;/g, '-').replace(/&rsquo;/g, \"'\").replace(/&lsquo;/g, \"'\").replace(/&rdquo;/g, '\"').replace(/&ldquo;/g, '\"').replace(/\\r\\n/g, '\\n').replace(/\\s+/g, ' ').trim();\n\n    // Extract only the new reply content (before common reply separators)\n    const replyIndicators = ['On ',\n    // \"On [date], [person] wrote:\"\n    'From:',\n    // \"From: [email]\"\n    '-----Original Message-----', '________________________________', '--- On ', 'Sent from my iPhone', 'Sent from my iPad', 'Get Outlook for', 'This email was sent to'];\n\n    // Find the first occurrence of any reply indicator\n    let cutoffIndex = text.length;\n    replyIndicators.forEach(indicator => {\n      const index = text.indexOf(indicator);\n      if (index !== -1 && index < cutoffIndex) {\n        cutoffIndex = index;\n      }\n    });\n\n    // Also look for common quote patterns like \"> \"\n    const lines = text.split('\\n');\n    let newReplyLines = [];\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n\n      // Stop if we hit quoted content (lines starting with >)\n      if (line.startsWith('>')) {\n        break;\n      }\n\n      // Stop if we hit a reply indicator\n      const hasReplyIndicator = replyIndicators.some(indicator => line.includes(indicator));\n      if (hasReplyIndicator) {\n        break;\n      }\n      newReplyLines.push(line);\n    }\n\n    // Use the shorter of the two methods\n    const methodOne = text.substring(0, cutoffIndex).trim();\n    const methodTwo = newReplyLines.join('\\n').trim();\n    const result = methodTwo.length > 0 && methodTwo.length < methodOne.length ? methodTwo : methodOne;\n    return result || text; // Fallback to original if extraction fails\n  };\n\n  // Lead category mapping\n  const leadCategoryMap = {\n    1: 'Interested',\n    2: 'Meeting Request',\n    3: 'Not Interested',\n    4: 'Do Not Contact',\n    5: 'Information Request',\n    6: 'Out Of Office',\n    7: 'Wrong Person',\n    8: 'Uncategorizable by AI',\n    9: 'Sender Originated Bounce'\n  };\n\n  // Available sort options\n  const sortOptions = [{\n    field: 'last_reply',\n    label: 'Most Recent Lead Reply',\n    getValue: lead => {\n      const lastReply = getLastResponseFromThem(lead.conversation);\n      return lastReply ? new Date(lastReply) : new Date(0);\n    }\n  }, {\n    field: 'last_sent',\n    label: 'Most Recent Sent Message',\n    getValue: lead => {\n      const lastSent = lead.conversation.filter(m => m.type === 'SENT');\n      return lastSent.length > 0 ? new Date(lastSent[lastSent.length - 1].time) : new Date(0);\n    }\n  }, {\n    field: 'intent',\n    label: 'Intent Score',\n    getValue: lead => lead.intent\n  }, {\n    field: 'engagement',\n    label: 'Engagement Score',\n    getValue: lead => lead.engagement_score\n  }, {\n    field: 'response_time',\n    label: 'Response Time',\n    getValue: lead => lead.response_time_avg\n  }, {\n    field: 'name',\n    label: 'Name (A-Z)',\n    getValue: lead => `${lead.first_name} ${lead.last_name}`.toLowerCase()\n  }, {\n    field: 'urgency',\n    label: 'Urgency Level',\n    getValue: lead => {\n      const urgency = getResponseUrgency(lead);\n      const urgencyOrder = {\n        'urgent-response': 4,\n        'needs-response': 3,\n        'needs-followup': 2,\n        'none': 1\n      };\n      return urgencyOrder[urgency] || 0;\n    }\n  }];\n\n  // State for UI controls\n  const [selectedLead, setSelectedLead] = useState(null);\n  const [sortBy, setSortBy] = useState('recent');\n  const [filterBy, setFilterBy] = useState('all');\n  const [responseFilter, setResponseFilter] = useState('all');\n  const [dateFilter, setDateFilter] = useState('all');\n  const [customStartDate, setCustomStartDate] = useState('');\n  const [customEndDate, setCustomEndDate] = useState('');\n  const [industryFilter, setIndustryFilter] = useState('all');\n  const [sourceFilter, setSourceFilter] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [draftResponse, setDraftResponse] = useState('');\n  const [isGeneratingDraft, setIsGeneratingDraft] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(true);\n\n  // Add state for collapsible sections - default to all open\n  const [activeSection, setActiveSection] = useState(['general', 'enrichment', 'engagement']);\n\n  // Analytics state\n  const [analyticsDateRange, setAnalyticsDateRange] = useState('30'); // days\n\n  // New state for editable email fields\n  const [editableToEmail, setEditableToEmail] = useState('');\n  const [editableCcEmails, setEditableCcEmails] = useState('');\n\n  // New state for rich text editor\n  const [showFormatting, setShowFormatting] = useState(false);\n  const [selectedText, setSelectedText] = useState('');\n  const [draftHtml, setDraftHtml] = useState('');\n\n  // New state for advanced sort/filter popups\n  const [showSortPopup, setShowSortPopup] = useState(false);\n  const [showFilterPopup, setShowFilterPopup] = useState(false);\n  const [activeSorts, setActiveSorts] = useState([{\n    field: 'last_reply',\n    direction: 'desc'\n  }]);\n  const [activeFilters, setActiveFilters] = useState({});\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [leadToDelete, setLeadToDelete] = useState(null);\n  const [showSentConfirm, setShowSentConfirm] = useState(false);\n\n  // Available filter options\n  const filterOptions = {\n    intent: {\n      label: 'Intent Score',\n      options: [{\n        value: 'high',\n        label: 'High Intent (7-10)'\n      }, {\n        value: 'medium',\n        label: 'Medium Intent (4-6)'\n      }, {\n        value: 'low',\n        label: 'Low Intent (1-3)'\n      }]\n    },\n    urgency: {\n      label: 'Urgency Status',\n      options: [{\n        value: 'urgent-response',\n        label: '🚨 Urgent Response Needed'\n      }, {\n        value: 'needs-response',\n        label: '⚡ Needs Response'\n      }, {\n        value: 'needs-followup',\n        label: '📞 Needs Followup'\n      }, {\n        value: 'none',\n        label: 'No Action Needed'\n      }]\n    },\n    category: {\n      label: 'Lead Category',\n      options: [{\n        value: '1',\n        label: 'Interested'\n      }, {\n        value: '2',\n        label: 'Meeting Request'\n      }, {\n        value: '3',\n        label: 'Not Interested'\n      }, {\n        value: '4',\n        label: 'Do Not Contact'\n      }, {\n        value: '5',\n        label: 'Information Request'\n      }, {\n        value: '6',\n        label: 'Out Of Office'\n      }, {\n        value: '7',\n        label: 'Wrong Person'\n      }, {\n        value: '8',\n        label: 'Uncategorizable by AI'\n      }, {\n        value: '9',\n        label: 'Sender Originated Bounce'\n      }]\n    },\n    engagement: {\n      label: 'Engagement Level',\n      options: [{\n        value: 'high',\n        label: 'High Engagement (80%+)'\n      }, {\n        value: 'medium',\n        label: 'Medium Engagement (50-79%)'\n      }, {\n        value: 'low',\n        label: 'Low Engagement (0-49%)'\n      }]\n    },\n    replies: {\n      label: 'Reply Status',\n      options: [{\n        value: 'has_replies',\n        label: 'Has Replies'\n      }, {\n        value: 'no_replies',\n        label: 'No Replies Yet'\n      }, {\n        value: 'multiple_replies',\n        label: 'Multiple Replies (2+)'\n      }]\n    },\n    timeframe: {\n      label: 'Last Activity',\n      options: [{\n        value: 'today',\n        label: 'Today'\n      }, {\n        value: 'yesterday',\n        label: 'Yesterday'\n      }, {\n        value: 'this_week',\n        label: 'This Week'\n      }, {\n        value: 'last_week',\n        label: 'Last Week'\n      }, {\n        value: 'this_month',\n        label: 'This Month'\n      }, {\n        value: 'older',\n        label: 'Older than 1 Month'\n      }]\n    }\n  };\n\n  // Handle adding sort\n  const handleAddSort = (field, direction = 'desc') => {\n    setActiveSorts(prev => {\n      const existing = prev.find(s => s.field === field);\n      if (existing) {\n        return prev.map(s => s.field === field ? {\n          ...s,\n          direction\n        } : s);\n      }\n      return [...prev, {\n        field,\n        direction\n      }];\n    });\n  };\n\n  // Handle removing sort\n  const handleRemoveSort = field => {\n    setActiveSorts(prev => prev.filter(s => s.field !== field));\n    if (activeSorts.length === 1) {\n      setActiveSorts([{\n        field: 'last_reply',\n        direction: 'desc'\n      }]); // Always have at least one sort\n    }\n  };\n\n  // Handle adding filter with validation\n  const handleAddFilter = (category, value) => {\n    if (!category || !value || !filterOptions[category]) {\n      console.warn('Invalid filter:', {\n        category,\n        value\n      });\n      return;\n    }\n\n    // Validate that the value exists in the options\n    const isValidValue = filterOptions[category].options.some(opt => opt.value === value);\n    if (!isValidValue) {\n      console.warn('Invalid filter value:', {\n        category,\n        value\n      });\n      return;\n    }\n    setActiveFilters(prev => ({\n      ...prev,\n      [category]: [...new Set([...(prev[category] || []), value])]\n    }));\n  };\n\n  // Handle removing filter with validation\n  const handleRemoveFilter = (category, value) => {\n    if (!category || !value || !activeFilters[category]) {\n      console.warn('Invalid filter removal:', {\n        category,\n        value\n      });\n      return;\n    }\n    setActiveFilters(prev => {\n      const updated = {\n        ...prev\n      };\n      if (updated[category]) {\n        updated[category] = updated[category].filter(v => v !== value);\n        if (updated[category].length === 0) {\n          delete updated[category];\n        }\n      }\n      return updated;\n    });\n  };\n\n  // Clear all filters\n  const handleClearAllFilters = () => {\n    setActiveFilters({});\n    // Reset any related filter states\n    setShowFilterPopup(false);\n  };\n\n  // Handle delete lead\n  const handleDeleteLead = async lead => {\n    try {\n      console.log('Deleting lead:', lead);\n\n      // Send all lead data to delete webhook\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/bfffab96-188f-4a4a-9ae2-62aa9e0a02f4', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n      console.log('Delete response status:', response.status);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Delete webhook error:', errorText);\n        throw new Error(`Failed to delete lead: ${response.status}`);\n      }\n      console.log('Lead deleted successfully');\n\n      // Remove from local state immediately for better UX\n      setLeads(prevLeads => prevLeads.filter(l => l.id !== lead.id));\n\n      // If this was the selected lead, clear selection\n      if ((selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id) {\n        setSelectedLead(null);\n      }\n\n      // Close confirmation popup\n      setShowDeleteConfirm(false);\n      setLeadToDelete(null);\n    } catch (error) {\n      console.error('Error deleting lead:', error);\n      alert(`Error deleting lead: ${error.message}`);\n      setShowDeleteConfirm(false);\n      setLeadToDelete(null);\n    }\n  };\n\n  // Show delete confirmation\n  const showDeleteConfirmation = lead => {\n    setLeadToDelete(lead);\n    setShowDeleteConfirm(true);\n  };\n  const availableStages = ['initial-outreach', 'engaged', 'pricing-discussion', 'samples-requested', 'call-scheduled', 'considering', 'stalled', 'no-response', 'rejected', 'active'];\n\n  // Update lead stage\n  const updateLeadStage = (leadId, newStage) => {\n    setLeads(prevLeads => prevLeads.map(lead => lead.id === leadId ? {\n      ...lead,\n      stage: newStage\n    } : lead));\n  };\n\n  // Calculate dashboard metrics\n  const dashboardMetrics = useMemo(() => {\n    const totalLeads = leads.length;\n    const highIntentLeads = leads.filter(lead => lead.intent >= 7).length;\n    const avgResponseTime = leads.reduce((sum, lead) => sum + lead.response_time_avg, 0) / totalLeads;\n    const avgEngagement = leads.reduce((sum, lead) => sum + lead.engagement_score, 0) / totalLeads;\n    const urgentResponse = leads.filter(lead => getResponseUrgency(lead) === 'urgent-response').length;\n    const needsResponse = leads.filter(lead => getResponseUrgency(lead) === 'needs-response').length;\n    const needsFollowup = leads.filter(lead => getResponseUrgency(lead) === 'needs-followup').length;\n    return {\n      totalLeads,\n      highIntentLeads,\n      avgResponseTime,\n      avgEngagement,\n      urgentResponse,\n      needsResponse,\n      needsFollowup\n    };\n  }, [leads]);\n\n  // Message patterns for our outbound messages\n  const MESSAGE_PATTERNS = {\n    questions: ['?', 'what', 'how', 'when', 'where', 'why', 'could', 'would', 'interested', 'thoughts'],\n    calls: ['call', 'meeting', 'schedule', 'discuss', 'chat', 'talk', 'meet', 'zoom', 'teams', 'connect'],\n    pricing: ['price', 'cost', 'budget', 'investment', 'pricing', 'package', 'quote', 'plan', 'rate'],\n    value_props: ['help', 'improve', 'increase', 'reduce', 'save', 'better', 'solution', 'roi', 'results', 'benefit']\n  };\n\n  // Calculate analytics data\n  const analyticsData = useMemo(() => {\n    if (!leads.length) return null;\n\n    // Filter leads by date range\n    const daysBack = parseInt(analyticsDateRange);\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - daysBack);\n    const filteredLeads = leads.filter(lead => {\n      const leadDate = new Date(lead.created_at);\n      return leadDate >= cutoffDate;\n    });\n\n    // Analyze message content and patterns\n    const messageAnalysis = filteredLeads.flatMap(lead => lead.conversation.filter(msg => msg.type === 'SENT').map(msg => {\n      const content = msg.content.toLowerCase();\n      const wordCount = content.split(/\\s+/).length;\n\n      // Check for pattern matches in our outbound messages\n      const hasQuestion = MESSAGE_PATTERNS.questions.some(q => content.includes(q));\n      const hasCall = MESSAGE_PATTERNS.calls.some(c => content.includes(c));\n      const hasPricing = MESSAGE_PATTERNS.pricing.some(p => content.includes(p));\n      const hasValueProp = MESSAGE_PATTERNS.value_props.some(v => content.includes(v));\n\n      // Get next message if exists\n      const msgIndex = lead.conversation.indexOf(msg);\n      const nextMsg = lead.conversation[msgIndex + 1];\n      const gotReply = nextMsg && nextMsg.type === 'REPLY';\n      const replyTime = gotReply ? new Date(nextMsg.time) - new Date(msg.time) : null;\n      return {\n        wordCount,\n        hasQuestion,\n        hasCall,\n        hasPricing,\n        hasValueProp,\n        gotReply,\n        replyTime\n      };\n    }));\n\n    // Calculate what works\n    const copyInsights = {\n      // Message length analysis\n      totalMessages: messageAnalysis.length,\n      avgWordCount: messageAnalysis.reduce((sum, m) => sum + m.wordCount, 0) / messageAnalysis.length,\n      // Pattern success rates\n      withQuestions: {\n        total: messageAnalysis.filter(m => m.hasQuestion).length,\n        success: messageAnalysis.filter(m => m.hasQuestion && m.gotReply).length\n      },\n      withCalls: {\n        total: messageAnalysis.filter(m => m.hasCall).length,\n        success: messageAnalysis.filter(m => m.hasCall && m.gotReply).length\n      },\n      withPricing: {\n        total: messageAnalysis.filter(m => m.hasPricing).length,\n        success: messageAnalysis.filter(m => m.hasPricing && m.gotReply).length\n      },\n      withValueProps: {\n        total: messageAnalysis.filter(m => m.hasValueProp).length,\n        success: messageAnalysis.filter(m => m.hasValueProp && m.gotReply).length\n      },\n      // Length effectiveness\n      lengthBreakdown: [{\n        range: '< 50 words',\n        messages: messageAnalysis.filter(m => m.wordCount < 50).length,\n        replies: messageAnalysis.filter(m => m.wordCount < 50 && m.gotReply).length\n      }, {\n        range: '50-100 words',\n        messages: messageAnalysis.filter(m => m.wordCount >= 50 && m.wordCount < 100).length,\n        replies: messageAnalysis.filter(m => m.wordCount >= 50 && m.wordCount < 100 && m.gotReply).length\n      }, {\n        range: '100-200 words',\n        messages: messageAnalysis.filter(m => m.wordCount >= 100 && m.wordCount < 200).length,\n        replies: messageAnalysis.filter(m => m.wordCount >= 100 && m.wordCount < 200 && m.gotReply).length\n      }, {\n        range: '200+ words',\n        messages: messageAnalysis.filter(m => m.wordCount >= 200).length,\n        replies: messageAnalysis.filter(m => m.wordCount >= 200 && m.gotReply).length\n      }],\n      // Response time by pattern\n      avgReplyTime: {\n        withQuestion: messageAnalysis.filter(m => m.hasQuestion && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) / messageAnalysis.filter(m => m.hasQuestion && m.replyTime).length / (1000 * 60 * 60),\n        // Convert to hours\n        withCall: messageAnalysis.filter(m => m.hasCall && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) / messageAnalysis.filter(m => m.hasCall && m.replyTime).length / (1000 * 60 * 60),\n        withPricing: messageAnalysis.filter(m => m.hasPricing && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) / messageAnalysis.filter(m => m.hasPricing && m.replyTime).length / (1000 * 60 * 60),\n        withValueProp: messageAnalysis.filter(m => m.hasValueProp && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) / messageAnalysis.filter(m => m.hasValueProp && m.replyTime).length / (1000 * 60 * 60)\n      }\n    };\n\n    // Overall metrics (meaningful for response inbox)\n    const totalLeads = filteredLeads.length;\n    const leadsWithMultipleReplies = filteredLeads.filter(lead => lead.conversation.filter(msg => msg.type === 'REPLY').length >= 2).length;\n    const engagementRate = totalLeads > 0 ? leadsWithMultipleReplies / totalLeads * 100 : 0;\n\n    // Average replies per lead (more meaningful than response rate)\n    const totalReplies = filteredLeads.reduce((sum, lead) => sum + lead.conversation.filter(msg => msg.type === 'REPLY').length, 0);\n    const avgRepliesPerLead = totalLeads > 0 ? totalReplies / totalLeads : 0;\n\n    // Response time analysis\n    const responseTimesByLead = filteredLeads.map(lead => lead.response_time_avg).filter(time => time > 0);\n    const avgResponseTime = responseTimesByLead.length > 0 ? responseTimesByLead.reduce((sum, time) => sum + time, 0) / responseTimesByLead.length : 0;\n\n    // Response time distribution\n    const responseTimeDistribution = {\n      under1h: responseTimesByLead.filter(time => time < 1).length,\n      '1to4h': responseTimesByLead.filter(time => time >= 1 && time < 4).length,\n      '4to24h': responseTimesByLead.filter(time => time >= 4 && time < 24).length,\n      over24h: responseTimesByLead.filter(time => time >= 24).length\n    };\n\n    // Campaign performance (meaningful metrics for response inbox)\n    const campaignPerformance = filteredLeads.reduce((acc, lead) => {\n      const campaignId = lead.campaign_id || 'Unknown Campaign';\n      if (!acc[campaignId]) {\n        acc[campaignId] = {\n          name: `Campaign ${campaignId}`,\n          totalLeads: 0,\n          totalReplies: 0,\n          totalIntent: 0,\n          totalEngagement: 0,\n          responseTimes: [],\n          conversationDepths: []\n        };\n      }\n      acc[campaignId].totalLeads++;\n      acc[campaignId].totalIntent += lead.intent;\n      acc[campaignId].totalEngagement += lead.engagement_score;\n      const replyCount = lead.conversation.filter(msg => msg.type === 'REPLY').length;\n      acc[campaignId].totalReplies += replyCount;\n      acc[campaignId].conversationDepths.push(lead.conversation.length);\n      if (lead.response_time_avg > 0) {\n        acc[campaignId].responseTimes.push(lead.response_time_avg);\n      }\n      return acc;\n    }, {});\n\n    // Calculate campaign averages and sort by engagement score\n    const campaignStats = Object.values(campaignPerformance).map(campaign => ({\n      ...campaign,\n      avgRepliesPerLead: campaign.totalLeads > 0 ? campaign.totalReplies / campaign.totalLeads : 0,\n      avgIntent: campaign.totalLeads > 0 ? campaign.totalIntent / campaign.totalLeads : 0,\n      avgEngagement: campaign.totalLeads > 0 ? campaign.totalEngagement / campaign.totalLeads : 0,\n      avgResponseTime: campaign.responseTimes.length > 0 ? campaign.responseTimes.reduce((sum, time) => sum + time, 0) / campaign.responseTimes.length : 0,\n      avgConversationDepth: campaign.conversationDepths.length > 0 ? campaign.conversationDepths.reduce((sum, depth) => sum + depth, 0) / campaign.conversationDepths.length : 0\n    })).sort((a, b) => b.avgEngagement - a.avgEngagement);\n\n    // Lead category performance (meaningful metrics for response inbox)\n    const categoryPerformance = filteredLeads.reduce((acc, lead) => {\n      const category = lead.tags && lead.tags[0] ? lead.tags[0] : 'Uncategorized';\n      if (!acc[category]) {\n        acc[category] = {\n          totalLeads: 0,\n          totalReplies: 0,\n          totalEngagement: 0,\n          responseTimes: [],\n          conversationDepths: []\n        };\n      }\n      acc[category].totalLeads++;\n      acc[category].totalReplies += lead.conversation.filter(msg => msg.type === 'REPLY').length;\n      acc[category].totalEngagement += lead.engagement_score;\n      acc[category].conversationDepths.push(lead.conversation.length);\n      if (lead.response_time_avg > 0) {\n        acc[category].responseTimes.push(lead.response_time_avg);\n      }\n      return acc;\n    }, {});\n    const categoryStats = Object.entries(categoryPerformance).map(([category, data]) => ({\n      category,\n      totalLeads: data.totalLeads,\n      avgRepliesPerLead: data.totalLeads > 0 ? data.totalReplies / data.totalLeads : 0,\n      avgEngagement: data.totalLeads > 0 ? data.totalEngagement / data.totalLeads : 0,\n      avgResponseTime: data.responseTimes.length > 0 ? data.responseTimes.reduce((sum, time) => sum + time, 0) / data.responseTimes.length : 0,\n      avgConversationDepth: data.conversationDepths.length > 0 ? data.conversationDepths.reduce((sum, depth) => sum + depth, 0) / data.conversationDepths.length : 0\n    })).sort((a, b) => b.avgEngagement - a.avgEngagement);\n\n    // Intent vs Engagement correlation (more meaningful than response rate)\n    const intentCorrelation = [{\n      intent: 'High (7-10)',\n      avgReplies: filteredLeads.filter(l => l.intent >= 7).length > 0 ? filteredLeads.filter(l => l.intent >= 7).reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / filteredLeads.filter(l => l.intent >= 7).length : 0,\n      count: filteredLeads.filter(l => l.intent >= 7).length\n    }, {\n      intent: 'Medium (4-6)',\n      avgReplies: filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length > 0 ? filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length : 0,\n      count: filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length\n    }, {\n      intent: 'Low (1-3)',\n      avgReplies: filteredLeads.filter(l => l.intent < 4).length > 0 ? filteredLeads.filter(l => l.intent < 4).reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / filteredLeads.filter(l => l.intent < 4).length : 0,\n      count: filteredLeads.filter(l => l.intent < 4).length\n    }];\n\n    // Time/Day heatmap analysis\n    const replyMessages = filteredLeads.flatMap(lead => lead.conversation.filter(msg => msg.type === 'REPLY').map(msg => ({\n      ...msg,\n      date: new Date(msg.time),\n      hour: new Date(msg.time).getHours(),\n      dayOfWeek: new Date(msg.time).getDay() // 0=Sunday, 1=Monday, etc\n    })));\n\n    // Create heatmap data structure\n    const heatmapData = Array.from({\n      length: 7\n    }, (_, day) => Array.from({\n      length: 24\n    }, (_, hour) => ({\n      day,\n      hour,\n      count: replyMessages.filter(msg => msg.dayOfWeek === day && msg.hour === hour).length,\n      dayName: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][day]\n    }))).flat();\n\n    // Peak activity times\n    const maxCount = Math.max(...heatmapData.map(d => d.count));\n    const peakHour = heatmapData.find(d => d.count === maxCount);\n\n    // Response trends (daily) - showing engagement trends instead\n    const last30Days = Array.from({\n      length: Math.min(daysBack, 30)\n    }, (_, i) => {\n      const date = new Date();\n      date.setDate(date.getDate() - i);\n      return date.toISOString().split('T')[0];\n    }).reverse();\n    const responseTrends = last30Days.map(dateStr => {\n      const dayReplies = replyMessages.filter(msg => msg.time.split('T')[0] === dateStr);\n      return {\n        date: dateStr,\n        replyCount: dayReplies.length,\n        avgResponseTime: dayReplies.length > 0 ? dayReplies.reduce((sum, msg) => sum + (msg.response_time || 0), 0) / dayReplies.length : 0\n      };\n    });\n    return {\n      totalLeads,\n      leadsWithMultipleReplies,\n      engagementRate,\n      avgRepliesPerLead,\n      avgResponseTime,\n      responseTimeDistribution,\n      campaignStats: campaignStats.slice(0, 10),\n      // Top 10 campaigns\n      categoryStats,\n      intentCorrelation,\n      responseTrends,\n      heatmapData,\n      peakHour,\n      maxCount,\n      totalReplies,\n      dateRange: daysBack,\n      copyInsights // Add copy insights to analytics data\n    };\n  }, [leads, analyticsDateRange]);\n\n  // Get intent color and label - NO COLORS, only for circles\n  const getIntentStyle = intent => {\n    return {\n      bg: '',\n      border: '',\n      text: 'text-white',\n      label: intent >= 7 ? 'High Intent' : intent >= 4 ? 'Medium Intent' : 'Low Intent'\n    };\n  };\n\n  // Get engagement color\n  const getEngagementColor = score => {\n    if (score >= 90) return 'text-green-600';\n    if (score >= 75) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  // Enhanced filter and sort leads\n  const filteredAndSortedLeads = useMemo(() => {\n    try {\n      if (!leads || !Array.isArray(leads)) {\n        return [];\n      }\n      let filtered = leads.slice(); // Create a copy\n\n      // Apply tab filter first\n      if (activeTab === 'need_response') {\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead || !lead.conversation || !Array.isArray(lead.conversation) || lead.conversation.length === 0) {\n              return false;\n            }\n            const lastMessage = lead.conversation[lead.conversation.length - 1];\n            return lastMessage && lastMessage.type === 'REPLY';\n          } catch (e) {\n            console.warn('Error filtering need_response:', e);\n            return false;\n          }\n        });\n      } else if (activeTab === 'recently_sent') {\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead || !lead.conversation || !Array.isArray(lead.conversation) || lead.conversation.length === 0) {\n              return false;\n            }\n            const lastMessage = lead.conversation[lead.conversation.length - 1];\n            if (!lastMessage || !lastMessage.time || lastMessage.type !== 'SENT') {\n              return false;\n            }\n            const timeSinceLastMessage = Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60));\n            return timeSinceLastMessage <= 24;\n          } catch (e) {\n            console.warn('Error filtering recently_sent:', e);\n            return false;\n          }\n        });\n      }\n\n      // Apply search filter\n      if (searchQuery && typeof searchQuery === 'string' && searchQuery.trim()) {\n        const query = searchQuery.toLowerCase().trim();\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead) return false;\n            const firstName = (lead.first_name || '').toLowerCase();\n            const lastName = (lead.last_name || '').toLowerCase();\n            const email = (lead.email || '').toLowerCase();\n            const subject = (lead.subject || '').toLowerCase();\n            let tagsMatch = false;\n            if (lead.tags && Array.isArray(lead.tags)) {\n              tagsMatch = lead.tags.some(tag => {\n                return tag && typeof tag === 'string' && tag.toLowerCase().includes(query);\n              });\n            }\n            return firstName.includes(query) || lastName.includes(query) || email.includes(query) || subject.includes(query) || tagsMatch;\n          } catch (e) {\n            console.warn('Error in search filter:', e);\n            return false;\n          }\n        });\n      }\n\n      // Apply advanced filters\n      if (activeFilters && typeof activeFilters === 'object') {\n        for (const [category, values] of Object.entries(activeFilters)) {\n          if (!values || !Array.isArray(values) || values.length === 0) continue;\n          filtered = filtered.filter(lead => {\n            try {\n              if (!lead) return false;\n              return values.some(value => {\n                if (!value) return false;\n                switch (category) {\n                  case 'intent':\n                    if (typeof lead.intent !== 'number') return false;\n                    if (value === 'high') return lead.intent >= 7;\n                    if (value === 'medium') return lead.intent >= 4 && lead.intent <= 6;\n                    if (value === 'low') return lead.intent <= 3;\n                    return false;\n                  case 'urgency':\n                    try {\n                      const urgency = getResponseUrgency(lead);\n                      return value === urgency;\n                    } catch (e) {\n                      console.warn('Error checking urgency:', e);\n                      return false;\n                    }\n                  case 'category':\n                    return lead.lead_category && lead.lead_category.toString() === value;\n                  case 'engagement':\n                    if (typeof lead.engagement_score !== 'number') return false;\n                    if (value === 'high') return lead.engagement_score >= 80;\n                    if (value === 'medium') return lead.engagement_score >= 50 && lead.engagement_score < 80;\n                    if (value === 'low') return lead.engagement_score < 50;\n                    return false;\n                  case 'replies':\n                    try {\n                      let replyCount = 0;\n                      if (lead.conversation && Array.isArray(lead.conversation)) {\n                        replyCount = lead.conversation.filter(m => m && m.type === 'REPLY').length;\n                      }\n                      if (value === 'has_replies') return replyCount > 0;\n                      if (value === 'no_replies') return replyCount === 0;\n                      if (value === 'multiple_replies') return replyCount >= 2;\n                      return false;\n                    } catch (e) {\n                      console.warn('Error checking replies:', e);\n                      return false;\n                    }\n                  case 'timeframe':\n                    try {\n                      let lastActivity;\n                      if (lead.conversation && Array.isArray(lead.conversation) && lead.conversation.length > 0) {\n                        const lastMessage = lead.conversation[lead.conversation.length - 1];\n                        lastActivity = lastMessage && lastMessage.time ? new Date(lastMessage.time) : new Date(lead.created_at || Date.now());\n                      } else {\n                        lastActivity = new Date(lead.created_at || Date.now());\n                      }\n                      const daysDiff = (new Date() - lastActivity) / (1000 * 60 * 60 * 24);\n                      if (value === 'today') return daysDiff >= 0 && daysDiff < 1;\n                      if (value === 'yesterday') return daysDiff >= 1 && daysDiff < 2;\n                      if (value === 'this_week') return daysDiff <= 7;\n                      if (value === 'last_week') return daysDiff > 7 && daysDiff <= 14;\n                      if (value === 'this_month') return daysDiff <= 30;\n                      if (value === 'older') return daysDiff > 30;\n                      return false;\n                    } catch (e) {\n                      console.warn('Error checking timeframe:', e);\n                      return false;\n                    }\n                  default:\n                    return false;\n                }\n              });\n            } catch (e) {\n              console.warn('Error in advanced filter:', e);\n              return false;\n            }\n          });\n        }\n      }\n      return filtered;\n    } catch (e) {\n      console.error('Error in filteredAndSortedLeads:', e);\n      return leads || [];\n    }\n  }, [leads, searchQuery, activeFilters, activeTab]);\n\n  // Auto-populate email fields and restore drafts when lead is selected\n  useEffect(() => {\n    if (selectedLead) {\n      // Add to recently viewed\n      addToRecentlyViewed(selectedLead);\n\n      // Restore draft if exists\n      const savedDraft = drafts[selectedLead.id];\n      if (savedDraft) {\n        setDraftResponse(savedDraft.content);\n        setDraftHtml(savedDraft.htmlContent || '');\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = savedDraft.htmlContent || savedDraft.content.replace(/\\n/g, '<br>');\n        }\n      } else {\n        // Clear draft if no saved content\n        setDraftResponse('');\n        setDraftHtml('');\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = '';\n        }\n      }\n      if (selectedLead.conversation.length > 0) {\n        const lastMessage = selectedLead.conversation[selectedLead.conversation.length - 1];\n\n        // Dynamically detect our email addresses from SENT messages\n        const getOurEmails = () => {\n          const ourEmails = new Set();\n          selectedLead.conversation.forEach(msg => {\n            if (msg.type === 'SENT' && msg.from) {\n              ourEmails.add(msg.from);\n            }\n          });\n          return Array.from(ourEmails);\n        };\n\n        // Get all unique email participants from the conversation (excluding our emails)\n        const getAllParticipants = () => {\n          const participants = new Set();\n          const ourEmails = getOurEmails();\n\n          // Go through conversation to find all unique email addresses\n          selectedLead.conversation.forEach(msg => {\n            if (msg.from) participants.add(msg.from);\n            if (msg.to) participants.add(msg.to);\n            if (msg.cc && Array.isArray(msg.cc) && msg.cc.length > 0) {\n              msg.cc.forEach(ccEntry => {\n                if (ccEntry.address) participants.add(ccEntry.address);\n              });\n            }\n          });\n\n          // Remove our own emails dynamically\n          ourEmails.forEach(email => participants.delete(email));\n          return Array.from(participants);\n        };\n\n        // Determine recipients based on the last message\n        let primaryRecipient = '';\n        let ccRecipients = [];\n        if (lastMessage.type === 'REPLY') {\n          // If they replied, send back to the sender and CC everyone else who was involved\n          primaryRecipient = lastMessage.from;\n\n          // Get all other participants for CC (excluding the primary recipient)\n          const allParticipants = getAllParticipants();\n          ccRecipients = allParticipants.filter(email => email !== primaryRecipient);\n        } else {\n          // If we sent last, use the same recipients as the last sent message\n          primaryRecipient = lastMessage.to || selectedLead.email;\n\n          // Only add CC if the last message actually had CC recipients\n          if (lastMessage.cc && Array.isArray(lastMessage.cc) && lastMessage.cc.length > 0) {\n            ccRecipients = lastMessage.cc.map(cc => cc.address).filter(email => email && email.trim() !== '');\n          }\n        }\n        setEditableToEmail(primaryRecipient || selectedLead.email);\n        setEditableCcEmails(ccRecipients.join(', '));\n      } else {\n        // Fallback to original lead email if no conversation\n        setEditableToEmail(selectedLead.email);\n        setEditableCcEmails('');\n      }\n    }\n  }, [selectedLead]);\n  const calculateEngagementScore = conversation => {\n    const replies = conversation.filter(m => m.type === 'REPLY').length;\n    const sent = conversation.filter(m => m.type === 'SENT').length;\n    if (sent === 0) return 0;\n    let score = 0;\n\n    // Response rate (60 points max)\n    score += Math.min(replies / sent * 60, 60);\n\n    // Response speed bonus (40 points max)\n    const avgResponse = conversation.filter(m => m.response_time).reduce((sum, m) => sum + m.response_time, 0) / Math.max(replies, 1);\n    if (avgResponse < 1) score += 40; // Under 1 hour = 40 points\n    else if (avgResponse < 4) score += 30; // Under 4 hours = 30 points  \n    else if (avgResponse < 24) score += 20; // Under 1 day = 20 points\n    else if (avgResponse < 72) score += 10; // Under 3 days = 10 points\n\n    return Math.round(Math.min(score, 100));\n  };\n\n  // Check if lead needs reply (they replied last)\n  const checkNeedsReply = conversation => {\n    if (!conversation || conversation.length === 0) return false;\n    const lastMessage = conversation[conversation.length - 1];\n    return lastMessage && lastMessage.type === 'REPLY';\n  };\n\n  // Auto-generate tags based on conversation - DISABLED\n  const generateAutoTags = (conversation, lead) => {\n    // Only return the lead category tag\n    return lead.tags || [];\n  };\n\n  // Detect conversation stage\n  const detectConversationStage = conversation => {\n    const allText = conversation.map(m => m.content.toLowerCase()).join(' ');\n    const replies = conversation.filter(m => m.type === 'REPLY');\n    const lastMessage = conversation[conversation.length - 1];\n    const daysSinceLastMessage = (new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60 * 24);\n\n    // No replies yet\n    if (replies.length === 0) {\n      if (daysSinceLastMessage > 7) return 'no-response';\n      return 'initial-outreach';\n    }\n\n    // Has replies - analyze content and timing\n    if (allText.includes('not interested') || allText.includes('no thanks')) {\n      return 'rejected';\n    }\n    if (allText.includes('price') || allText.includes('cost') || allText.includes('budget')) {\n      return 'pricing-discussion';\n    }\n    if (allText.includes('sample') || allText.includes('example') || allText.includes('portfolio')) {\n      return 'samples-requested';\n    }\n    if (allText.includes('call') || allText.includes('meeting') || allText.includes('schedule')) {\n      return 'call-scheduled';\n    }\n    if (allText.includes('think about') || allText.includes('discuss with team') || allText.includes('get back')) {\n      return 'considering';\n    }\n\n    // Check for stalled conversations\n    if (daysSinceLastMessage > 7) {\n      return 'stalled';\n    }\n\n    // Active conversation with positive engagement\n    if (replies.length > 0 && (allText.includes('interested') || allText.includes('yes') || allText.includes('sure'))) {\n      return 'engaged';\n    }\n    return 'active';\n  };\n\n  // Get stage styling\n  const getStageStyle = stage => {\n    const styles = {\n      'initial-outreach': {\n        bg: 'bg-blue-100',\n        text: 'text-blue-800',\n        label: 'Initial Outreach'\n      },\n      'engaged': {\n        bg: 'bg-green-100',\n        text: 'text-green-800',\n        label: 'Engaged'\n      },\n      'pricing-discussion': {\n        bg: 'bg-purple-100',\n        text: 'text-purple-800',\n        label: 'Pricing Discussion'\n      },\n      'samples-requested': {\n        bg: 'bg-orange-100',\n        text: 'text-orange-800',\n        label: 'Samples Requested'\n      },\n      'call-scheduled': {\n        bg: 'bg-cyan-100',\n        text: 'text-cyan-800',\n        label: 'Call Scheduled'\n      },\n      'considering': {\n        bg: 'bg-yellow-100',\n        text: 'text-yellow-800',\n        label: 'Considering'\n      },\n      'stalled': {\n        bg: 'bg-red-100',\n        text: 'text-red-800',\n        label: 'Stalled'\n      },\n      'no-response': {\n        bg: 'bg-gray-100',\n        text: 'text-gray-800',\n        label: 'No Response'\n      },\n      'rejected': {\n        bg: 'bg-red-100',\n        text: 'text-red-800',\n        label: 'Rejected'\n      },\n      'active': {\n        bg: 'bg-blue-100',\n        text: 'text-blue-800',\n        label: 'Active'\n      }\n    };\n    return styles[stage] || styles['active'];\n  };\n\n  // Format timestamp\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleString();\n  };\n\n  // Format currency\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount);\n  };\n\n  // Rich text formatting functions\n  const formatText = (command, value = null) => {\n    document.execCommand(command, false, value);\n  };\n  const insertLink = () => {\n    const selection = window.getSelection();\n    const selectedText = selection.toString().trim();\n    const range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n    const editor = document.querySelector('[contenteditable]');\n\n    // Create modal with clean styling\n    const modal = document.createElement('div');\n    modal.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n    `;\n    const content = document.createElement('div');\n    content.style.cssText = `\n      background: #1A1C1A;\n      border: 1px solid rgba(255, 255, 255, 0.2);\n      border-radius: 8px;\n      padding: 24px;\n      width: 400px;\n      max-width: 90vw;\n    `;\n\n    // Title\n    const title = document.createElement('h3');\n    title.textContent = 'Insert Link';\n    title.style.cssText = `\n      color: white;\n      font-weight: bold;\n      margin: 0 0 20px 0;\n      font-size: 16px;\n    `;\n\n    // Text input\n    const textContainer = document.createElement('div');\n    textContainer.style.marginBottom = '16px';\n    const textLabel = document.createElement('label');\n    textLabel.textContent = 'Text to display:';\n    textLabel.style.cssText = `\n      display: block;\n      color: white;\n      font-size: 12px;\n      margin-bottom: 4px;\n    `;\n    const textInput = document.createElement('input');\n    textInput.type = 'text';\n    textInput.value = selectedText;\n    textInput.placeholder = 'Link text';\n    textInput.style.cssText = `\n          width: 100%;\n          padding: 8px 12px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          border-radius: 6px;\n          background: rgba(255, 255, 255, 0.05);\n          color: white;\n      font-size: 14px;\n      box-sizing: border-box;\n      outline: none;\n    `;\n\n    // URL input\n    const urlContainer = document.createElement('div');\n    urlContainer.style.marginBottom = '24px';\n    const urlLabel = document.createElement('label');\n    urlLabel.textContent = 'URL:';\n    urlLabel.style.cssText = textLabel.style.cssText;\n    const urlInput = document.createElement('input');\n    urlInput.type = 'text';\n    urlInput.placeholder = 'https://example.com';\n    urlInput.style.cssText = textInput.style.cssText;\n\n    // Error message\n    const errorMessage = document.createElement('div');\n    errorMessage.style.cssText = `\n      color: #ff4444;\n      font-size: 12px;\n          margin-bottom: 16px;\n      min-height: 16px;\n    `;\n\n    // Buttons\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.style.cssText = `\n      display: flex;\n      justify-content: flex-end;\n      gap: 8px;\n    `;\n    const cancelButton = document.createElement('button');\n    cancelButton.textContent = 'Cancel';\n    cancelButton.style.cssText = `\n            padding: 8px 16px;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 6px;\n            background: rgba(255, 255, 255, 0.05);\n            color: white;\n            cursor: pointer;\n      font-size: 14px;\n    `;\n    const insertButton = document.createElement('button');\n    insertButton.textContent = 'Insert Link';\n    insertButton.style.cssText = `\n            padding: 8px 16px;\n            border: none;\n            border-radius: 6px;\n            background: #54FCFF;\n            color: #1A1C1A;\n            cursor: pointer;\n            font-weight: bold;\n      font-size: 14px;\n    `;\n\n    // Assemble the modal\n    textContainer.appendChild(textLabel);\n    textContainer.appendChild(textInput);\n    urlContainer.appendChild(urlLabel);\n    urlContainer.appendChild(urlInput);\n    buttonsContainer.appendChild(cancelButton);\n    buttonsContainer.appendChild(insertButton);\n    content.appendChild(title);\n    content.appendChild(textContainer);\n    content.appendChild(urlContainer);\n    content.appendChild(errorMessage);\n    content.appendChild(buttonsContainer);\n    modal.appendChild(content);\n    document.body.appendChild(modal);\n\n    // Focus URL input if text is selected, otherwise focus text input\n    setTimeout(() => {\n      if (selectedText) {\n        urlInput.focus();\n      } else {\n        textInput.focus();\n      }\n    }, 50);\n    const validateAndInsert = () => {\n      const text = textInput.value.trim();\n      let url = urlInput.value.trim();\n\n      // Validate inputs\n      if (!text) {\n        errorMessage.textContent = 'Please enter the text to display';\n        return;\n      }\n      if (!url) {\n        errorMessage.textContent = 'Please enter a URL';\n        return;\n      }\n\n      // Add protocol if missing\n      if (!url.startsWith('http://') && !url.startsWith('https://')) {\n        url = 'https://' + url;\n      }\n\n      // Validate URL format\n      try {\n        new URL(url);\n      } catch (e) {\n        errorMessage.textContent = 'Please enter a valid URL';\n        return;\n      }\n      if (range && editor) {\n        // Create link wrapper div to help with positioning the remove button\n        const linkWrapper = document.createElement('span');\n        linkWrapper.style.position = 'relative';\n        linkWrapper.style.display = 'inline-block';\n\n        // Create the link\n        const link = document.createElement('a');\n        link.href = url;\n        link.textContent = text;\n        link.target = '_blank';\n        link.rel = 'noopener noreferrer';\n        link.style.cssText = `\n          color: #0066cc;\n          text-decoration: underline;\n          cursor: pointer;\n        `;\n\n        // Create remove button (always visible)\n        const removeBtn = document.createElement('span');\n        removeBtn.textContent = '×';\n        removeBtn.style.cssText = `\n          position: absolute;\n          top: -8px;\n          right: -12px;\n          background: #e0e0e0;\n          color: #333;\n          border-radius: 50%;\n          width: 16px;\n          height: 16px;\n          font-size: 12px;\n          line-height: 16px;\n          text-align: center;\n          cursor: pointer;\n          user-select: none;\n          opacity: 0;\n          transition: opacity 0.2s;\n        `;\n\n        // Show/hide remove button on hover\n        linkWrapper.addEventListener('mouseenter', () => {\n          removeBtn.style.opacity = '1';\n          link.style.color = '#004499';\n        });\n        linkWrapper.addEventListener('mouseleave', () => {\n          removeBtn.style.opacity = '0';\n          link.style.color = '#0066cc';\n        });\n\n        // Handle remove button click\n        removeBtn.addEventListener('click', e => {\n          e.preventDefault();\n          e.stopPropagation();\n          const text = document.createTextNode(link.textContent);\n          linkWrapper.parentNode.replaceChild(text, linkWrapper);\n          handleTextareaChange({\n            target: editor\n          });\n        });\n\n        // Assemble the link component\n        linkWrapper.appendChild(link);\n        linkWrapper.appendChild(removeBtn);\n\n        // Insert into document\n        range.deleteContents();\n        range.insertNode(linkWrapper);\n\n        // Update editor content\n        handleTextareaChange({\n          target: editor\n        });\n      }\n\n      // Close modal\n      document.body.removeChild(modal);\n    };\n\n    // Event Listeners\n    cancelButton.addEventListener('click', () => document.body.removeChild(modal));\n    insertButton.addEventListener('click', validateAndInsert);\n\n    // Handle Enter key\n    [textInput, urlInput].forEach(input => {\n      input.addEventListener('keydown', e => {\n        if (e.key === 'Enter') {\n          e.preventDefault();\n          validateAndInsert();\n        }\n      });\n    });\n\n    // Close on background click\n    modal.addEventListener('click', e => {\n      if (e.target === modal) {\n        document.body.removeChild(modal);\n      }\n    });\n\n    // Handle Escape key\n    document.addEventListener('keydown', function escapeHandler(e) {\n      if (e.key === 'Escape') {\n        document.body.removeChild(modal);\n        document.removeEventListener('keydown', escapeHandler);\n      }\n    });\n  };\n  const insertList = () => {\n    const editor = document.querySelector('[contenteditable]');\n    const selection = window.getSelection();\n    if (selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0);\n      const selectedText = selection.toString().trim();\n      if (selectedText) {\n        // Convert selected text into a formatted list\n        const lines = selectedText.split('\\n');\n        const listContainer = document.createElement('div');\n        listContainer.style.cssText = `\n          margin: 8px 0;\n          padding-left: 8px;\n        `;\n        lines.map(line => line.trim()).filter(line => line.length > 0).forEach(line => {\n          const listItem = document.createElement('div');\n          listItem.style.cssText = `\n              position: relative;\n              padding-left: 20px;\n              margin: 4px 0;\n              line-height: 1.5;\n            `;\n\n          // Create bullet point\n          const bullet = document.createElement('span');\n          bullet.textContent = '•';\n          bullet.style.cssText = `\n              position: absolute;\n              left: 4px;\n              font-size: 1.2em;\n              line-height: 1;\n              top: 50%;\n              transform: translateY(-50%);\n            `;\n\n          // Create text content without explicit color\n          const textContent = document.createElement('span');\n          textContent.textContent = line;\n          listItem.appendChild(bullet);\n          listItem.appendChild(textContent);\n          listContainer.appendChild(listItem);\n        });\n\n        // Insert the formatted list\n        range.deleteContents();\n        range.insertNode(listContainer);\n      } else {\n        // Insert a single formatted bullet point\n        const listItem = document.createElement('div');\n        listItem.style.cssText = `\n          position: relative;\n          padding-left: 20px;\n          margin: 4px 0;\n          line-height: 1.5;\n        `;\n\n        // Create bullet point\n        const bullet = document.createElement('span');\n        bullet.textContent = '•';\n        bullet.style.cssText = `\n          position: absolute;\n          left: 4px;\n          font-size: 1.2em;\n          line-height: 1;\n          top: 50%;\n          transform: translateY(-50%);\n        `;\n\n        // Create editable content area without explicit color\n        const textContent = document.createElement('span');\n        listItem.appendChild(bullet);\n        listItem.appendChild(textContent);\n\n        // Insert at cursor position\n        range.deleteContents();\n        range.insertNode(listItem);\n\n        // Move cursor to text content\n        const newRange = document.createRange();\n        newRange.setStart(textContent, 0);\n        newRange.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(newRange);\n      }\n\n      // Update the draft content\n      handleTextareaChange({\n        target: editor\n      });\n    }\n  };\n  const handleTextareaChange = e => {\n    // Clean up any remaining remove buttons\n    const removeButtons = e.target.querySelectorAll('.remove-link');\n    removeButtons.forEach(btn => btn.remove());\n\n    // Sanitize HTML content to prevent XSS attacks\n    const rawHtml = e.target.innerHTML;\n    const sanitizedHtml = sanitizeHtml(rawHtml);\n\n    // Update content with sanitized HTML\n    const textContent = e.target.textContent || e.target.innerText;\n    setDraftResponse(textContent);\n    setDraftHtml(sanitizedHtml);\n\n    // Auto-save draft if we have a selected lead\n    if (selectedLead) {\n      saveDraft(selectedLead.id, textContent, sanitizedHtml);\n    }\n\n    // Update the editor with sanitized content if it was changed\n    if (rawHtml !== sanitizedHtml) {\n      e.target.innerHTML = sanitizedHtml;\n      console.warn('HTML content was sanitized for security');\n    }\n  };\n  const convertToHtml = text => {\n    return text.replace(/\\n/g, '<br>');\n  };\n  const formatResponseTime = hours => {\n    if (hours < 1) return `${Math.round(hours * 60)}m`;\n    if (hours < 24) return `${hours.toFixed(1)}h`;\n    return `${(hours / 24).toFixed(1)}d`;\n  };\n\n  // Handle draft generation\n  const generateDraft = async () => {\n    if (!selectedLead) {\n      console.error('No lead selected');\n      return;\n    }\n    setIsGeneratingDraft(true);\n    console.log('Generating draft for lead:', selectedLead);\n    try {\n      const lastMessage = selectedLead.conversation[selectedLead.conversation.length - 1];\n      const urgency = getResponseUrgency(selectedLead);\n\n      // Clean function to remove problematic characters\n      const cleanString = str => {\n        if (!str) return '';\n        return str.replace(/\\r\\n/g, ' ') // Replace Windows line breaks\n        .replace(/\\n/g, ' ') // Replace Unix line breaks  \n        .replace(/\\r/g, ' ') // Replace Mac line breaks\n        .replace(/\\t/g, ' ') // Replace tabs\n        .replace(/[\\x00-\\x1F\\x7F-\\x9F]/g, '') // Remove other control characters\n        .replace(/\"/g, \"'\") // Replace double quotes with single quotes\n        .replace(/\\s+/g, ' ') // Replace multiple spaces with single space\n        .trim();\n      };\n\n      // Debug: Log the full payload we're sending\n      const payload = {\n        id: selectedLead.id,\n        email: cleanString(selectedLead.email),\n        first_name: cleanString(selectedLead.first_name),\n        last_name: cleanString(selectedLead.last_name),\n        subject: cleanString(selectedLead.subject),\n        intent: selectedLead.intent,\n        engagement_score: selectedLead.engagement_score,\n        urgency: urgency,\n        last_message_type: (lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.type) || 'SENT',\n        last_message_content: cleanString(((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.content) || '').substring(0, 300)),\n        reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n        days_since_last_message: Math.floor((new Date() - new Date((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.time) || new Date())) / (1000 * 60 * 60 * 24)),\n        website: cleanString(selectedLead.website || ''),\n        content_brief: cleanString(selectedLead.content_brief || ''),\n        conversation: selectedLead.conversation.map(msg => ({\n          ...msg,\n          content: cleanString(msg.content),\n          from: cleanString(msg.from || ''),\n          to: cleanString(msg.to || '')\n        }))\n      };\n\n      // Debug: Log the full payload we're sending\n      const fullPayload = {\n        id: selectedLead.id,\n        email: cleanString(selectedLead.email),\n        first_name: cleanString(selectedLead.first_name),\n        last_name: cleanString(selectedLead.last_name),\n        subject: cleanString(selectedLead.subject),\n        intent: selectedLead.intent,\n        engagement_score: selectedLead.engagement_score,\n        urgency: urgency,\n        last_message_type: (lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.type) || 'SENT',\n        last_message_content: cleanString(((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.content) || '').substring(0, 300)),\n        reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n        days_since_last_message: Math.floor((new Date() - new Date((lastMessage === null || lastMessage === void 0 ? void 0 : lastMessage.time) || new Date())) / (1000 * 60 * 60 * 24)),\n        website: cleanString(selectedLead.website || ''),\n        content_brief: cleanString(selectedLead.content_brief || ''),\n        conversation: selectedLead.conversation.map(msg => ({\n          ...msg,\n          content: cleanString(msg.content),\n          from: cleanString(msg.from || ''),\n          to: cleanString(msg.to || '')\n        })),\n        email_message_body: selectedLead.email_message_body || ''\n      };\n      console.log('=== WEBHOOK DEBUG INFO ===');\n      console.log('Payload being sent:', JSON.stringify(fullPayload, null, 2));\n      console.log('Payload size (characters):', JSON.stringify(fullPayload).length);\n      console.log('URL:', 'https://reidsickels.app.n8n.cloud/webhook/8021dcee-ebfd-4cd0-a424-49d7eeb5b66b');\n      console.log('Request method: POST');\n      console.log('Content-Type: application/json');\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/draftmessage', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(fullPayload)\n      });\n      console.log('=== RESPONSE DEBUG INFO ===');\n      console.log('Response status:', response.status);\n      console.log('Response headers:', Object.fromEntries(response.headers.entries()));\n\n      // Get raw response text to see what we're actually getting\n      const responseText = await response.text();\n      console.log('Raw response text:', responseText);\n      console.log('Response text length:', responseText.length);\n      console.log('Response text type:', typeof responseText);\n      if (!response.ok) {\n        console.error('=== ERROR DETAILS ===');\n        console.error('Status:', response.status);\n        console.error('Status Text:', response.statusText);\n        console.error('Response Body:', responseText);\n        throw new Error(`HTTP error! status: ${response.status}, body: ${responseText}`);\n      }\n\n      // Check if response is empty\n      if (!responseText || responseText.trim() === '') {\n        console.error('Empty response from webhook');\n        throw new Error('Empty response from webhook');\n      }\n\n      // Try to parse JSON response\n      let data;\n      try {\n        data = JSON.parse(responseText);\n        console.log('Parsed response data:', data);\n      } catch (e) {\n        console.error('JSON parsing failed. Raw response:', responseText);\n        console.error('JSON parse error:', e.message);\n        throw new Error(`Invalid JSON response from webhook. Raw response: ${responseText}`);\n      }\n\n      // Handle both array and object response formats\n      if (data.text) {\n        // Clean the response text of any problematic characters\n        const cleanResponseText = data.text.replace(/\\\\n/g, '\\n') // Convert literal \\n to actual line breaks\n        .replace(/\\\\r/g, '\\r') // Convert literal \\r to actual line breaks\n        .trim();\n\n        // Update both the text state and HTML content\n        setDraftResponse(cleanResponseText);\n        const formattedHtml = convertToHtml(cleanResponseText);\n        setDraftHtml(formattedHtml);\n\n        // Update the contenteditable div\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = formattedHtml;\n        }\n        console.log('Draft set successfully from object format');\n      } else if (data && data.length > 0 && data[0].text) {\n        const cleanResponseText = data[0].text.replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').trim();\n\n        // Update both the text state and HTML content\n        setDraftResponse(cleanResponseText);\n        const formattedHtml = convertToHtml(cleanResponseText);\n        setDraftHtml(formattedHtml);\n\n        // Update the contenteditable div\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = formattedHtml;\n        }\n        console.log('Draft set successfully from array format');\n      } else {\n        console.error('No text found in response:', data);\n        throw new Error('No text content in webhook response');\n      }\n    } catch (error) {\n      console.error('=== FULL ERROR DETAILS ===');\n      console.error('Error message:', error.message);\n      console.error('Error stack:', error.stack);\n      console.error('Selected lead data:', selectedLead);\n\n      // Simple fallback for debugging\n      setDraftResponse(`Hi ${selectedLead.first_name},\\n\\nThank you for your message.\\n\\nBest regards`);\n    } finally {\n      setIsGeneratingDraft(false);\n    }\n  };\n\n  // Handle send message\n  const sendMessage = async () => {\n    var _document$querySelect, _document$querySelect2;\n    const textContent = ((_document$querySelect = document.querySelector('[contenteditable]')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.textContent) || draftResponse;\n    const rawHtmlContent = ((_document$querySelect2 = document.querySelector('[contenteditable]')) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.innerHTML) || convertToHtml(draftResponse);\n    const htmlContent = sanitizeHtml(rawHtmlContent);\n    if (!textContent.trim()) return;\n    setIsSending(true);\n    try {\n      // Parse CC emails from the editable field\n      const ccEmails = editableCcEmails.split(',').map(email => email.trim()).filter(email => email.length > 0).map(email => ({\n        name: '',\n        address: email\n      }));\n\n      // Get file attachments\n      const attachmentInput = document.getElementById('attachment-input');\n      const attachments = [];\n      if (attachmentInput && attachmentInput.files.length > 0) {\n        for (let file of attachmentInput.files) {\n          // Convert file to base64 for sending\n          const base64 = await new Promise(resolve => {\n            const reader = new FileReader();\n            reader.onload = () => resolve(reader.result.split(',')[1]);\n            reader.readAsDataURL(file);\n          });\n          attachments.push({\n            filename: file.name,\n            content: base64,\n            encoding: 'base64',\n            contentType: file.type\n          });\n        }\n      }\n\n      // Prepare payload with editable recipients and HTML content\n      const sendPayload = {\n        // Draft message data with user-editable recipients and rich formatting\n        message: {\n          content: textContent.trim(),\n          // Plain text version\n          html_content: htmlContent,\n          // Rich HTML version\n          to: editableToEmail.trim(),\n          cc: ccEmails,\n          subject: `Re: ${selectedLead.subject}`,\n          type: 'SENT',\n          attachments: attachments\n        },\n        // Lead data\n        lead: {\n          id: selectedLead.id,\n          campaign_id: selectedLead.campaign_id,\n          lead_id: selectedLead.lead_id,\n          email_stats_id: selectedLead.email_stats_id,\n          email: editableToEmail.trim(),\n          // Use the editable primary email\n          first_name: selectedLead.first_name,\n          last_name: selectedLead.last_name,\n          subject: selectedLead.subject,\n          intent: selectedLead.intent,\n          engagement_score: selectedLead.engagement_score,\n          urgency: getResponseUrgency(selectedLead),\n          website: selectedLead.website || '',\n          tags: selectedLead.tags,\n          conversation_history: selectedLead.conversation,\n          reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n          last_activity: selectedLead.conversation.length > 0 ? selectedLead.conversation[selectedLead.conversation.length - 1].time : selectedLead.created_at,\n          // Add recipient info\n          cc_recipients: ccEmails.map(cc => cc.address)\n        },\n        smartlead_api_key: apiKeys.smartlead,\n        claude_api_key: apiKeys.claude,\n        fullenrich_api_key: apiKeys.fullenrich\n      };\n      console.log('Sending message with rich formatting:', {\n        to: editableToEmail.trim(),\n        cc: ccEmails,\n        htmlContent: htmlContent,\n        attachments: attachments.length,\n        payload: sendPayload\n      });\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/8021dcee-ebfd-4cd0-a424-49d7eeb5b66b', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(sendPayload)\n      });\n      console.log('Send response status:', response.status);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Send webhook error:', errorText);\n        throw new Error(`Failed to send message: ${response.status}`);\n      }\n      const responseData = await response.json();\n      console.log('Send response data:', responseData);\n\n      // Show success modal instead of alert\n      setShowSentConfirm(true);\n\n      // Clear draft and editor\n      setDraftResponse('');\n      setDraftHtml('');\n      const editor = document.querySelector('[contenteditable]');\n      if (editor) {\n        editor.innerHTML = '';\n      }\n\n      // Clear file input\n      if (attachmentInput) {\n        attachmentInput.value = '';\n      }\n\n      // Optionally refresh leads to get updated data\n      await fetchLeads();\n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert(`Error sending message: ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Add enrichment function\n  const enrichLeadData = async lead => {\n    setEnrichingLeads(prev => new Set([...prev, lead.id]));\n    try {\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/9894a38a-ac26-46b8-89a2-ef2e80e83504', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to enrich lead data');\n      }\n      const enrichedData = await response.json();\n      console.log('Raw webhook response:', enrichedData);\n\n      // Create a new lead object with the enriched data\n      const updatedLead = {\n        ...lead,\n        role: enrichedData.Role || null,\n        company_data: enrichedData[\"Company Summary\"] || null,\n        personal_linkedin_url: enrichedData[\"Personal LinkedIn\"] || null,\n        business_linkedin_url: enrichedData[\"Business LinkedIn\"] || null,\n        last_name: enrichedData[\"Last Name\"] || lead.last_name || ''\n      };\n\n      // Update the leads array\n      setLeads(prevLeads => prevLeads.map(l => l.id === lead.id ? updatedLead : l));\n\n      // If this is the selected lead, update it with a new object reference\n      if ((selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id) {\n        setSelectedLead(updatedLead);\n      }\n\n      // Show success/not found toast with lead name\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      if (enrichedData.Role || enrichedData[\"Company Summary\"] || enrichedData[\"Personal LinkedIn\"] || enrichedData[\"Business LinkedIn\"]) {\n        showToast(`Data enriched for ${leadName}`, 'success', lead.id);\n      } else {\n        showToast(`No additional data found for ${leadName}`, 'error', lead.id);\n      }\n    } catch (error) {\n      console.error('Error enriching lead:', error);\n      console.error('Error details:', {\n        message: error.message,\n        stack: error.stack\n      });\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      showToast(`Error enriching data for ${leadName}`, 'error', lead.id);\n    } finally {\n      setEnrichingLeads(prev => {\n        const next = new Set(prev);\n        next.delete(lead.id);\n        return next;\n      });\n    }\n  };\n\n  // Loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen items-center justify-center\",\n      style: {\n        backgroundColor: '#1A1C1A'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-8 rounded-2xl shadow-xl\",\n        style: {\n          backgroundColor: 'rgba(26, 28, 26, 0.8)',\n          border: '1px solid white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4\",\n          style: {\n            borderColor: '#54FCFF'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white\",\n          children: \"Loading leads...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2394,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2393,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error state\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen items-center justify-center\",\n      style: {\n        backgroundColor: '#1A1C1A'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-400 mb-6 font-medium\",\n          children: [\"Error loading leads: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchLeads,\n          className: \"px-4 py-2 text-white rounded-lg hover:opacity-80 transition-colors\",\n          style: {\n            backgroundColor: '#54FCFF',\n            color: '#1A1C1A',\n            border: '1px solid white'\n          },\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2405,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Function to handle API key updates\n  const handleApiKeyChange = (key, value) => {\n    setApiKeys(prev => {\n      if (key === 'esp') {\n        // For ESP, we need to handle both provider and key\n        return {\n          ...prev,\n          esp: value\n        };\n      }\n      // For other keys, direct update\n      return {\n        ...prev,\n        [key]: value\n      };\n    });\n  };\n\n  // Function to save API keys (with encryption)\n  const saveApiKeys = () => {\n    setIsSavingApi(true);\n    try {\n      // Save ESP settings\n      if (apiKeys.esp.provider) {\n        localStorage.setItem('esp_provider', apiKeys.esp.provider);\n        const encryptedEspKey = encryptApiKey(apiKeys.esp.key);\n        localStorage.setItem('esp_api_key_enc', encryptedEspKey);\n      }\n\n      // Save Full Enrich key\n      const encryptedFullEnrich = encryptApiKey(apiKeys.fullenrich);\n      localStorage.setItem('fullenrich_api_key_enc', encryptedFullEnrich);\n\n      // Remove old keys if they exist\n      ['smartlead', 'claude'].forEach(oldKey => {\n        localStorage.removeItem(`${oldKey}_api_key`);\n        localStorage.removeItem(`${oldKey}_api_key_enc`);\n      });\n\n      // Show success toast\n      setApiToastMessage({\n        type: 'success',\n        message: 'API keys saved securely'\n      });\n      setShowApiToast(true);\n      setTimeout(() => setShowApiToast(false), 3000);\n    } catch (error) {\n      console.error('Failed to save API keys:', error);\n      setApiToastMessage({\n        type: 'error',\n        message: 'Failed to save API keys'\n      });\n      setShowApiToast(true);\n      setTimeout(() => setShowApiToast(false), 3000);\n    } finally {\n      setIsSavingApi(false);\n    }\n  };\n\n  // Function to toggle all sections\n  const toggleAllSections = () => {\n    if (activeSection.length === 0) {\n      setActiveSection(['general', 'enrichment', 'engagement']);\n    } else {\n      setActiveSection([]);\n    }\n  };\n\n  // Function to toggle individual section\n  const toggleSection = section => {\n    setActiveSection(prev => prev.includes(section) ? prev.filter(s => s !== section) : [...prev, section]);\n  };\n  const findPhoneNumber = async lead => {\n    setSearchingPhoneLeads(prev => new Set([...prev, lead.id]));\n    try {\n      var _data$datas, _data$datas$, _data$datas$$contact, _data$datas$$contact$, _data$datas$$contact$2;\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/0b5749de-2324-45da-aa36-20971addef0b', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to find phone number');\n      }\n      const data = await response.json();\n      console.log('Raw webhook response:', data);\n\n      // Extract phone number from the nested structure\n      const phoneNumber = (data === null || data === void 0 ? void 0 : (_data$datas = data.datas) === null || _data$datas === void 0 ? void 0 : (_data$datas$ = _data$datas[0]) === null || _data$datas$ === void 0 ? void 0 : (_data$datas$$contact = _data$datas$.contact) === null || _data$datas$$contact === void 0 ? void 0 : (_data$datas$$contact$ = _data$datas$$contact.phones) === null || _data$datas$$contact$ === void 0 ? void 0 : (_data$datas$$contact$2 = _data$datas$$contact$[0]) === null || _data$datas$$contact$2 === void 0 ? void 0 : _data$datas$$contact$2.number) || null;\n\n      // Create a new lead object with the phone number\n      const updatedLead = {\n        ...lead,\n        phone: phoneNumber\n      };\n\n      // Update the leads array\n      setLeads(prevLeads => prevLeads.map(l => l.id === lead.id ? updatedLead : l));\n\n      // If this is the selected lead, update it with a new object reference\n      if ((selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id) {\n        setSelectedLead(updatedLead);\n      }\n\n      // Show success/not found toast with lead name\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      if (phoneNumber) {\n        showToast(`Phone found for ${leadName}`, 'success', lead.id);\n      } else {\n        showToast(`No phone found for ${leadName}`, 'error', lead.id);\n      }\n    } catch (error) {\n      console.error('Error finding phone number:', error);\n      console.error('Error details:', {\n        message: error.message,\n        stack: error.stack\n      });\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      showToast(`Error searching phone for ${leadName}`, 'error', lead.id);\n    } finally {\n      setSearchingPhoneLeads(prev => {\n        const next = new Set(prev);\n        next.delete(lead.id);\n        return next;\n      });\n    }\n  };\n\n  // Add a helper function to get active filter count\n  const getActiveFilterCount = () => {\n    return Object.values(activeFilters).reduce((count, values) => count + (Array.isArray(values) ? values.length : 0), 0);\n  };\n\n  // Update the urgency filter buttons\n  const handleUrgencyFilter = urgencyType => {\n    var _activeFilters$urgenc;\n    // If this urgency is already active, clear it\n    if ((_activeFilters$urgenc = activeFilters.urgency) !== null && _activeFilters$urgenc !== void 0 && _activeFilters$urgenc.includes(urgencyType)) {\n      handleRemoveFilter('urgency', urgencyType);\n    } else {\n      // Otherwise, set only this urgency\n      handleAddFilter('urgency', urgencyType);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen relative overflow-hidden transition-colors duration-300\",\n    style: {\n      backgroundColor: themeStyles.primaryBg\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 right-0 h-12 bg-opacity-50 backdrop-blur-md z-20 flex items-center px-6 transition-colors duration-300\",\n      style: {\n        backgroundColor: themeStyles.secondaryBg,\n        borderBottom: `1px solid ${themeStyles.border}`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('all'),\n            className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent' ? `text-white` : `hover:bg-white/5`}`,\n            style: {\n              backgroundColor: activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent' ? `${themeStyles.accent}20` : 'transparent',\n              color: activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent' ? themeStyles.accent : themeStyles.textPrimary\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2598,\n                columnNumber: 17\n              }, this), \"Inbox\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2597,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2587,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('analytics'),\n            className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${activeTab === 'analytics' ? `text-white` : `hover:bg-white/5`}`,\n            style: {\n              backgroundColor: activeTab === 'analytics' ? `${themeStyles.accent}20` : 'transparent',\n              color: activeTab === 'analytics' ? themeStyles.accent : themeStyles.textPrimary\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2614,\n                columnNumber: 17\n              }, this), \"Analytics\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2613,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2603,\n            columnNumber: 13\n          }, this), recentlyViewed.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative recent-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowRecentDropdown(!showRecentDropdown),\n              className: \"px-4 py-2 rounded-lg text-sm font-medium transition-all hover:bg-white/5 flex items-center gap-2\",\n              style: {\n                color: themeStyles.textPrimary\n              },\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2627,\n                columnNumber: 19\n              }, this), \"Recent (\", recentlyViewed.length, \")\", /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2629,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2622,\n              columnNumber: 17\n            }, this), showRecentDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-full left-0 mt-2 w-64 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.secondaryBg,\n                border: `1px solid ${themeStyles.border}`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium mb-2 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textPrimary\n                  },\n                  children: \"Recently Viewed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2635,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-1\",\n                  children: recentlyViewed.map(recent => /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      const lead = leads.find(l => l.id === recent.id);\n                      if (lead) {\n                        setSelectedLead(lead);\n                        setShowRecentDropdown(false);\n                      }\n                    },\n                    className: \"w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-300 hover:opacity-80\",\n                    style: {\n                      backgroundColor: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === recent.id ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                      color: themeStyles.textPrimary\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium\",\n                      children: recent.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2653,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: recent.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2654,\n                      columnNumber: 29\n                    }, this)]\n                  }, recent.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2638,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2636,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setRecentlyViewed([]);\n                    localStorage.removeItem('inbox_manager_recent_leads');\n                    setShowRecentDropdown(false);\n                  },\n                  className: \"w-full mt-3 px-3 py-2 text-xs rounded-lg transition-all duration-300 hover:opacity-80\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    color: themeStyles.textMuted\n                  },\n                  children: \"Clear Recent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2658,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2634,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2633,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2621,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowApiSettings(true),\n            className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${showApiSettings ? 'text-white' : 'hover:bg-white/5'}`,\n            style: {\n              backgroundColor: showApiSettings ? `${themeStyles.accent}20` : 'transparent',\n              color: showApiSettings ? themeStyles.accent : themeStyles.textPrimary\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Key, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2686,\n                columnNumber: 17\n              }, this), \"API Settings\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2685,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2675,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2586,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [user && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 px-3 py-1 rounded-lg text-sm\",\n            style: {\n              backgroundColor: themeStyles.tertiaryBg,\n              color: themeStyles.textPrimary\n            },\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2697,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2695,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleTheme,\n            className: \"px-3 py-2 rounded-lg text-sm font-medium transition-all hover:bg-white/5 flex items-center gap-2\",\n            style: {\n              color: themeStyles.textPrimary\n            },\n            title: `Switch to ${isDarkMode ? 'light' : 'dark'} mode`,\n            children: isDarkMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg\",\n                children: \"\\u2600\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Light\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2711,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg\",\n                children: \"\\uD83C\\uDF19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2715,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hidden sm:inline\",\n                children: \"Dark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2716,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2702,\n            columnNumber: 13\n          }, this), user && onSignOut && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSignOut,\n            className: \"px-3 py-2 rounded-lg text-sm font-medium transition-all hover:bg-red-500/10 flex items-center gap-2\",\n            style: {\n              color: '#ef4444'\n            },\n            title: \"Sign out\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2729,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hidden sm:inline\",\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2730,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2723,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2692,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2585,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2584,\n      columnNumber: 7\n    }, this), showApiSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#1A1C1A] rounded-xl shadow-xl max-w-2xl w-full border border-white/10 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-white/10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Key, {\n                className: \"w-5 h-5\",\n                style: {\n                  color: '#54FCFF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2744,\n                columnNumber: 19\n              }, this), \"API Settings\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2743,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowApiSettings(false),\n              className: \"text-gray-400 hover:text-white transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2751,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2747,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2742,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2741,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-[#1A1C1A] border border-[#00FF8C]/20 rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-[#00FF8C] text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2760,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Secure Storage Enabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2761,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2759,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-[#00FF8C]/80 mt-1\",\n              children: \"API keys are encrypted before storage for enhanced security\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2763,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2758,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"w-4 h-4\",\n                style: {\n                  color: '#54FCFF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2769,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium text-[#54FCFF]\",\n                children: \"Email Service Provider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2770,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2768,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-3\",\n              children: ['Email Bison', 'Smartlead', 'Instantly'].map(provider => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleApiKeyChange('esp', {\n                  ...apiKeys.esp,\n                  provider: provider.toLowerCase()\n                }),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition-all text-white ${apiKeys.esp.provider === provider.toLowerCase() ? 'bg-[#54FCFF]/10 border-[#54FCFF] text-[#54FCFF]' : 'bg-[#1A1C1A] border-white/10 hover:bg-[#1A1C1A]/80'}`,\n                style: {\n                  border: '1px solid'\n                },\n                children: provider\n              }, provider, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2776,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2774,\n              columnNumber: 17\n            }, this), apiKeys.esp.provider && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-white/60\",\n                children: [apiKeys.esp.provider.charAt(0).toUpperCase() + apiKeys.esp.provider.slice(1), \" API Key\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2794,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: apiKeys.esp.key,\n                  onChange: e => handleApiKeyChange('esp', {\n                    ...apiKeys.esp,\n                    key: e.target.value\n                  }),\n                  className: \"w-full px-4 py-2 rounded-lg text-white placeholder-gray-400 bg-[#1A1C1A] border border-white/10 focus:border-[#54FCFF] focus:ring-1 focus:ring-[#54FCFF] transition-all\",\n                  placeholder: `Enter ${apiKeys.esp.provider} API key`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2798,\n                  columnNumber: 43\n                }, this), apiTestStatus.esp === true && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2806,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2797,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2793,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2767,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 pt-6 mt-6 border-t border-white/10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Database, {\n                className: \"w-4 h-4\",\n                style: {\n                  color: '#54FCFF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2816,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-medium text-[#54FCFF]\",\n                children: \"Data Enrichment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2817,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2815,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm text-white/60\",\n                children: \"Full Enrich API Key\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2821,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  value: apiKeys.fullenrich,\n                  onChange: e => handleApiKeyChange('fullenrich', e.target.value),\n                  className: \"w-full px-4 py-2 rounded-lg text-white placeholder-gray-400 bg-[#1A1C1A] border border-white/10 focus:border-[#54FCFF] focus:ring-1 focus:ring-[#54FCFF] transition-all\",\n                  placeholder: \"Enter Full Enrich API key\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2825,\n                  columnNumber: 21\n                }, this), apiTestStatus.fullenrich === true && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2833,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2824,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-white/40 mt-2\",\n                children: \"Used for finding phone numbers, company data, and social profiles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2836,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2820,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2814,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2756,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 bg-[#1A1C1A] border-t border-white/10 flex justify-end gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowApiSettings(false),\n            className: \"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors text-sm\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2844,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveApiKeys,\n            disabled: isSavingApi,\n            className: \"px-4 py-2 rounded-lg bg-[#54FCFF] text-black font-medium hover:opacity-90 transition-all text-sm flex items-center gap-2 disabled:opacity-50\",\n            children: isSavingApi ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-4 h-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2857,\n                columnNumber: 21\n              }, this), \"Saving...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2862,\n                columnNumber: 21\n              }, this), \"Save API Keys\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2850,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2843,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2740,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2739,\n      columnNumber: 9\n    }, this), showApiToast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 z-50 animate-slideIn\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-lg shadow-lg p-4 text-sm font-medium flex items-center gap-2 ${apiToastMessage.type === 'success' ? 'bg-green-400 text-green-900' : 'bg-red-400 text-red-900'}`,\n        children: [apiToastMessage.type === 'success' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2881,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2883,\n          columnNumber: 15\n        }, this), apiToastMessage.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2875,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2874,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 z-50 flex flex-col-reverse gap-2\",\n      children: toasts.map(toast => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg cursor-pointer transition-all transform hover:scale-102 min-w-[200px]\",\n        style: {\n          backgroundColor: toast.type === 'success' ? `${themeStyles.success}20` : `${themeStyles.error}20`,\n          border: `1px solid ${toast.type === 'success' ? themeStyles.success : themeStyles.error}`,\n          backdropFilter: 'blur(8px)',\n          animation: 'slideIn 0.2s ease-out'\n        },\n        onClick: () => {\n          if (toast.leadId) {\n            const lead = leads.find(l => l.id === toast.leadId);\n            if (lead) {\n              setSelectedLead(lead);\n              removeToast(toast.id);\n            }\n          }\n        },\n        children: [toast.type === 'success' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-5 h-5 shrink-0\",\n          style: {\n            color: themeStyles.success\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2915,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5 shrink-0\",\n          style: {\n            color: themeStyles.error\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2917,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium flex-1 transition-colors duration-300\",\n          style: {\n            color: themeStyles.textPrimary\n          },\n          children: toast.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2919,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            removeToast(toast.id);\n          },\n          className: \"ml-2 shrink-0 hover:opacity-80 transition-colors duration-300\",\n          style: {\n            color: themeStyles.textMuted\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2928,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2920,\n          columnNumber: 13\n        }, this)]\n      }, toast.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2893,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2891,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      global: true,\n      children: `\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes glow {\n          0% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n        \n        /* Theme transition animations */\n        * {\n          transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n        }\n        \n        /* Custom scrollbar for theme */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n        \n        ::-webkit-scrollbar-track {\n          background: ${isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n          border-radius: 4px;\n        }\n        \n        ::-webkit-scrollbar-thumb {\n          background: ${themeStyles.accent};\n          border-radius: 4px;\n        }\n        \n        ::-webkit-scrollbar-thumb:hover {\n          background: ${themeStyles.accent}CC;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2934,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex mt-12\",\n      children: [activeTab === 'analytics' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-8 overflow-y-auto transition-colors duration-300\",\n        style: {\n          backgroundColor: themeStyles.primaryBg\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: \"Analytics Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2985,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textSecondary\n                },\n                children: \"Insights and performance metrics for your lead management\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2988,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2984,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textSecondary\n                },\n                children: \"Show data for:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2995,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: analyticsDateRange,\n                onChange: e => setAnalyticsDateRange(e.target.value),\n                className: \"px-3 py-2 rounded-lg text-sm transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`,\n                  color: themeStyles.textPrimary\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"7\",\n                  children: \"Last 7 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3006,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"30\",\n                  children: \"Last 30 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3007,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"90\",\n                  children: \"Last 90 days\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3008,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"365\",\n                  children: \"Last year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3009,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2996,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2994,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2983,\n            columnNumber: 15\n          }, this), analyticsData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Total Leads\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3021,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: analyticsData.totalLeads.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3022,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3020,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Users, {\n                    className: \"w-8 h-8 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.accent\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3026,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3019,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3018,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Engagement Rate\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3033,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.success\n                      },\n                      children: [analyticsData.engagementRate.toFixed(1), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3034,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Leads with 2+ replies\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3037,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3032,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"w-8 h-8 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.success\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3041,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3031,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3030,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Avg Response Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3048,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.accent\n                      },\n                      children: formatResponseTime(analyticsData.avgResponseTime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3049,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3047,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Clock, {\n                    className: \"w-8 h-8 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.accent\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3053,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3046,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3045,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Avg Replies per Lead\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3060,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-2xl font-bold transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: analyticsData.avgRepliesPerLead.toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3061,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: [analyticsData.totalReplies, \" total replies\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3064,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3059,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(MessageSquare, {\n                    className: \"w-8 h-8 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.accent\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3068,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3058,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3057,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3017,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-bold mb-4 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textPrimary\n                  },\n                  children: \"Response Time Distribution\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3077,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: Object.entries(analyticsData.responseTimeDistribution).map(([timeRange, count]) => {\n                    const total = Object.values(analyticsData.responseTimeDistribution).reduce((sum, val) => sum + val, 0);\n                    const percentage = total > 0 ? count / total * 100 : 0;\n                    const label = {\n                      'under1h': 'Under 1 hour',\n                      '1to4h': '1-4 hours',\n                      '4to24h': '4-24 hours',\n                      'over24h': 'Over 24 hours'\n                    }[timeRange];\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: label\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3093,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-32 rounded-full h-2 transition-colors duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"h-2 rounded-full transition-all duration-500\",\n                            style: {\n                              width: `${percentage}%`,\n                              backgroundColor: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3096,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3095,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm font-medium w-12 text-right transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textPrimary\n                          },\n                          children: count\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3104,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3094,\n                        columnNumber: 31\n                      }, this)]\n                    }, timeRange, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3092,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3080,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3076,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.secondaryBg,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-bold mb-4 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textPrimary\n                  },\n                  children: \"Average Replies by Intent Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3116,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4\",\n                  children: analyticsData.intentCorrelation.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: item.intent\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3123,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs px-2 py-1 rounded-full transition-colors duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.tertiaryBg,\n                          color: themeStyles.textMuted\n                        },\n                        children: [item.count, \" leads\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3124,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3122,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-32 rounded-full h-3 transition-colors duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.tertiaryBg\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"h-3 rounded-full transition-all duration-500\",\n                          style: {\n                            width: `${Math.min(item.avgReplies * 20, 100)}%`,\n                            // Scale for visual\n                            backgroundColor: index === 0 ? themeStyles.success : index === 1 ? themeStyles.warning : themeStyles.accent\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3130,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3129,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-bold w-12 text-right transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: item.avgReplies.toFixed(1)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3138,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3128,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3121,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3119,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3115,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3074,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.secondaryBg,\n                border: `1px solid ${themeStyles.border}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-bold transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textPrimary\n                  },\n                  children: \"Reply Activity Heatmap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3151,\n                  columnNumber: 23\n                }, this), analyticsData.peakHour && analyticsData.maxCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textSecondary\n                  },\n                  children: [\"Peak: \", analyticsData.peakHour.dayName, \" at \", analyticsData.peakHour.hour, \":00 (\", analyticsData.maxCount, \" replies)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3155,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3150,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex mb-2 ml-16\",\n                  children: Array.from({\n                    length: 24\n                  }, (_, hour) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 text-center text-xs transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textMuted\n                    },\n                    children: hour % 4 === 0 ? `${hour}:00` : ''\n                  }, hour, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3166,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3164,\n                  columnNumber: 23\n                }, this), ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map((dayName, dayIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-14 text-xs text-right mr-2 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textMuted\n                    },\n                    children: dayName.slice(0, 3)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3175,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-1 gap-1\",\n                    children: Array.from({\n                      length: 24\n                    }, (_, hour) => {\n                      const dataPoint = analyticsData.heatmapData.find(d => d.day === (dayIndex + 1) % 7 && d.hour === hour // Adjust for Sunday=0\n                      );\n                      const intensity = analyticsData.maxCount > 0 ? ((dataPoint === null || dataPoint === void 0 ? void 0 : dataPoint.count) || 0) / analyticsData.maxCount : 0;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1 h-6 rounded-sm transition-all duration-300 hover:scale-110 cursor-pointer\",\n                        style: {\n                          backgroundColor: intensity > 0 ? `${themeStyles.accent}${Math.floor(intensity * 255).toString(16).padStart(2, '0')}` : themeStyles.tertiaryBg,\n                          border: `1px solid ${themeStyles.border}`\n                        },\n                        title: `${dayName} ${hour}:00 - ${(dataPoint === null || dataPoint === void 0 ? void 0 : dataPoint.count) || 0} replies`\n                      }, hour, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3186,\n                        columnNumber: 33\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3178,\n                    columnNumber: 27\n                  }, this)]\n                }, dayName, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3174,\n                  columnNumber: 25\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center mt-4 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textMuted\n                    },\n                    children: \"Less\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3205,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-1\",\n                    children: [0, 0.2, 0.4, 0.6, 0.8, 1].map((intensity, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-3 h-3 rounded-sm\",\n                      style: {\n                        backgroundColor: intensity > 0 ? `${themeStyles.accent}${Math.floor(intensity * 255).toString(16).padStart(2, '0')}` : themeStyles.tertiaryBg,\n                        border: `1px solid ${themeStyles.border}`\n                      }\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3208,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3206,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textMuted\n                    },\n                    children: \"More\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3220,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3204,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3162,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3149,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.secondaryBg,\n                border: `1px solid ${themeStyles.border}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-6 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: \"What Works in Messages\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3227,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium mb-4 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textSecondary\n                  },\n                  children: \"Message Length Impact\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3233,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-4 gap-4\",\n                  children: analyticsData.copyInsights.lengthBreakdown.map((length, index) => {\n                    const replyRate = length.messages > 0 ? length.replies / length.messages * 100 : 0;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-4 rounded-lg transition-colors duration-300\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm font-medium mb-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: length.range\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3239,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-2xl font-bold mb-1 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.accent\n                        },\n                        children: [replyRate.toFixed(1), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3242,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textMuted\n                        },\n                        children: [length.messages, \" messages sent\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3245,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3238,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3234,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3232,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium mb-4 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textSecondary\n                  },\n                  children: \"Message Pattern Success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3256,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-4\",\n                  children: [{\n                    label: 'Contains Questions',\n                    data: analyticsData.copyInsights.withQuestions\n                  }, {\n                    label: 'Suggests Call/Meeting',\n                    data: analyticsData.copyInsights.withCalls\n                  }, {\n                    label: 'Discusses Pricing',\n                    data: analyticsData.copyInsights.withPricing\n                  }, {\n                    label: 'Value Proposition',\n                    data: analyticsData.copyInsights.withValueProps\n                  }].map((pattern, index) => {\n                    const successRate = pattern.data.total > 0 ? pattern.data.success / pattern.data.total * 100 : 0;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-between mb-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-sm transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: pattern.label\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3271,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-sm font-medium transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.accent\n                            },\n                            children: [successRate.toFixed(1), \"% success\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3272,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3270,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"h-2 rounded-full transition-colors duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"h-2 rounded-full transition-all duration-500\",\n                            style: {\n                              width: `${successRate}%`,\n                              backgroundColor: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3275,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3274,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3269,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textMuted\n                        },\n                        children: [pattern.data.success, \"/\", pattern.data.total, \" replies\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3284,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3268,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3257,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium mb-4 transition-colors duration-300\",\n                  style: {\n                    color: themeStyles.textSecondary\n                  },\n                  children: \"Average Response Time by Pattern\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-4 gap-4\",\n                  children: [{\n                    label: 'Questions',\n                    time: analyticsData.copyInsights.avgReplyTime.withQuestion\n                  }, {\n                    label: 'Call/Meeting',\n                    time: analyticsData.copyInsights.avgReplyTime.withCall\n                  }, {\n                    label: 'Pricing',\n                    time: analyticsData.copyInsights.avgReplyTime.withPricing\n                  }, {\n                    label: 'Value Prop',\n                    time: analyticsData.copyInsights.avgReplyTime.withValueProp\n                  }].map((timing, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 rounded-lg transition-colors duration-300\",\n                    style: {\n                      backgroundColor: themeStyles.tertiaryBg\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm mb-2 transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: timing.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3304,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xl font-bold transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.accent\n                      },\n                      children: formatResponseTime(timing.time)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3305,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3303,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3296,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3294,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3226,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.secondaryBg,\n                border: `1px solid ${themeStyles.border}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: \"Top Performing Campaigns\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3316,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"border-b transition-colors duration-300\",\n                      style: {\n                        borderColor: themeStyles.border\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left py-3 px-4 font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"Campaign\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3323,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left py-3 px-4 font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"Leads\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3324,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left py-3 px-4 font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"Avg Engagement\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3325,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left py-3 px-4 font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"Avg Replies\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3326,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left py-3 px-4 font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"Avg Response Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3327,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3322,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3321,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: analyticsData.campaignStats.slice(0, 5).map((campaign, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"border-b transition-colors duration-300\",\n                      style: {\n                        borderColor: themeStyles.border\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-3 px-4 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: campaign.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3333,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-3 px-4 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: campaign.totalLeads\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3334,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-3 px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 rounded-full text-xs font-medium transition-colors duration-300\",\n                          style: {\n                            backgroundColor: campaign.avgEngagement >= 80 ? `${themeStyles.success}20` : campaign.avgEngagement >= 50 ? `${themeStyles.warning}20` : `${themeStyles.error}20`,\n                            color: campaign.avgEngagement >= 80 ? themeStyles.success : campaign.avgEngagement >= 50 ? themeStyles.warning : themeStyles.error\n                          },\n                          children: [campaign.avgEngagement.toFixed(0), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3336,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3335,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-3 px-4 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: campaign.avgRepliesPerLead.toFixed(1)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3346,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-3 px-4 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: campaign.avgResponseTime > 0 ? formatResponseTime(campaign.avgResponseTime) : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3347,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3332,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3330,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3320,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3319,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3315,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 rounded-2xl shadow-lg transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.secondaryBg,\n                border: `1px solid ${themeStyles.border}`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold mb-4 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: \"Performance by Lead Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3359,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n                children: analyticsData.categoryStats.map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 rounded-lg transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: category.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3366,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: [category.totalLeads, \" leads\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3367,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3365,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: \"Engagement:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3372,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 rounded-full h-2 transition-colors duration-300\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"h-2 rounded-full transition-all duration-500\",\n                        style: {\n                          width: `${category.avgEngagement}%`,\n                          backgroundColor: themeStyles.success\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3374,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3373,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs font-bold w-10 text-right transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: [category.avgEngagement.toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3382,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3371,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between text-xs\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: [\"Avg replies: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: category.avgRepliesPerLead.toFixed(1)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3390,\n                        columnNumber: 44\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3389,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: [\"Avg response: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: category.avgResponseTime > 0 ? formatResponseTime(category.avgResponseTime) : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3393,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3392,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3388,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3364,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3362,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3358,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"w-16 h-16 mx-auto mb-4 opacity-50 transition-colors duration-300\",\n              style: {\n                color: themeStyles.textMuted\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3405,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg transition-colors duration-300\",\n              style: {\n                color: themeStyles.textPrimary\n              },\n              children: \"No data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3406,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"transition-colors duration-300\",\n              style: {\n                color: themeStyles.textSecondary\n              },\n              children: \"Lead data will appear here once you have conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3407,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3404,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2981,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2980,\n        columnNumber: 11\n      }, this), (activeTab === 'inbox' || activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent') && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 opacity-30 pointer-events-none\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 animate-pulse\",\n            style: {\n              background: `radial-gradient(circle at 20% 50%, rgba(84, 252, 255, 0.1) 0%, transparent 50%), \n                        radial-gradient(circle at 80% 20%, rgba(34, 197, 94, 0.08) 0%, transparent 50%), \n                        radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.06) 0%, transparent 50%)`,\n              animation: 'gradientShift 8s ease-in-out infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3419,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3418,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 pointer-events-none overflow-hidden\",\n          children: [...Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute w-1 h-1 rounded-full opacity-20\",\n            style: {\n              backgroundColor: '#54FCFF',\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n              animation: `float ${4 + Math.random() * 4}s ease-in-out infinite`,\n              animationDelay: `${Math.random() * 4}s`\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3433,\n            columnNumber: 11\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3431,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex flex-col shadow-lg relative z-10 transition-colors duration-300\",\n          style: {\n            backgroundColor: themeStyles.secondaryBg,\n            borderRadius: '12px',\n            margin: '8px',\n            marginRight: '4px',\n            backdropFilter: 'blur(10px)',\n            border: `1px solid ${themeStyles.border}`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6 relative transition-colors duration-300\",\n            style: {\n              backgroundColor: themeStyles.tertiaryBg,\n              borderRadius: '12px 12px 0 0',\n              borderBottom: `1px solid ${themeStyles.border}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 left-1/2 transform -translate-x-1/2 w-20 h-0.5 rounded-full\",\n              style: {\n                background: `linear-gradient(90deg, transparent, ${themeStyles.accent}, transparent)`,\n                animation: 'glow 2s ease-in-out infinite alternate'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold relative transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: [\"Inbox Manager\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-transparent to-transparent opacity-50\",\n                  style: {\n                    background: `linear-gradient(90deg, transparent, ${themeStyles.accent}, transparent)`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3456,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3454,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowMetrics(!showMetrics),\n                className: \"text-sm transition-all duration-300 hover:scale-105 relative group\",\n                style: {\n                  color: themeStyles.accent\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"relative z-10\",\n                  children: [showMetrics ? 'Hide' : 'Show', \" Metrics\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3463,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 rounded opacity-0 group-hover:opacity-20 transition-opacity duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.accent\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3464,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3458,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3453,\n              columnNumber: 11\n            }, this), showMetrics && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUrgencyFilter('urgent-response'),\n                className: \"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\",\n                style: {\n                  backgroundColor: 'rgba(239, 68, 68, 0.5)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 bg-red-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3476,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative z-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                      className: \"w-4 h-4\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3479,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-sm\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"\\uD83D\\uDEA8 URGENT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3480,\n                      columnNumber: 21\n                    }, this), ((_activeFilters$urgenc2 = activeFilters.urgency) === null || _activeFilters$urgenc2 === void 0 ? void 0 : _activeFilters$urgenc2.includes('urgent-response')) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs px-2 py-1 rounded-full\",\n                      style: {\n                        backgroundColor: `${themeStyles.textPrimary}20`,\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"ACTIVE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3482,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3478,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    style: {\n                      color: themeStyles.textPrimary\n                    },\n                    children: leads.filter(lead => getResponseUrgency(lead) === 'urgent-response').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3485,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-1\",\n                    style: {\n                      color: themeStyles.textSecondary\n                    },\n                    children: \"Needs immediate response (2+ days)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3488,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3477,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3471,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUrgencyFilter('needs-response'),\n                className: \"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\",\n                style: {\n                  backgroundColor: 'rgba(234, 179, 8, 0.5)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 bg-yellow-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3497,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative z-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Users, {\n                      className: \"w-4 h-4\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3500,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-sm\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"\\u26A1 NEEDS RESPONSE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3501,\n                      columnNumber: 21\n                    }, this), ((_activeFilters$urgenc3 = activeFilters.urgency) === null || _activeFilters$urgenc3 === void 0 ? void 0 : _activeFilters$urgenc3.includes('needs-response')) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs px-2 py-1 rounded-full\",\n                      style: {\n                        backgroundColor: `${themeStyles.textPrimary}20`,\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"ACTIVE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3503,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3499,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    style: {\n                      color: themeStyles.textPrimary\n                    },\n                    children: leads.filter(lead => getResponseUrgency(lead) === 'needs-response').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3506,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-1\",\n                    style: {\n                      color: themeStyles.textSecondary\n                    },\n                    children: \"They replied, awaiting your response\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3509,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3498,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3492,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUrgencyFilter('needs-followup'),\n                className: \"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\",\n                style: {\n                  backgroundColor: 'rgba(34, 197, 94, 0.5)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 bg-green-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3518,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative z-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Target, {\n                      className: \"w-4 h-4\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3521,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-sm\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"\\uD83D\\uDCDE NEEDS FOLLOWUP\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3522,\n                      columnNumber: 21\n                    }, this), ((_activeFilters$urgenc4 = activeFilters.urgency) === null || _activeFilters$urgenc4 === void 0 ? void 0 : _activeFilters$urgenc4.includes('needs-followup')) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs px-2 py-1 rounded-full\",\n                      style: {\n                        backgroundColor: `${themeStyles.textPrimary}20`,\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"ACTIVE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3524,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3520,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    style: {\n                      color: themeStyles.textPrimary\n                    },\n                    children: leads.filter(lead => getResponseUrgency(lead) === 'needs-followup').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3527,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs mt-1\",\n                    style: {\n                      color: themeStyles.textSecondary\n                    },\n                    children: \"You sent last, no reply 3+ days\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3530,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3519,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3513,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3470,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.accent\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3538,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search leads, tags, emails...\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                className: \"w-full pl-10 pr-4 py-2 rounded-lg backdrop-blur-sm focus:ring-2 transition-colors duration-300\",\n                style: {\n                  backgroundColor: themeStyles.tertiaryBg,\n                  border: `1px solid ${themeStyles.border}`,\n                  color: themeStyles.textPrimary,\n                  '--tw-ring-color': themeStyles.accent\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3539,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3537,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowSortPopup(!showSortPopup),\n                  className: \"w-full flex items-center justify-between px-4 py-2 rounded-lg hover:opacity-80 backdrop-blur-sm transition-all\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                      className: \"w-4 h-4\",\n                      style: {\n                        color: themeStyles.accent\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3563,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"Sort\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3564,\n                      columnNumber: 19\n                    }, this), activeSorts.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 rounded-full text-xs\",\n                      style: {\n                        backgroundColor: `${themeStyles.accent}20`,\n                        color: themeStyles.accent\n                      },\n                      children: activeSorts.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3566,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3562,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                    className: \"w-4 h-4\",\n                    style: {\n                      color: themeStyles.textMuted\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3571,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3557,\n                  columnNumber: 15\n                }, this), showSortPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-full left-0 right-0 mt-2 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.secondaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: \"Sort Options\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3579,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => setShowSortPopup(false),\n                        className: \"transition-colors duration-300 hover:opacity-80\",\n                        style: {\n                          color: themeStyles.textMuted\n                        },\n                        children: /*#__PURE__*/_jsxDEV(X, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3585,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3580,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3578,\n                      columnNumber: 21\n                    }, this), activeSorts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"text-xs font-medium mb-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"ACTIVE SORTS\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3592,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: activeSorts.map((sort, index) => {\n                          const option = sortOptions.find(opt => opt.field === sort.field);\n                          return /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center justify-between px-3 py-2 rounded-lg transition-colors duration-300\",\n                            style: {\n                              backgroundColor: `${themeStyles.accent}20`,\n                              border: `1px solid ${themeStyles.accent}`\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex items-center gap-2\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-xs px-2 py-1 rounded transition-colors duration-300\",\n                                style: {\n                                  backgroundColor: themeStyles.accent,\n                                  color: isDarkMode ? '#1A1C1A' : '#FFFFFF'\n                                },\n                                children: index + 1\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3599,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-sm transition-colors duration-300\",\n                                style: {\n                                  color: themeStyles.textPrimary\n                                },\n                                children: option === null || option === void 0 ? void 0 : option.label\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3602,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                onClick: () => handleAddSort(sort.field, sort.direction === 'desc' ? 'asc' : 'desc'),\n                                className: \"text-xs hover:opacity-80 transition-colors duration-300\",\n                                style: {\n                                  color: themeStyles.accent\n                                },\n                                children: sort.direction === 'desc' ? '↓' : '↑'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3603,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3598,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => handleRemoveSort(sort.field),\n                              className: \"hover:opacity-80 transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textMuted\n                              },\n                              children: /*#__PURE__*/_jsxDEV(X, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3616,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3611,\n                              columnNumber: 33\n                            }, this)]\n                          }, sort.field, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3597,\n                            columnNumber: 31\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3593,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3591,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"text-xs font-medium mb-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"ADD SORT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3627,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-1\",\n                        children: sortOptions.map(option => {\n                          const isActive = activeSorts.some(s => s.field === option.field);\n                          return /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => !isActive && handleAddSort(option.field),\n                            disabled: isActive,\n                            className: `w-full text-left px-3 py-2 rounded-lg text-sm transition-colors duration-300`,\n                            style: {\n                              backgroundColor: themeStyles.tertiaryBg,\n                              color: isActive ? themeStyles.textMuted : themeStyles.textPrimary,\n                              cursor: isActive ? 'not-allowed' : 'pointer'\n                            },\n                            children: [option.label, isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-xs ml-2\",\n                              style: {\n                                color: themeStyles.textMuted\n                              },\n                              children: \"(active)\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3644,\n                              columnNumber: 44\n                            }, this)]\n                          }, option.field, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3632,\n                            columnNumber: 29\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3628,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3626,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3577,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3576,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3556,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowFilterPopup(!showFilterPopup),\n                  className: \"w-full flex items-center justify-between px-4 py-2 rounded-lg hover:opacity-80 backdrop-blur-sm transition-all\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Filter, {\n                      className: \"w-4 h-4\",\n                      style: {\n                        color: themeStyles.accent\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3662,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: \"Filter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3663,\n                      columnNumber: 19\n                    }, this), getActiveFilterCount() > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 rounded-full text-xs\",\n                      style: {\n                        backgroundColor: `${themeStyles.accent}20`,\n                        color: themeStyles.accent\n                      },\n                      children: getActiveFilterCount()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3665,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3661,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                    className: \"w-4 h-4\",\n                    style: {\n                      color: themeStyles.textMuted\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3670,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3656,\n                  columnNumber: 15\n                }, this), showFilterPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-full left-0 right-0 mt-2 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.secondaryBg,\n                    border: `1px solid ${themeStyles.border}`,\n                    backdropFilter: 'none'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: \"Filter Options\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3678,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex gap-2\",\n                        children: [getActiveFilterCount() > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: handleClearAllFilters,\n                          className: \"text-xs transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.error\n                          },\n                          children: \"Clear All\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3681,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => setShowFilterPopup(false),\n                          className: \"transition-colors duration-300 hover:opacity-80\",\n                          style: {\n                            color: themeStyles.textMuted\n                          },\n                          children: /*#__PURE__*/_jsxDEV(X, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3694,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3689,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3679,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3677,\n                      columnNumber: 23\n                    }, this), getActiveFilterCount() > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"text-xs font-medium mb-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: \"ACTIVE FILTERS\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3702,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-wrap gap-2\",\n                        children: Object.entries(activeFilters).map(([category, values]) => (values || []).map(value => {\n                          const categoryOption = filterOptions[category];\n                          const valueOption = categoryOption === null || categoryOption === void 0 ? void 0 : categoryOption.options.find(opt => opt.value === value);\n                          if (!valueOption) return null;\n                          return /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs\",\n                            style: {\n                              backgroundColor: themeStyles.accent,\n                              color: isDarkMode ? '#1A1C1A' : '#FFFFFF'\n                            },\n                            children: [valueOption.label, /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => handleRemoveFilter(category, value),\n                              className: \"hover:opacity-80\",\n                              children: /*#__PURE__*/_jsxDEV(X, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3721,\n                                columnNumber: 39\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3717,\n                              columnNumber: 37\n                            }, this)]\n                          }, `${category}-${value}`, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3711,\n                            columnNumber: 35\n                          }, this);\n                        }))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3703,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3701,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-4\",\n                      children: Object.entries(filterOptions).map(([category, config]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"text-xs font-medium mb-2 uppercase transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textSecondary\n                          },\n                          children: config.label\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3735,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"space-y-1\",\n                          children: config.options.map(option => {\n                            var _activeFilters$catego;\n                            const isActive = (_activeFilters$catego = activeFilters[category]) === null || _activeFilters$catego === void 0 ? void 0 : _activeFilters$catego.includes(option.value);\n                            return /*#__PURE__*/_jsxDEV(\"button\", {\n                              onClick: () => {\n                                if (isActive) {\n                                  handleRemoveFilter(category, option.value);\n                                } else {\n                                  handleAddFilter(category, option.value);\n                                }\n                              },\n                              className: `w-full text-left px-3 py-2 rounded-lg text-sm transition-colors duration-300`,\n                              style: {\n                                backgroundColor: isActive ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                                color: themeStyles.textPrimary,\n                                border: isActive ? `1px solid ${themeStyles.accent}` : `1px solid ${themeStyles.border}`\n                              },\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [option.label, isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  style: {\n                                    color: themeStyles.accent\n                                  },\n                                  children: \"\\u2713\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3760,\n                                  columnNumber: 52\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3758,\n                                columnNumber: 37\n                              }, this)\n                            }, option.value, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3742,\n                              columnNumber: 35\n                            }, this);\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3738,\n                          columnNumber: 29\n                        }, this)]\n                      }, category, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3734,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3732,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3676,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3675,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3655,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3555,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab('all'),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${activeTab === 'all' ? 'opacity-100' : 'opacity-80 hover:opacity-90'}`,\n                style: {\n                  backgroundColor: activeTab === 'all' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                  color: activeTab === 'all' ? themeStyles.accent : themeStyles.textPrimary,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3793,\n                    columnNumber: 19\n                  }, this), \"Loading...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3792,\n                  columnNumber: 17\n                }, this) : 'All Leads'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3777,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab('need_response'),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${activeTab === 'need_response' ? 'opacity-100' : 'opacity-80 hover:opacity-90'}`,\n                style: {\n                  backgroundColor: activeTab === 'need_response' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                  color: activeTab === 'need_response' ? themeStyles.accent : themeStyles.textPrimary,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3816,\n                    columnNumber: 19\n                  }, this), \"Loading...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3815,\n                  columnNumber: 17\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Need Response\", activeTab !== 'need_response' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 px-2 py-1 rounded-full text-xs\",\n                    style: {\n                      backgroundColor: themeStyles.tertiaryBg,\n                      color: themeStyles.textMuted\n                    },\n                    children: leads.filter(lead => checkNeedsReply(lead.conversation)).length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3823,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3800,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab('recently_sent'),\n                className: `px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${activeTab === 'recently_sent' ? 'opacity-100' : 'opacity-80 hover:opacity-90'}`,\n                style: {\n                  backgroundColor: activeTab === 'recently_sent' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                  color: activeTab === 'recently_sent' ? themeStyles.accent : themeStyles.textPrimary,\n                  border: `1px solid ${themeStyles.border}`\n                },\n                disabled: loading,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3846,\n                    columnNumber: 19\n                  }, this), \"Loading...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3845,\n                  columnNumber: 17\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Recently Sent\", activeTab !== 'recently_sent' && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 px-2 py-1 rounded-full text-xs\",\n                    style: {\n                      backgroundColor: themeStyles.tertiaryBg,\n                      color: themeStyles.textMuted\n                    },\n                    children: leads.filter(lead => {\n                      if (lead.conversation.length === 0) return false;\n                      const lastMessage = lead.conversation[lead.conversation.length - 1];\n                      const timeSinceLastMessage = Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60));\n                      return lastMessage.type === 'SENT' && timeSinceLastMessage <= 24;\n                    }).length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3853,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3830,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3776,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3450,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto overflow-x-hidden\",\n            style: {\n              scrollbarWidth: 'thin',\n              scrollbarColor: '#54FCFF rgba(26, 28, 26, 0.5)',\n              minHeight: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pb-4\",\n              children: [filteredAndSortedLeads.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-8 text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No leads found for current filter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3875,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3874,\n                columnNumber: 15\n              }, this) : null, filteredAndSortedLeads.map((lead, index) => {\n                try {\n                  const intentStyle = getIntentStyle(lead.intent);\n                  const lastMessage = lead.conversation && lead.conversation.length > 0 ? lead.conversation[lead.conversation.length - 1] : null;\n                  const urgency = getResponseUrgency(lead);\n                  const displayTags = generateAutoTags(lead.conversation, lead);\n\n                  // Get the response badge for top of card\n                  const getResponseBadge = () => {\n                    if (urgency === 'urgent-response') {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-red-600 text-white px-4 py-2 rounded-full text-xs font-bold mb-3 shadow-lg relative overflow-hidden\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"absolute inset-0 bg-white opacity-20 animate-pulse\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3890,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"relative z-10\",\n                          children: \"\\uD83D\\uDEA8 URGENT NEEDS RESPONSE\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3891,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3889,\n                        columnNumber: 19\n                      }, this);\n                    } else if (urgency === 'needs-response') {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-red-500 text-white px-4 py-2 rounded-full text-xs font-medium mb-3 shadow-md relative overflow-hidden\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transform -skew-x-12 animate-shimmer\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3897,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"relative z-10\",\n                          children: \"\\u26A1 NEEDS RESPONSE\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3898,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3896,\n                        columnNumber: 19\n                      }, this);\n                    } else if (urgency === 'needs-followup') {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-green-600 text-white px-4 py-2 rounded-full text-xs font-medium mb-3 shadow-md relative overflow-hidden\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"absolute inset-0 bg-white opacity-10 animate-pulse\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3904,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"relative z-10\",\n                          children: \"\\uD83D\\uDCDE NEEDS FOLLOWUP\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3905,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3903,\n                        columnNumber: 19\n                      }, this);\n                    }\n                    return null;\n                  };\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: () => setSelectedLead(lead),\n                    className: `p-5 cursor-pointer transition-all duration-300 ease-out relative m-2 rounded-lg group`,\n                    style: {\n                      backgroundColor: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                      border: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id ? `2px solid ${themeStyles.accent}80` : `1px solid ${themeStyles.border}`,\n                      borderLeft: urgency !== 'none' ? `4px solid ${themeStyles.accent}` : `1px solid ${themeStyles.border}`,\n                      boxShadow: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id ? `0 0 30px ${themeStyles.accent}30` : 'none',\n                      animationDelay: `${index * 0.1}s`,\n                      backdropFilter: 'blur(5px)'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\",\n                      style: {\n                        background: `linear-gradient(45deg, ${themeStyles.accent}10 0%, ${themeStyles.accent}05 100%)`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3927,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative z-10\",\n                      children: [getResponseBadge(), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-start mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: `transition-all duration-300 ${urgency !== 'none' ? 'font-bold' : 'font-medium'} flex items-center gap-2`,\n                          style: {\n                            color: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id ? themeStyles.accent : themeStyles.textPrimary\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [lead.first_name, \" \", lead.last_name]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3937,\n                            columnNumber: 23\n                          }, this), urgency !== 'none' && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-sm animate-pulse\",\n                            style: {\n                              color: themeStyles.error\n                            },\n                            children: \"\\u25CF\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3938,\n                            columnNumber: 46\n                          }, this), drafts[lead.id] && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"px-2 py-1 text-xs rounded-full transition-all duration-300 flex items-center gap-1\",\n                            style: {\n                              backgroundColor: `${themeStyles.warning}20`,\n                              border: `1px solid ${themeStyles.warning}`,\n                              color: themeStyles.warning\n                            },\n                            title: \"Has unsaved draft\",\n                            children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                              className: \"w-3 h-3\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3945,\n                              columnNumber: 27\n                            }, this), \"Draft\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3940,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3935,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-1\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"px-2 py-1 text-xs rounded-full transition-all duration-300 transform group-hover:scale-110\",\n                            style: {\n                              backgroundColor: `${themeStyles.accent}15`,\n                              border: `1px solid ${themeStyles.border}`,\n                              color: themeStyles.textPrimary\n                            },\n                            children: lead.intent\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3951,\n                            columnNumber: 23\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3950,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3934,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm mb-1 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: lead.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3958,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `text-sm mb-2 transition-all duration-300 ${urgency !== 'none' ? 'font-bold' : 'font-medium'}`,\n                        style: {\n                          color: (selectedLead === null || selectedLead === void 0 ? void 0 : selectedLead.id) === lead.id ? themeStyles.accent : themeStyles.textPrimary\n                        },\n                        children: lead.subject\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3959,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-3 text-xs mb-2\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `font-medium transition-all duration-300 group-hover:scale-105`,\n                          style: {\n                            color: getEngagementColor(lead.engagement_score)\n                          },\n                          children: [lead.engagement_score, \"% engagement\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3966,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"transition-all duration-300 group-hover:scale-105\",\n                          style: {\n                            color: themeStyles.accent\n                          },\n                          children: [lead.conversation.filter(m => m.type === 'REPLY').length, \" replies\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3969,\n                          columnNumber: 21\n                        }, this), urgency !== 'none' && lastMessage && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-bold animate-pulse transition-all duration-300 group-hover:scale-105\",\n                          style: {\n                            color: themeStyles.error\n                          },\n                          children: [Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60 * 24)), \" days\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3973,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3965,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-wrap gap-2 mb-3\",\n                        children: [displayTags.slice(0, 3).map((tag, tagIndex) => /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs px-3 py-1 rounded-full transition-all duration-300 transform hover:scale-110\",\n                          style: {\n                            backgroundColor: `${themeStyles.accent}15`,\n                            color: themeStyles.textPrimary,\n                            border: `1px solid ${themeStyles.border}`,\n                            animation: `tagFadeIn 0.5s ease-out ${index * 0.1 + tagIndex * 0.1}s both`\n                          },\n                          children: tag\n                        }, tag, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3982,\n                          columnNumber: 23\n                        }, this)), displayTags.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textSecondary\n                          },\n                          children: [\"+\", displayTags.length - 3]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3994,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3980,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between text-xs\",\n                        style: {\n                          color: themeStyles.textSecondary\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-3\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center transition-all duration-300\",\n                            children: [/*#__PURE__*/_jsxDEV(Timer, {\n                              className: \"w-3 h-3 mr-1 transition-transform duration-300 group-hover:rotate-12\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4001,\n                              columnNumber: 25\n                            }, this), \"Last followup: \", (() => {\n                              const lastSent = lead.conversation.filter(m => m.type === 'SENT');\n                              if (lastSent.length === 0) return 'N/A';\n                              const daysSince = Math.floor((new Date() - new Date(lastSent[lastSent.length - 1].time)) / (1000 * 60 * 60 * 24));\n                              return `${daysSince}d ago`;\n                            })()]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4000,\n                            columnNumber: 23\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex items-center transition-all duration-300\",\n                            children: [/*#__PURE__*/_jsxDEV(Clock, {\n                              className: \"w-3 h-3 mr-1 transition-transform duration-300 group-hover:rotate-12\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4010,\n                              columnNumber: 25\n                            }, this), \"Last reply: \", (() => {\n                              const lastReply = getLastResponseFromThem(lead.conversation);\n                              if (!lastReply) return 'None';\n                              const daysSince = Math.floor((new Date() - new Date(lastReply)) / (1000 * 60 * 60 * 24));\n                              return `${daysSince}d ago`;\n                            })()]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4009,\n                            columnNumber: 23\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3999,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"px-3 py-1 rounded-full text-xs transition-all duration-300 transform group-hover:scale-105\",\n                            style: {\n                              backgroundColor: themeStyles.tertiaryBg,\n                              border: `1px solid ${themeStyles.border}`,\n                              color: themeStyles.textPrimary\n                            },\n                            children: [lead.conversation.length, \" messages\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4020,\n                            columnNumber: 23\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4019,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3998,\n                        columnNumber: 19\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3930,\n                      columnNumber: 17\n                    }, this)]\n                  }, lead.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3913,\n                    columnNumber: 15\n                  }, this);\n                } catch (error) {\n                  console.error('Error rendering lead:', lead.first_name, error);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 m-2 bg-red-500/20 text-white rounded\",\n                    children: [\"Error rendering \", lead.first_name || 'Unknown', \": \", error.message]\n                  }, lead.id || index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4032,\n                    columnNumber: 17\n                  }, this);\n                }\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3872,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3871,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3448,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col shadow-lg transition-colors duration-300\",\n          style: {\n            backgroundColor: themeStyles.secondaryBg,\n            borderRadius: '12px',\n            margin: '8px',\n            marginLeft: '4px',\n            border: `1px solid ${themeStyles.border}`\n          },\n          children: selectedLead ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-8 transition-colors duration-300\",\n              style: {\n                backgroundColor: themeStyles.tertiaryBg,\n                borderRadius: '12px 12px 0 0',\n                borderBottom: `1px solid ${themeStyles.border}`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    className: \"text-3xl font-bold transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textPrimary\n                    },\n                    children: [selectedLead.first_name, \" \", selectedLead.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4050,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 font-medium transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textSecondary\n                    },\n                    children: selectedLead.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4053,\n                    columnNumber: 19\n                  }, this), selectedLead.phone ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm mt-2 flex items-center gap-2 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.accent\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Phone, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4056,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: selectedLead.phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4057,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4055,\n                    columnNumber: 21\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm mt-2 flex items-center gap-2 transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textMuted\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Phone, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4061,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"No phone number found\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4062,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4060,\n                    columnNumber: 21\n                  }, this), selectedLead.website && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm mt-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `https://${selectedLead.website}`,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"flex items-center gap-2 hover:opacity-80 transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.accent\n                      },\n                      children: [selectedLead.website, /*#__PURE__*/_jsxDEV(ExternalLink, {\n                        className: \"w-3 h-3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4069,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4067,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4066,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4049,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-4\",\n                  children: [(() => {\n                    const intentStyle = getIntentStyle(selectedLead.intent);\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-3 py-1 rounded-full text-sm font-medium transition-colors duration-300\",\n                      style: {\n                        backgroundColor: `${themeStyles.accent}15`,\n                        border: `1px solid ${themeStyles.border}`,\n                        color: themeStyles.textPrimary\n                      },\n                      children: [intentStyle.label, \" (\", selectedLead.intent, \"/10)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4078,\n                      columnNumber: 23\n                    }, this);\n                  })(), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => showDeleteConfirmation(selectedLead),\n                    className: \"px-3 py-2 rounded-lg transition-colors duration-300 flex items-center gap-2 text-sm hover:opacity-80\",\n                    title: \"Delete lead\",\n                    style: {\n                      border: `1px solid ${themeStyles.border}`,\n                      backgroundColor: themeStyles.tertiaryBg,\n                      color: themeStyles.textPrimary\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4089,\n                      columnNumber: 21\n                    }, this), \"Delete\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4083,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setSelectedLead(null),\n                    className: \"p-2 rounded-lg transition-colors duration-300 hover:opacity-80\",\n                    style: {\n                      border: `1px solid ${themeStyles.border}`,\n                      backgroundColor: themeStyles.tertiaryBg,\n                      color: themeStyles.textMuted\n                    },\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4097,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4092,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4074,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4048,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4047,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 overflow-y-auto p-8 transition-colors duration-300\",\n              style: {\n                scrollbarWidth: 'thin',\n                scrollbarColor: `${themeStyles.accent} ${themeStyles.primaryBg}50`\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl p-6 shadow-lg transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center mb-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-bold flex items-center text-lg transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(User, {\n                        className: \"w-4 h-4 mr-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.accent\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4110,\n                        columnNumber: 21\n                      }, this), \"Lead Information\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4109,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => findPhoneNumber(selectedLead),\n                        disabled: searchingPhoneLeads.has(selectedLead.id),\n                        className: \"px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm hover:opacity-80 disabled:opacity-50 flex items-center gap-2\",\n                        style: {\n                          backgroundColor: `${themeStyles.accent}20`,\n                          color: themeStyles.accent,\n                          border: `1px solid ${themeStyles.accent}30`\n                        },\n                        children: searchingPhoneLeads.has(selectedLead.id) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"animate-spin rounded-full h-4 w-4 border-b-2\",\n                            style: {\n                              borderColor: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4122,\n                            columnNumber: 35\n                          }, this), \"Searching...\"]\n                        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Phone, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4127,\n                            columnNumber: 35\n                          }, this), \"Find Phone\"]\n                        }, void 0, true)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4114,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => enrichLeadData(selectedLead),\n                        disabled: enrichingLeads.has(selectedLead.id),\n                        className: \"px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm hover:opacity-80 disabled:opacity-50 flex items-center gap-2\",\n                        style: {\n                          backgroundColor: `${themeStyles.accent}20`,\n                          color: themeStyles.accent,\n                          border: `1px solid ${themeStyles.accent}30`\n                        },\n                        children: enrichingLeads.has(selectedLead.id) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"animate-spin rounded-full h-4 w-4 border-b-2\",\n                            style: {\n                              borderColor: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4140,\n                            columnNumber: 35\n                          }, this), \"Enriching...\"]\n                        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(Zap, {\n                            className: \"w-4 h-4\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4145,\n                            columnNumber: 35\n                          }, this), \"Enrich\"]\n                        }, void 0, true)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4132,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4113,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4108,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-6 p-4 rounded-lg transition-colors duration-300\",\n                    style: {\n                      backgroundColor: themeStyles.tertiaryBg,\n                      border: `1px solid ${themeStyles.border}`\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between text-sm\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textMuted\n                            },\n                            children: \"Last Reply\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4158,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium mt-1 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: (() => {\n                              const lastReply = getLastResponseFromThem(selectedLead.conversation);\n                              return lastReply ? formatTime(lastReply) : 'No replies yet';\n                            })()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4159,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4157,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textMuted\n                            },\n                            children: \"Last Followup\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4167,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium mt-1 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: (() => {\n                              const lastSent = selectedLead.conversation.filter(m => m.type === 'SENT');\n                              return lastSent.length > 0 ? formatTime(lastSent[lastSent.length - 1].time) : 'N/A';\n                            })()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4168,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4166,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textMuted\n                            },\n                            children: \"Avg Response\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4176,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium mt-1 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: formatResponseTime(selectedLead.response_time_avg)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4177,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4175,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4156,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-3 py-1 rounded-full text-sm transition-colors duration-300\",\n                        style: {\n                          backgroundColor: `${themeStyles.accent}15`,\n                          border: `1px solid ${themeStyles.accent}20`\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textPrimary\n                          },\n                          children: selectedLead.conversation.filter(m => m.type === 'REPLY').length\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4181,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textMuted\n                          },\n                          children: \" replies\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4182,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4180,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4155,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4154,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rounded-lg overflow-hidden transition-all duration-200\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => toggleSection('general'),\n                        className: \"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n                            className: `w-4 h-4 transition-transform duration-200 ${activeSection.includes('general') ? 'rotate-90' : ''}`,\n                            style: {\n                              color: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4195,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: \"General Information\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4199,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4194,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4190,\n                        columnNumber: 29\n                      }, this), activeSection.includes('general') && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-4 pb-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grid grid-cols-2 gap-4 text-sm pl-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Subject:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4206,\n                              columnNumber: 23\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textPrimary\n                              },\n                              children: selectedLead.subject\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4207,\n                              columnNumber: 23\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4205,\n                            columnNumber: 21\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Website:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4210,\n                              columnNumber: 23\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium\",\n                              children: selectedLead.website ? /*#__PURE__*/_jsxDEV(\"a\", {\n                                href: `https://${selectedLead.website}`,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"hover:opacity-80 flex items-center gap-1 transition-colors duration-300\",\n                                style: {\n                                  color: themeStyles.accent\n                                },\n                                children: [selectedLead.website, /*#__PURE__*/_jsxDEV(ExternalLink, {\n                                  className: \"w-3 h-3\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4215,\n                                  columnNumber: 29\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4213,\n                                columnNumber: 27\n                              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"transition-colors duration-300\",\n                                style: {\n                                  color: themeStyles.textPrimary\n                                },\n                                children: \"N/A\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4217,\n                                columnNumber: 29\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4211,\n                              columnNumber: 23\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4209,\n                            columnNumber: 21\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-span-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Tags:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4221,\n                              columnNumber: 23\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex flex-wrap gap-1 mt-1\",\n                              children: selectedLead.tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-xs px-2 py-1 rounded-full transition-colors duration-300\",\n                                style: {\n                                  backgroundColor: `${themeStyles.accent}15`,\n                                  border: `1px solid ${themeStyles.border}`,\n                                  color: themeStyles.textPrimary\n                                },\n                                children: tag\n                              }, tag, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4224,\n                                columnNumber: 27\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4222,\n                              columnNumber: 23\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4220,\n                            columnNumber: 21\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4204,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4203,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4189,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rounded-lg overflow-hidden transition-all duration-200\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => toggleSection('enrichment'),\n                        className: \"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n                            className: `w-4 h-4 transition-transform duration-200 ${activeSection.includes('enrichment') ? 'rotate-90' : ''}`,\n                            style: {\n                              color: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4242,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: \"Enrichment Data\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4246,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4241,\n                          columnNumber: 31\n                        }, this), !selectedLead.role && !selectedLead.company_data && !selectedLead.personal_linkedin_url && !selectedLead.business_linkedin_url && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textMuted\n                          },\n                          children: \"No data yet\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4249,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4237,\n                        columnNumber: 29\n                      }, this), activeSection.includes('enrichment') && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-4 pb-4\",\n                        children: !selectedLead.role && !selectedLead.company_data && !selectedLead.personal_linkedin_url && !selectedLead.business_linkedin_url ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center py-6 rounded-lg mx-6 transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textMuted,\n                            border: `1px solid ${themeStyles.border}`\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(Zap, {\n                            className: \"w-8 h-8 mx-auto mb-3 opacity-50\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4256,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm\",\n                            children: \"Click the Enrich button above to fetch additional data\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4257,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4255,\n                          columnNumber: 35\n                        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grid grid-cols-2 gap-4 text-sm pl-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Role:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4262,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textPrimary\n                              },\n                              children: selectedLead.role || 'N/A'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4263,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4261,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-span-2\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Company Summary:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4266,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium mt-1 transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textPrimary\n                              },\n                              children: selectedLead.company_data || 'N/A'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4267,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4265,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Personal LinkedIn:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4270,\n                              columnNumber: 39\n                            }, this), selectedLead.personal_linkedin_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: selectedLead.personal_linkedin_url,\n                              target: \"_blank\",\n                              rel: \"noopener noreferrer\",\n                              className: \"font-medium hover:opacity-80 flex items-center gap-1 transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.accent\n                              },\n                              children: [\"View Profile\", /*#__PURE__*/_jsxDEV(ExternalLink, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4280,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4272,\n                              columnNumber: 41\n                            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textPrimary\n                              },\n                              children: \"N/A\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4283,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4269,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textSecondary\n                              },\n                              children: \"Company LinkedIn:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4287,\n                              columnNumber: 39\n                            }, this), selectedLead.business_linkedin_url ? /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: selectedLead.business_linkedin_url,\n                              target: \"_blank\",\n                              rel: \"noopener noreferrer\",\n                              className: \"font-medium hover:opacity-80 flex items-center gap-1 transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.accent\n                              },\n                              children: [\"View Company\", /*#__PURE__*/_jsxDEV(ExternalLink, {\n                                className: \"w-3 h-3\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4297,\n                                columnNumber: 43\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4289,\n                              columnNumber: 41\n                            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"font-medium transition-colors duration-300\",\n                              style: {\n                                color: themeStyles.textPrimary\n                              },\n                              children: \"N/A\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4300,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4286,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4260,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4253,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4236,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rounded-lg overflow-hidden transition-all duration-200\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => toggleSection('engagement'),\n                        className: \"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n                            className: `w-4 h-4 transition-transform duration-200 ${activeSection.includes('engagement') ? 'rotate-90' : ''}`,\n                            style: {\n                              color: themeStyles.accent\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4316,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textPrimary\n                            },\n                            children: \"Engagement Metrics\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4320,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4315,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4311,\n                        columnNumber: 29\n                      }, this), activeSection.includes('engagement') && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"px-4 pb-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"grid grid-cols-3 gap-4 text-sm pl-6\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-span-3 p-4 rounded-lg transition-colors duration-300\",\n                            style: {\n                              backgroundColor: themeStyles.tertiaryBg,\n                              border: `1px solid ${themeStyles.border}`\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"grid grid-cols-3 gap-8\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.textMuted\n                                  },\n                                  children: \"Avg Response Time\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4329,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-2xl font-bold mt-1 transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.textPrimary\n                                  },\n                                  children: formatResponseTime(selectedLead.response_time_avg)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4330,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4328,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.textMuted\n                                  },\n                                  children: \"Intent Score\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4335,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-2xl font-bold mt-1 transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.accent\n                                  },\n                                  children: [selectedLead.intent, \"/10\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4336,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4334,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.textMuted\n                                  },\n                                  children: \"Reply Rate\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4341,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-2xl font-bold mt-1 transition-colors duration-300\",\n                                  style: {\n                                    color: themeStyles.textPrimary\n                                  },\n                                  children: [selectedLead.conversation.filter(msg => msg.type === 'REPLY').length, \"/\", selectedLead.conversation.filter(msg => msg.type === 'SENT').length]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 4342,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 4340,\n                                columnNumber: 39\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4327,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4326,\n                            columnNumber: 35\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4325,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4324,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4310,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4187,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4107,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl p-6 shadow-lg transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-bold mb-4 flex items-center text-lg transition-colors duration-300\",\n                    style: {\n                      color: themeStyles.textPrimary\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                      className: \"w-4 h-4 mr-2 transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.accent\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4358,\n                      columnNumber: 21\n                    }, this), \"Conversation History (\", selectedLead.conversation.length, \" messages)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4357,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-6 max-h-96 overflow-y-auto\",\n                    style: {\n                      scrollbarWidth: 'thin',\n                      scrollbarColor: `${themeStyles.accent} ${themeStyles.primaryBg}50`\n                    },\n                    children: selectedLead.conversation.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `p-5 rounded-xl border shadow-sm transition-colors duration-300`,\n                      style: {\n                        backgroundColor: message.type === 'SENT' ? `${themeStyles.accent}08` : themeStyles.tertiaryBg,\n                        borderColor: message.type === 'SENT' ? `${themeStyles.accent}30` : themeStyles.border\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-start mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `font-medium transition-colors duration-300`,\n                            style: {\n                              color: message.type === 'SENT' ? themeStyles.accent : themeStyles.textPrimary\n                            },\n                            children: message.type === 'SENT' ? 'Outbound' : 'Reply'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4373,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ml-2 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textSecondary\n                            },\n                            children: formatTime(message.time)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4376,\n                            columnNumber: 31\n                          }, this), message.response_time && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ml-2 text-xs transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.success\n                            },\n                            children: [\"\\u2022 \", formatResponseTime(message.response_time), \" response\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4380,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4372,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `px-2 py-1 text-xs rounded-full transition-colors duration-300`,\n                            style: {\n                              backgroundColor: message.type === 'SENT' ? `${themeStyles.accent}15` : themeStyles.tertiaryBg,\n                              border: `1px solid ${themeStyles.border}`,\n                              color: message.type === 'SENT' ? themeStyles.accent : themeStyles.textPrimary\n                            },\n                            children: message.type\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4386,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4385,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4371,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mb-3 text-xs space-y-1 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textMuted\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex flex-wrap gap-4\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"From:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4401,\n                              columnNumber: 37\n                            }, this), \" \", message.from || 'N/A']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4401,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"To:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 4402,\n                              columnNumber: 37\n                            }, this), \" \", message.to || 'N/A']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4402,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4400,\n                          columnNumber: 29\n                        }, this), message.cc && Array.isArray(message.cc) && message.cc.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"CC:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4406,\n                            columnNumber: 33\n                          }, this), \" \", message.cc.map(cc => {\n                            if (typeof cc === 'string') return cc;\n                            if (cc && cc.address) return cc.address;\n                            if (cc && cc.name && cc.name.trim() !== '') return cc.name;\n                            return '';\n                          }).filter(Boolean).join(', ')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4405,\n                          columnNumber: 31\n                        }, this), message.subject && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Subject:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4416,\n                            columnNumber: 33\n                          }, this), \" \", message.subject]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4415,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4399,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm whitespace-pre-wrap leading-relaxed transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: message.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4421,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4363,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4361,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4356,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl p-6 shadow-lg transition-colors duration-300\",\n                  style: {\n                    backgroundColor: themeStyles.tertiaryBg,\n                    border: `1px solid ${themeStyles.border}`\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-bold flex items-center text-lg transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textPrimary\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Mail, {\n                        className: \"w-4 h-4 mr-2 transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.accent\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4433,\n                        columnNumber: 23\n                      }, this), \"Compose Response\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4432,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 text-xs transition-colors duration-300\",\n                      style: {\n                        color: themeStyles.textMuted\n                      },\n                      children: [isDraftSaving && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex items-center gap-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"animate-spin w-3 h-3 border border-t-transparent rounded-full\",\n                          style: {\n                            borderColor: themeStyles.accent\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4440,\n                          columnNumber: 27\n                        }, this), \"Saving draft...\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4439,\n                        columnNumber: 25\n                      }, this), selectedLead && drafts[selectedLead.id] && !isDraftSaving && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex items-center gap-1\",\n                        style: {\n                          color: themeStyles.success\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                          className: \"w-3 h-3\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4446,\n                          columnNumber: 27\n                        }, this), \"Draft saved \", new Date(drafts[selectedLead.id].savedAt).toLocaleTimeString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4445,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4437,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4431,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-4 rounded-lg transition-colors duration-300\",\n                      style: {\n                        backgroundColor: themeStyles.tertiaryBg,\n                        border: `1px solid ${themeStyles.border}`\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium mb-3 flex items-center text-sm transition-colors duration-300\",\n                        style: {\n                          color: themeStyles.textPrimary\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Mail, {\n                          className: \"w-4 h-4 mr-2 transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.accent\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4457,\n                          columnNumber: 25\n                        }, this), \"Email Recipients\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4456,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-1 gap-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"text-xs block mb-1 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textSecondary\n                            },\n                            children: \"To:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4462,\n                            columnNumber: 27\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"email\",\n                            value: editableToEmail,\n                            onChange: e => setEditableToEmail(e.target.value),\n                            className: \"w-full px-3 py-2 rounded-lg text-sm focus:ring-2 transition-colors duration-300\",\n                            style: {\n                              backgroundColor: themeStyles.secondaryBg,\n                              border: `1px solid ${themeStyles.border}`,\n                              color: themeStyles.textPrimary,\n                              '--tw-ring-color': themeStyles.accent\n                            },\n                            placeholder: \"Primary recipient email\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4463,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4461,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"text-xs block mb-1 transition-colors duration-300\",\n                            style: {\n                              color: themeStyles.textSecondary\n                            },\n                            children: \"CC: (separate multiple emails with commas)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4478,\n                            columnNumber: 27\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            value: editableCcEmails,\n                            onChange: e => setEditableCcEmails(e.target.value),\n                            className: \"w-full px-3 py-2 rounded-lg text-sm focus:ring-2 transition-colors duration-300\",\n                            style: {\n                              backgroundColor: themeStyles.secondaryBg,\n                              border: `1px solid ${themeStyles.border}`,\n                              color: themeStyles.textPrimary,\n                              '--tw-ring-color': themeStyles.accent\n                            },\n                            placeholder: \"CC recipients (optional)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 4479,\n                            columnNumber: 27\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4477,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textMuted\n                          },\n                          children: \"Auto-populated based on conversation. Edit as needed before sending.\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4493,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4460,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4455,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex gap-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: generateDraft,\n                        disabled: isGeneratingDraft,\n                        className: \"px-4 py-2 rounded-lg hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.accent,\n                          color: isDarkMode ? '#1A1C1A' : '#FFFFFF'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4506,\n                          columnNumber: 25\n                        }, this), isGeneratingDraft ? 'Generating...' : 'Generate Smart Draft']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4500,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4499,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-wrap gap-2 p-3 rounded-lg transition-colors duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.tertiaryBg,\n                          border: `1px solid ${themeStyles.border}`\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => formatText('bold'),\n                          className: \"px-3 py-1 rounded text-xs font-bold hover:opacity-80 transition-all duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Bold\",\n                          children: \"B\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4515,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => formatText('italic'),\n                          className: \"px-3 py-1 rounded text-xs italic hover:opacity-80 transition-all duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Italic\",\n                          children: \"I\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4524,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: () => formatText('underline'),\n                          className: \"px-3 py-1 rounded text-xs underline hover:opacity-80 transition-all duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Underline\",\n                          children: \"U\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4533,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: insertLink,\n                          className: \"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300 flex items-center gap-1\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Insert Link\",\n                          children: \"\\uD83D\\uDD17 Link\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4542,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          onClick: insertList,\n                          className: \"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Bullet List\",\n                          children: \"\\u2022 List\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4551,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mx-2\",\n                          style: {\n                            borderLeft: `1px solid ${themeStyles.border}`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4560,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"file\",\n                          multiple: true,\n                          accept: \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\",\n                          className: \"hidden\",\n                          id: \"attachment-input\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4561,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"attachment-input\",\n                          className: \"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300 cursor-pointer flex items-center gap-1\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textPrimary\n                          },\n                          title: \"Attach File\",\n                          children: \"\\uD83D\\uDCCE Attach\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4568,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4514,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        contentEditable: true,\n                        suppressContentEditableWarning: true,\n                        onInput: handleTextareaChange,\n                        onKeyDown: e => {\n                          // Handle common keyboard shortcuts\n                          if (e.ctrlKey || e.metaKey) {\n                            switch (e.key) {\n                              case 'b':\n                                e.preventDefault();\n                                formatText('bold');\n                                break;\n                              case 'i':\n                                e.preventDefault();\n                                formatText('italic');\n                                break;\n                              case 'u':\n                                e.preventDefault();\n                                formatText('underline');\n                                break;\n                            }\n                          } else if (e.key === 'Enter') {\n                            const selection = window.getSelection();\n                            if (selection.rangeCount > 0) {\n                              const range = selection.getRangeAt(0);\n                              let currentListItem = range.startContainer;\n\n                              // Navigate up to find the list item div\n                              while (currentListItem && (!currentListItem.style || currentListItem.style.position !== 'relative')) {\n                                currentListItem = currentListItem.parentNode;\n                              }\n\n                              // If we're in a list item\n                              if (currentListItem && currentListItem.style && currentListItem.style.position === 'relative') {\n                                e.preventDefault();\n\n                                // Check if current list item is empty (except for bullet)\n                                const textContent = currentListItem.textContent.replace('•', '').trim();\n                                if (textContent === '') {\n                                  // Exit list if empty\n                                  const newLine = document.createElement('div');\n                                  newLine.innerHTML = '<br>';\n                                  currentListItem.parentNode.replaceChild(newLine, currentListItem);\n\n                                  // Place cursor in new line\n                                  const newRange = document.createRange();\n                                  newRange.setStart(newLine, 0);\n                                  newRange.collapse(true);\n                                  selection.removeAllRanges();\n                                  selection.addRange(newRange);\n                                } else {\n                                  // Create new bullet point\n                                  const listItem = document.createElement('div');\n                                  listItem.style.cssText = `\n                                          position: relative;\n                                          padding-left: 20px;\n                                          margin: 4px 0;\n                                          line-height: 1.5;\n                                        `;\n                                  const bullet = document.createElement('span');\n                                  bullet.textContent = '•';\n                                  bullet.style.cssText = `\n                                          position: absolute;\n                                          left: 4px;\n                                          font-size: 1.2em;\n                                          line-height: 1;\n                                          top: 50%;\n                                          transform: translateY(-50%);\n                                        `;\n                                  const textContent = document.createElement('span');\n                                  textContent.style.color = 'white';\n                                  listItem.appendChild(bullet);\n                                  listItem.appendChild(textContent);\n\n                                  // Insert after current list item\n                                  currentListItem.parentNode.insertBefore(listItem, currentListItem.nextSibling);\n\n                                  // Move cursor to new list item\n                                  const newRange = document.createRange();\n                                  newRange.setStart(textContent, 0);\n                                  newRange.collapse(true);\n                                  selection.removeAllRanges();\n                                  selection.addRange(newRange);\n                                }\n\n                                // Update content\n                                handleTextareaChange({\n                                  target: e.target\n                                });\n                              }\n                            }\n                          }\n                        },\n                        className: \"w-full h-40 p-3 rounded-lg resize-none focus:ring-2 focus:outline-none overflow-y-auto transition-colors duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.secondaryBg,\n                          border: `1px solid ${themeStyles.border}`,\n                          color: themeStyles.textPrimary,\n                          '--tw-ring-color': themeStyles.accent,\n                          minHeight: '160px'\n                        },\n                        \"data-placeholder\": \"Generated draft will appear here, or write your own response...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4579,\n                        columnNumber: 23\n                      }, this), draftHtml && /*#__PURE__*/_jsxDEV(\"details\", {\n                        className: \"text-xs\",\n                        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                          className: \"cursor-pointer transition-colors duration-300\",\n                          style: {\n                            color: themeStyles.textMuted\n                          },\n                          children: \"HTML Preview\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4688,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                          className: \"mt-2 p-2 rounded whitespace-pre-wrap transition-colors duration-300\",\n                          style: {\n                            backgroundColor: themeStyles.tertiaryBg,\n                            color: themeStyles.textSecondary\n                          },\n                          children: draftHtml\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4689,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4687,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4512,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-end\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: sendMessage,\n                        disabled: !draftResponse.trim() || isSending,\n                        className: \"px-6 py-2 rounded-lg hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all duration-300\",\n                        style: {\n                          backgroundColor: themeStyles.success,\n                          color: '#FFFFFF'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Send, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 4703,\n                          columnNumber: 25\n                        }, this), isSending ? 'Sending...' : 'Send Message']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 4697,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4696,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4453,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4430,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4105,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4104,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 flex items-center justify-center transition-colors duration-300\",\n            style: {\n              color: themeStyles.textMuted\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                className: \"w-12 h-12 mx-auto mb-4 transition-colors duration-300\",\n                style: {\n                  color: themeStyles.accent\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4715,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg font-medium transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textPrimary\n                },\n                children: \"Select a lead to view details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4716,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm transition-colors duration-300\",\n                style: {\n                  color: themeStyles.textSecondary\n                },\n                children: \"Choose a lead from the inbox to see their conversation history and respond\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4717,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4714,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4713,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4043,\n          columnNumber: 7\n        }, this), showDeleteConfirm && leadToDelete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg p-6 max-w-md w-mx mx-4 shadow-xl\",\n            style: {\n              backgroundColor: '#1A1C1A',\n              border: '1px solid white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white mb-2\",\n              children: \"Delete Lead\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4727,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300 mb-6\",\n              children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-white\",\n                children: [leadToDelete.first_name, \" \", leadToDelete.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4729,\n                columnNumber: 47\n              }, this), \"? This action cannot be undone.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4728,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 justify-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowDeleteConfirm(false);\n                  setLeadToDelete(null);\n                },\n                className: \"px-4 py-2 text-white hover:opacity-80 rounded-lg transition-colors\",\n                style: {\n                  border: '1px solid white'\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4733,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteLead(leadToDelete),\n                className: \"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg transition-colors\",\n                children: \"Delete Lead\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4743,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4732,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4726,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4725,\n          columnNumber: 9\n        }, this), showSentConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg p-6 max-w-md w-mx mx-4 shadow-xl\",\n            style: {\n              backgroundColor: '#1A1C1A',\n              border: '1px solid white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-green-400 mb-2\",\n              children: \"Message Sent Successfully!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4758,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300 mb-6\",\n              children: \"Your message has been sent and the conversation has been updated.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4759,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 justify-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setShowSentConfirm(false);\n                  setSelectedLead(null);\n                },\n                className: \"px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-lg transition-colors\",\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4763,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4762,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4757,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4756,\n          columnNumber: 9\n        }, this), showEnrichmentPopup && enrichmentData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\",\n            style: {\n              backgroundColor: '#1A1C1A',\n              border: '1px solid rgba(84, 252, 255, 0.3)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold\",\n                style: {\n                  color: '#54FCFF'\n                },\n                children: \"Enriched Lead Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4782,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowEnrichmentPopup(false),\n                className: \"text-gray-400 hover:text-white\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4787,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4783,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4781,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-gray-400 text-sm\",\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4793,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white font-medium\",\n                  children: enrichmentData.role || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4794,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4792,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-gray-400 text-sm\",\n                  children: \"Company Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4798,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white font-medium\",\n                  children: enrichmentData.companySummary || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4799,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4797,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"text-gray-400 text-sm\",\n                  children: \"LinkedIn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4803,\n                  columnNumber: 23\n                }, this), enrichmentData.linkedin ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: enrichmentData.linkedin,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"flex items-center gap-2 hover:opacity-80 transition-colors mt-1\",\n                  style: {\n                    color: '#54FCFF'\n                  },\n                  children: [enrichmentData.linkedin, /*#__PURE__*/_jsxDEV(ExternalLink, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4813,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4805,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white\",\n                  children: \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4816,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4802,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4791,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4780,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4779,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2977,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2582,\n    columnNumber: 5\n  }, this);\n};\n_s(InboxManager, \"j+S7ES9yify2C7CvNP8SrnCstts=\");\n_c = InboxManager;\nexport default InboxManager;\nvar _c;\n$RefreshReg$(_c, \"InboxManager\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","Search","Filter","Send","Edit3","Clock","Mail","User","MessageSquare","ChevronDown","ChevronRight","X","TrendingUp","Calendar","ExternalLink","BarChart3","Users","AlertCircle","CheckCircle","Timer","Zap","Target","DollarSign","Activity","Key","Brain","Database","Loader2","Save","Phone","LogOut","leadsService","jsxDEV","_jsxDEV","Fragment","_Fragment","ENCRYPTION_SALT","encryptApiKey","key","combined","btoa","error","console","warn","decryptApiKey","encryptedKey","decoded","atob","replace","sanitizeHtml","html","temp","document","createElement","innerHTML","dangerousElements","dangerousAttributes","forEach","tagName","elements","querySelectorAll","el","remove","allElements","attr","hasAttribute","removeAttribute","value","getAttribute","toLowerCase","startsWith","InboxManager","user","onSignOut","_s","_activeFilters$urgenc2","_activeFilters$urgenc3","_activeFilters$urgenc4","leads","setLeads","loading","setLoading","setError","enrichmentData","setEnrichmentData","isEnriching","setIsEnriching","showEnrichmentPopup","setShowEnrichmentPopup","activeTab","setActiveTab","showApiSettings","setShowApiSettings","apiKeys","setApiKeys","esp","provider","localStorage","getItem","fullenrich","apiTestStatus","setApiTestStatus","isSavingApi","setIsSavingApi","showApiToast","setShowApiToast","apiToastMessage","setApiToastMessage","type","message","isSearchingPhone","setIsSearchingPhone","enrichingLeads","setEnrichingLeads","Set","searchingPhoneLeads","setSearchingPhoneLeads","toasts","setToasts","toastsTimeoutRef","isDarkMode","setIsDarkMode","savedTheme","drafts","setDrafts","savedDrafts","JSON","parse","e","recentlyViewed","setRecentlyViewed","savedRecent","showRecentDropdown","setShowRecentDropdown","Object","values","current","timeout","clearTimeout","draftTimeoutRef","handleClickOutside","event","target","closest","addEventListener","removeEventListener","isDraftSaving","setIsDraftSaving","saveDraft","leadId","content","htmlContent","setTimeout","newDrafts","trim","savedAt","Date","toISOString","setItem","stringify","addToRecentlyViewed","lead","newRecent","id","name","first_name","last_name","email","filter","item","slice","migrateApiKeys","keysToMigrate","migrationNeeded","keyName","oldKey","newKey","removeItem","info","showToast","toggleTheme","newTheme","themeStyles","primaryBg","secondaryBg","tertiaryBg","textPrimary","textSecondary","textMuted","accent","border","borderStrong","success","warning","now","newToast","currentToasts","removeToast","toast","getLastResponseFromThem","conversation","replies","msg","length","time","safeGetLastMessage","_lead$conversation","timeDiff","date1","date2","d1","d2","isNaN","getTime","Infinity","getResponseUrgency","lastMessage","isHighMediumIntent","intent","theyRepliedLast","weRepliedLast","daysSinceLastMessage","fetchLeads","url","response","fetch","ok","Error","data","json","transformedLeads","map","_lead$lead_email","extractedSubject","emailStatsId","email_message_body","parsedConversation","stats_id","index","prevMsg","responseTime","undefined","from","to","cc","extractTextFromHTML","email_body","subject","opened","open_count","clicked","click_count","response_time","messageWithSubject","find","m","sent","responseTimes","avgResponseTime","reduce","sum","engagementScore","Math","min","round","allText","join","intentScore","positiveKeywords","keyword","includes","campaign_id","campaign_ID","lead_id","lead_ID","email_stats_id","created_at","updated_at","lead_email","website","split","content_brief","lead_category","created_at_best","response_time_avg","engagement_score","tags","leadCategoryMap","role","company_data","personal_linkedin_url","business_linkedin_url","linkedin_url","phone","err","text","replyIndicators","cutoffIndex","indicator","indexOf","lines","newReplyLines","i","line","hasReplyIndicator","some","push","methodOne","substring","methodTwo","result","sortOptions","field","label","getValue","lastReply","lastSent","urgency","urgencyOrder","selectedLead","setSelectedLead","sortBy","setSortBy","filterBy","setFilterBy","responseFilter","setResponseFilter","dateFilter","setDateFilter","customStartDate","setCustomStartDate","customEndDate","setCustomEndDate","industryFilter","setIndustryFilter","sourceFilter","setSourceFilter","searchQuery","setSearchQuery","draftResponse","setDraftResponse","isGeneratingDraft","setIsGeneratingDraft","isSending","setIsSending","showMetrics","setShowMetrics","activeSection","setActiveSection","analyticsDateRange","setAnalyticsDateRange","editableToEmail","setEditableToEmail","editableCcEmails","setEditableCcEmails","showFormatting","setShowFormatting","selectedText","setSelectedText","draftHtml","setDraftHtml","showSortPopup","setShowSortPopup","showFilterPopup","setShowFilterPopup","activeSorts","setActiveSorts","direction","activeFilters","setActiveFilters","showDeleteConfirm","setShowDeleteConfirm","leadToDelete","setLeadToDelete","showSentConfirm","setShowSentConfirm","filterOptions","options","category","engagement","timeframe","handleAddSort","prev","existing","s","handleRemoveSort","handleAddFilter","isValidValue","opt","handleRemoveFilter","updated","v","handleClearAllFilters","handleDeleteLead","log","method","headers","body","smartlead_api_key","smartlead","claude_api_key","claude","fullenrich_api_key","status","errorText","prevLeads","l","alert","showDeleteConfirmation","availableStages","updateLeadStage","newStage","stage","dashboardMetrics","totalLeads","highIntentLeads","avgEngagement","urgentResponse","needsResponse","needsFollowup","MESSAGE_PATTERNS","questions","calls","pricing","value_props","analyticsData","daysBack","parseInt","cutoffDate","setDate","getDate","filteredLeads","leadDate","messageAnalysis","flatMap","wordCount","hasQuestion","q","hasCall","c","hasPricing","p","hasValueProp","msgIndex","nextMsg","gotReply","replyTime","copyInsights","totalMessages","avgWordCount","withQuestions","total","withCalls","withPricing","withValueProps","lengthBreakdown","range","messages","avgReplyTime","withQuestion","withCall","withValueProp","leadsWithMultipleReplies","engagementRate","totalReplies","avgRepliesPerLead","responseTimesByLead","responseTimeDistribution","under1h","over24h","campaignPerformance","acc","campaignId","totalIntent","totalEngagement","conversationDepths","replyCount","campaignStats","campaign","avgIntent","avgConversationDepth","depth","sort","a","b","categoryPerformance","categoryStats","entries","intentCorrelation","avgReplies","count","replyMessages","date","hour","getHours","dayOfWeek","getDay","heatmapData","Array","_","day","dayName","flat","maxCount","max","d","peakHour","last30Days","reverse","responseTrends","dateStr","dayReplies","dateRange","getIntentStyle","bg","getEngagementColor","score","filteredAndSortedLeads","isArray","filtered","timeSinceLastMessage","floor","query","firstName","lastName","tagsMatch","tag","toString","lastActivity","daysDiff","savedDraft","editor","querySelector","getOurEmails","ourEmails","add","getAllParticipants","participants","ccEntry","address","delete","primaryRecipient","ccRecipients","allParticipants","calculateEngagementScore","avgResponse","checkNeedsReply","generateAutoTags","detectConversationStage","getStageStyle","styles","formatTime","timestamp","toLocaleString","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatText","command","execCommand","insertLink","selection","window","getSelection","rangeCount","getRangeAt","modal","cssText","title","textContent","textContainer","marginBottom","textLabel","textInput","placeholder","urlContainer","urlLabel","urlInput","errorMessage","buttonsContainer","cancelButton","insertButton","appendChild","focus","validateAndInsert","URL","linkWrapper","position","display","link","href","rel","removeBtn","opacity","color","preventDefault","stopPropagation","createTextNode","parentNode","replaceChild","handleTextareaChange","deleteContents","insertNode","removeChild","input","escapeHandler","insertList","listContainer","listItem","bullet","newRange","createRange","setStart","collapse","removeAllRanges","addRange","removeButtons","btn","rawHtml","sanitizedHtml","innerText","convertToHtml","formatResponseTime","hours","toFixed","generateDraft","cleanString","str","payload","last_message_type","last_message_content","reply_count","days_since_last_message","fullPayload","fromEntries","responseText","statusText","cleanResponseText","formattedHtml","stack","sendMessage","_document$querySelect","_document$querySelect2","rawHtmlContent","ccEmails","attachmentInput","getElementById","attachments","files","file","base64","Promise","resolve","reader","FileReader","onload","readAsDataURL","filename","encoding","contentType","sendPayload","html_content","conversation_history","last_activity","cc_recipients","responseData","enrichLeadData","enrichedData","updatedLead","Role","leadName","next","className","backgroundColor","children","borderColor","fileName","_jsxFileName","lineNumber","columnNumber","onClick","handleApiKeyChange","saveApiKeys","encryptedEspKey","encryptedFullEnrich","toggleAllSections","toggleSection","section","findPhoneNumber","_data$datas","_data$datas$","_data$datas$$contact","_data$datas$$contact$","_data$datas$$contact$2","phoneNumber","datas","contact","phones","number","getActiveFilterCount","handleUrgencyFilter","urgencyType","_activeFilters$urgenc","borderBottom","recent","charAt","toUpperCase","onChange","disabled","backdropFilter","animation","jsx","global","timeRange","val","percentage","width","dayIndex","dataPoint","intensity","padStart","replyRate","pattern","successRate","timing","background","left","random","top","animationDelay","borderRadius","margin","marginRight","option","isActive","cursor","categoryOption","valueOption","config","_activeFilters$catego","scrollbarWidth","scrollbarColor","minHeight","intentStyle","displayTags","getResponseBadge","borderLeft","boxShadow","tagIndex","daysSince","marginLeft","has","Boolean","toLocaleTimeString","multiple","accept","htmlFor","contentEditable","suppressContentEditableWarning","onInput","onKeyDown","ctrlKey","metaKey","currentListItem","startContainer","newLine","insertBefore","nextSibling","companySummary","linkedin","_c","$RefreshReg$"],"sources":["/Users/reidsickels/Inbox/inbox-manager-frontend/src/components/InboxManager.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { Search, Filter, Send, Edit3, Clock, Mail, User, MessageSquare, ChevronDown, ChevronRight, X, TrendingUp, Calendar, ExternalLink, BarChart3, Users, AlertCircle, CheckCircle, Timer, Zap, Target, DollarSign, Activity, Key, Brain, Database, Loader2, Save, Phone, LogOut } from 'lucide-react';\nimport { leadsService } from '../lib/leadsService';\n\n// Security utilities for API key encryption\nconst ENCRYPTION_SALT = 'InboxManager_2024_Salt_Key';\n\nconst encryptApiKey = (key) => {\n  if (!key) return '';\n  try {\n    // Simple encryption using base64 encoding with salt\n    const combined = key + ENCRYPTION_SALT;\n    return btoa(combined);\n  } catch (error) {\n    console.warn('Failed to encrypt API key:', error);\n    return key;\n  }\n};\n\nconst decryptApiKey = (encryptedKey) => {\n  if (!encryptedKey) return '';\n  try {\n    const decoded = atob(encryptedKey);\n    return decoded.replace(ENCRYPTION_SALT, '');\n  } catch (error) {\n    console.warn('Failed to decrypt API key, treating as plain text:', error);\n    return encryptedKey;\n  }\n};\n\n// HTML sanitization function (basic XSS protection)\nconst sanitizeHtml = (html) => {\n  if (!html) return '';\n  \n  // Create a temporary element to parse HTML\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n  \n  // Remove potentially dangerous elements and attributes\n  const dangerousElements = ['script', 'object', 'embed', 'iframe', 'form'];\n  const dangerousAttributes = ['onload', 'onerror', 'onclick', 'onmouseover', 'onfocus', 'onblur', 'onchange', 'onsubmit'];\n  \n  dangerousElements.forEach(tagName => {\n    const elements = temp.querySelectorAll(tagName);\n    elements.forEach(el => el.remove());\n  });\n  \n  // Remove dangerous attributes from all elements\n  const allElements = temp.querySelectorAll('*');\n  allElements.forEach(el => {\n    dangerousAttributes.forEach(attr => {\n      if (el.hasAttribute(attr)) {\n        el.removeAttribute(attr);\n      }\n    });\n    \n    // Remove javascript: URLs\n    ['href', 'src'].forEach(attr => {\n      const value = el.getAttribute(attr);\n      if (value && value.toLowerCase().startsWith('javascript:')) {\n        el.removeAttribute(attr);\n      }\n    });\n  });\n  \n  return temp.innerHTML;\n};\n\nconst InboxManager = ({ user, onSignOut }) => {\n  // State for leads from API\n  const [leads, setLeads] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Add new state for enrichment data\n  const [enrichmentData, setEnrichmentData] = useState(null);\n  const [isEnriching, setIsEnriching] = useState(false);\n  const [showEnrichmentPopup, setShowEnrichmentPopup] = useState(false);\n\n  // Add new state for API settings and tab management\n  const [activeTab, setActiveTab] = useState('all');\n  const [showApiSettings, setShowApiSettings] = useState(false);\n  const [apiKeys, setApiKeys] = useState({\n    esp: {\n      provider: localStorage.getItem('esp_provider') || '',\n      key: decryptApiKey(localStorage.getItem('esp_api_key_enc') || '')\n    },\n    fullenrich: decryptApiKey(localStorage.getItem('fullenrich_api_key_enc') || '')\n  });\n  const [apiTestStatus, setApiTestStatus] = useState({\n    esp: null,\n    fullenrich: null\n  });\n  const [isSavingApi, setIsSavingApi] = useState(false);\n  const [showApiToast, setShowApiToast] = useState(false);\n  const [apiToastMessage, setApiToastMessage] = useState({ type: '', message: '' });\n\n  // Add new state for searching phone number\n  const [isSearchingPhone, setIsSearchingPhone] = useState(false);\n\n  // Replace single loading states with maps of lead IDs\n  const [enrichingLeads, setEnrichingLeads] = useState(new Set());\n  const [searchingPhoneLeads, setSearchingPhoneLeads] = useState(new Set());\n\n  // Replace single toast with array of toasts\n  const [toasts, setToasts] = useState([]);\n  const toastsTimeoutRef = useRef({}); // Store timeouts by toast ID\n\n  // Theme management\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const savedTheme = localStorage.getItem('inbox_manager_theme');\n    return savedTheme ? savedTheme === 'dark' : true; // Default to dark mode\n  });\n\n  // Auto-save drafts state\n  const [drafts, setDrafts] = useState(() => {\n    try {\n      const savedDrafts = localStorage.getItem('inbox_manager_drafts');\n      return savedDrafts ? JSON.parse(savedDrafts) : {};\n    } catch (e) {\n      console.warn('Failed to load saved drafts:', e);\n      return {};\n    }\n  });\n\n  // Recently viewed leads state\n  const [recentlyViewed, setRecentlyViewed] = useState(() => {\n    try {\n      const savedRecent = localStorage.getItem('inbox_manager_recent_leads');\n      return savedRecent ? JSON.parse(savedRecent) : [];\n    } catch (e) {\n      console.warn('Failed to load recently viewed leads:', e);\n      return [];\n    }\n  });\n  const [showRecentDropdown, setShowRecentDropdown] = useState(false);\n\n  // Clean up all timeouts on unmount\n  useEffect(() => {\n    return () => {\n      Object.values(toastsTimeoutRef.current).forEach(timeout => {\n        clearTimeout(timeout);\n      });\n      if (draftTimeoutRef.current) {\n        clearTimeout(draftTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  // Click outside to close dropdowns\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      // Close recent dropdown if clicking outside\n      if (showRecentDropdown && !event.target.closest('.recent-dropdown')) {\n        setShowRecentDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [showRecentDropdown]);\n\n  // Auto-save drafts with debouncing\n  const draftTimeoutRef = useRef(null);\n  const [isDraftSaving, setIsDraftSaving] = useState(false);\n  \n  const saveDraft = (leadId, content, htmlContent) => {\n    if (draftTimeoutRef.current) {\n      clearTimeout(draftTimeoutRef.current);\n    }\n    \n    setIsDraftSaving(true);\n    \n    draftTimeoutRef.current = setTimeout(() => {\n      const newDrafts = {\n        ...drafts,\n        [leadId]: {\n          content: content.trim(),\n          htmlContent: htmlContent || '',\n          savedAt: new Date().toISOString()\n        }\n      };\n      \n      // Remove empty drafts\n      if (!content.trim()) {\n        delete newDrafts[leadId];\n      }\n      \n      setDrafts(newDrafts);\n      localStorage.setItem('inbox_manager_drafts', JSON.stringify(newDrafts));\n      setIsDraftSaving(false);\n    }, 2000); // Auto-save after 2 seconds of inactivity\n  };\n\n  // Recently viewed leads management\n  const addToRecentlyViewed = (lead) => {\n    if (!lead) return;\n    \n    const newRecent = [\n      { id: lead.id, name: `${lead.first_name} ${lead.last_name}`, email: lead.email },\n      ...recentlyViewed.filter(item => item.id !== lead.id)\n    ].slice(0, 8); // Keep only last 8\n    \n    setRecentlyViewed(newRecent);\n    localStorage.setItem('inbox_manager_recent_leads', JSON.stringify(newRecent));\n  };\n\n\n\n  // Migrate existing unencrypted API keys to encrypted storage (runs once on mount)\n  useEffect(() => {\n    const migrateApiKeys = () => {\n      const keysToMigrate = ['smartlead', 'claude', 'fullenrich'];\n      let migrationNeeded = false;\n\n      keysToMigrate.forEach(keyName => {\n        const oldKey = localStorage.getItem(`${keyName}_api_key`);\n        const newKey = localStorage.getItem(`${keyName}_api_key_enc`);\n        \n        // If old unencrypted key exists but new encrypted key doesn't\n        if (oldKey && !newKey) {\n          const encryptedKey = encryptApiKey(oldKey);\n          localStorage.setItem(`${keyName}_api_key_enc`, encryptedKey);\n          localStorage.removeItem(`${keyName}_api_key`);\n          migrationNeeded = true;\n        }\n      });\n\n      if (migrationNeeded) {\n        console.info('API keys migrated to encrypted storage for security');\n        showToast('API keys upgraded to encrypted storage', 'success');\n      }\n    };\n\n    migrateApiKeys();\n  }, []);\n\n  // Theme toggle function\n  const toggleTheme = () => {\n    const newTheme = !isDarkMode;\n    setIsDarkMode(newTheme);\n    localStorage.setItem('inbox_manager_theme', newTheme ? 'dark' : 'light');\n    showToast(`Switched to ${newTheme ? 'dark' : 'light'} mode`, 'success');\n  };\n\n  // Theme CSS variables\n  const themeStyles = isDarkMode ? {\n    // Dark mode colors\n    primaryBg: '#1A1C1A',\n    secondaryBg: 'rgba(26, 28, 26, 0.8)',\n    tertiaryBg: 'rgba(255, 255, 255, 0.05)',\n    textPrimary: '#FFFFFF',\n    textSecondary: '#D1D5DB',\n    textMuted: '#9CA3AF',\n    accent: '#54FCFF',\n    border: 'rgba(255, 255, 255, 0.1)',\n    borderStrong: 'rgba(255, 255, 255, 0.2)',\n    success: '#10B981',\n    warning: '#F59E0B',\n    error: '#EF4444',\n  } : {\n    // Light mode colors (fixed contrast)\n    primaryBg: '#F8FAFC',\n    secondaryBg: '#FFFFFF',\n    tertiaryBg: '#F1F5F9',\n    textPrimary: '#0F172A',\n    textSecondary: '#334155',\n    textMuted: '#64748B',\n    accent: '#2563EB',\n    border: 'rgba(0, 0, 0, 0.15)',\n    borderStrong: 'rgba(0, 0, 0, 0.25)',\n    success: '#059669',\n    warning: '#D97706',\n    error: '#DC2626',\n  };\n\n  // Modified toast helper function\n  const showToast = (message, type = 'success', leadId = null) => {\n    const id = Date.now(); // Unique ID for each toast\n    const newToast = { id, message, type, leadId };\n    \n    setToasts(currentToasts => [...currentToasts, newToast]);\n    \n    // Store the timeout reference\n    toastsTimeoutRef.current[id] = setTimeout(() => {\n      removeToast(id);\n    }, 10000);\n  };\n\n  // Remove specific toast\n  const removeToast = (id) => {\n    // Clear the timeout\n    if (toastsTimeoutRef.current[id]) {\n      clearTimeout(toastsTimeoutRef.current[id]);\n      delete toastsTimeoutRef.current[id];\n    }\n    \n    setToasts(currentToasts => currentToasts.filter(toast => toast.id !== id));\n  };\n\n  // Helper functions (moved up before they're used)\n  // Get last response date from them (last REPLY message)\n  const getLastResponseFromThem = (conversation) => {\n    const replies = conversation.filter(msg => msg.type === 'REPLY');\n    if (replies.length === 0) return null;\n    return replies[replies.length - 1].time;\n  };\n\n  // Add utility functions at the top of the component\n  const safeGetLastMessage = (lead) => {\n    if (!lead?.conversation?.length) return null;\n    return lead.conversation[lead.conversation.length - 1];\n  };\n\n  const timeDiff = (date1, date2) => {\n    try {\n      const d1 = new Date(date1);\n      const d2 = new Date(date2);\n      if (isNaN(d1.getTime()) || isNaN(d2.getTime())) return Infinity;\n      return (d1 - d2) / (1000 * 60 * 60 * 24);\n    } catch (e) {\n      return Infinity;\n    }\n  };\n\n  const getResponseUrgency = (lead) => {\n    const lastMessage = safeGetLastMessage(lead);\n    if (!lastMessage) return 'none';\n    \n    const isHighMediumIntent = lead.intent >= 4;\n    const theyRepliedLast = lastMessage.type === 'REPLY';\n    const weRepliedLast = lastMessage.type === 'SENT';\n    const daysSinceLastMessage = timeDiff(new Date(), new Date(lastMessage.time));\n    \n    if (isHighMediumIntent && theyRepliedLast) {\n      if (daysSinceLastMessage >= 2) return 'urgent-response';\n      return 'needs-response';\n    }\n    \n    if (weRepliedLast && daysSinceLastMessage >= 3) {\n      return 'needs-followup';\n    }\n    \n    return 'none';\n  };\n\n  // Fetch leads from API\n  useEffect(() => {\n    fetchLeads();\n  }, []);\n\n  const fetchLeads = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Include user's brand_id in the API call if user is authenticated\n      const url = user ? \n        `https://leads-api-nu.vercel.app/api/retention-harbor?brand_id=${user.id}` : \n        'https://leads-api-nu.vercel.app/api/retention-harbor';\n      \n      const response = await fetch(url);\n      if (!response.ok) throw new Error('Failed to fetch leads');\n      \n      const data = await response.json();\n      \n      // Transform the data to match the expected format\n      const transformedLeads = (data.leads || []).map(lead => {\n        // Parse conversation data from email_message_body and extract subject\n        let conversation = [];\n        let extractedSubject = `Campaign for ${lead.first_name || 'Lead'}`;\n        let emailStatsId = null;\n        \n        try {\n          if (lead.email_message_body) {\n            const parsedConversation = JSON.parse(lead.email_message_body);\n            \n            // Extract stats_id from the first message\n            if (parsedConversation.length > 0 && parsedConversation[0].stats_id) {\n              emailStatsId = parsedConversation[0].stats_id;\n            }\n            \n            conversation = parsedConversation.map((msg, index) => {\n              const prevMsg = parsedConversation[index - 1];\n              let responseTime = undefined;\n              \n              if (msg.type === 'REPLY' && prevMsg && prevMsg.type === 'SENT') {\n                const timeDiff = new Date(msg.time) - new Date(prevMsg.time);\n                responseTime = timeDiff / (1000 * 60 * 60); // Convert to hours\n              }\n\n              return {\n                from: msg.from || '',\n                to: msg.to || '',\n                cc: msg.cc || null,\n                type: msg.type || 'SENT',\n                time: msg.time || new Date().toISOString(),\n                content: extractTextFromHTML(msg.email_body || ''),\n                subject: msg.subject || '',\n                opened: (msg.open_count || 0) > 0,\n                clicked: (msg.click_count || 0) > 0,\n                response_time: responseTime\n              };\n            });\n            \n            // Extract subject from the first message in conversation or any message with subject\n            if (conversation.length > 0) {\n              const messageWithSubject = conversation.find(msg => msg.subject && msg.subject.trim() !== '');\n              if (messageWithSubject) {\n                extractedSubject = messageWithSubject.subject.trim();\n              }\n            }\n          }\n        } catch (e) {\n          console.error('Error parsing conversation for lead', lead.id, e);\n          conversation = [];\n        }\n\n        // Calculate metrics from conversation\n        const replies = conversation.filter(m => m.type === 'REPLY');\n        const sent = conversation.filter(m => m.type === 'SENT');\n        \n        // Calculate average response time\n        const responseTimes = conversation\n          .filter(m => m.response_time !== undefined)\n          .map(m => m.response_time);\n        const avgResponseTime = responseTimes.length > 0 \n          ? responseTimes.reduce((sum, time) => sum + time, 0) / responseTimes.length \n          : 0;\n\n        // Calculate engagement score\n        let engagementScore = 0;\n        if (sent.length > 0) {\n          engagementScore += Math.min((replies.length / sent.length) * 60, 60);\n          if (avgResponseTime < 1) engagementScore += 40;\n          else if (avgResponseTime < 4) engagementScore += 30;\n          else if (avgResponseTime < 24) engagementScore += 20;\n          else if (avgResponseTime < 72) engagementScore += 10;\n        }\n        engagementScore = Math.round(Math.min(engagementScore, 100));\n\n        // Calculate intent score based on conversation content\n        const allText = conversation.map(m => m.content.toLowerCase()).join(' ');\n        let intentScore = 1 + Math.min(replies.length * 2, 6);\n        const positiveKeywords = ['interested', 'yes', 'sure', 'sounds good', 'let me know', 'call', 'meeting', 'schedule'];\n        intentScore += positiveKeywords.filter(keyword => allText.includes(keyword)).length;\n        if (allText.includes('price') || allText.includes('cost')) intentScore += 1;\n        if (allText.includes('sample') || allText.includes('example')) intentScore += 1;\n        intentScore = Math.min(intentScore, 10);\n\n        return {\n          id: lead.id,\n          campaign_id: lead.campaign_ID || null,\n          lead_id: lead.lead_ID || null,\n          email_stats_id: emailStatsId,\n          created_at: lead.created_at,\n          updated_at: lead.created_at,\n          email: lead.lead_email,\n          first_name: lead.first_name || 'Unknown',\n          last_name: lead.last_name || '',\n          website: lead.website || lead.lead_email?.split('@')[1] || '',\n          content_brief: `Email marketing campaign for ${lead.lead_category || 'business'}`,\n          subject: extractedSubject,\n          email_message_body: lead.email_message_body,\n          intent: intentScore,\n          created_at_best: lead.created_at,\n          response_time_avg: avgResponseTime,\n          engagement_score: engagementScore,\n          lead_category: lead.lead_category,\n          tags: [lead.lead_category ? leadCategoryMap[lead.lead_category] || 'Uncategorized' : 'Uncategorized'],\n          conversation: conversation,\n          // Include the Supabase fields with their values or defaults\n          role: lead.role || 'N/A',\n          company_data: lead.company_data || 'N/A',\n          personal_linkedin_url: lead.personal_linkedin_url || null,\n          business_linkedin_url: lead.business_linkedin_url || null,\n          linkedin_url: lead.linkedin_url || 'N/A',\n          phone: lead.phone || null,\n          // Add any other relevant fields you want to include\n        };\n      });\n      \n      setLeads(transformedLeads);\n    } catch (err) {\n      console.error('Error fetching leads:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to extract text from HTML and clean reply content\n  const extractTextFromHTML = (html) => {\n    if (!html) return '';\n    \n    // First clean HTML tags and entities\n    let text = html\n      .replace(/<[^>]*>/g, ' ')\n      .replace(/&nbsp;/g, ' ')\n      .replace(/&amp;/g, '&')\n      .replace(/&lt;/g, '<')\n      .replace(/&gt;/g, '>')\n      .replace(/&#39;/g, \"'\")\n      .replace(/&#x27;/g, \"'\")\n      .replace(/&apos;/g, \"'\")\n      .replace(/&quot;/g, '\"')\n      .replace(/&#34;/g, '\"')\n      .replace(/&#x22;/g, '\"')\n      .replace(/&#8217;/g, \"'\")\n      .replace(/&#8216;/g, \"'\")\n      .replace(/&#8220;/g, '\"')\n      .replace(/&#8221;/g, '\"')\n      .replace(/&#8211;/g, '-')\n      .replace(/&#8212;/g, '—')\n      .replace(/&#8230;/g, '...')\n      .replace(/&hellip;/g, '...')\n      .replace(/&mdash;/g, '—')\n      .replace(/&ndash;/g, '-')\n      .replace(/&rsquo;/g, \"'\")\n      .replace(/&lsquo;/g, \"'\")\n      .replace(/&rdquo;/g, '\"')\n      .replace(/&ldquo;/g, '\"')\n      .replace(/\\r\\n/g, '\\n')\n      .replace(/\\s+/g, ' ')\n      .trim();\n    \n    // Extract only the new reply content (before common reply separators)\n    const replyIndicators = [\n      'On ', // \"On [date], [person] wrote:\"\n      'From:', // \"From: [email]\"\n      '-----Original Message-----',\n      '________________________________',\n      '--- On ',\n      'Sent from my iPhone',\n      'Sent from my iPad',\n      'Get Outlook for',\n      'This email was sent to'\n    ];\n    \n    // Find the first occurrence of any reply indicator\n    let cutoffIndex = text.length;\n    replyIndicators.forEach(indicator => {\n      const index = text.indexOf(indicator);\n      if (index !== -1 && index < cutoffIndex) {\n        cutoffIndex = index;\n      }\n    });\n    \n    // Also look for common quote patterns like \"> \"\n    const lines = text.split('\\n');\n    let newReplyLines = [];\n    \n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      \n      // Stop if we hit quoted content (lines starting with >)\n      if (line.startsWith('>')) {\n        break;\n      }\n      \n      // Stop if we hit a reply indicator\n      const hasReplyIndicator = replyIndicators.some(indicator => \n        line.includes(indicator)\n      );\n      if (hasReplyIndicator) {\n        break;\n      }\n      \n      newReplyLines.push(line);\n    }\n    \n    // Use the shorter of the two methods\n    const methodOne = text.substring(0, cutoffIndex).trim();\n    const methodTwo = newReplyLines.join('\\n').trim();\n    \n    const result = methodTwo.length > 0 && methodTwo.length < methodOne.length \n      ? methodTwo \n      : methodOne;\n    \n    return result || text; // Fallback to original if extraction fails\n  };\n\n  // Lead category mapping\n  const leadCategoryMap = {\n    1: 'Interested',\n    2: 'Meeting Request', \n    3: 'Not Interested',\n    4: 'Do Not Contact',\n    5: 'Information Request',\n    6: 'Out Of Office',\n    7: 'Wrong Person',\n    8: 'Uncategorizable by AI',\n    9: 'Sender Originated Bounce'\n  };\n\n\n\n  // Available sort options\n  const sortOptions = [\n    { field: 'last_reply', label: 'Most Recent Lead Reply', getValue: (lead) => {\n      const lastReply = getLastResponseFromThem(lead.conversation);\n      return lastReply ? new Date(lastReply) : new Date(0);\n    }},\n    { field: 'last_sent', label: 'Most Recent Sent Message', getValue: (lead) => {\n      const lastSent = lead.conversation.filter(m => m.type === 'SENT');\n      return lastSent.length > 0 ? new Date(lastSent[lastSent.length - 1].time) : new Date(0);\n    }},\n    { field: 'intent', label: 'Intent Score', getValue: (lead) => lead.intent },\n    { field: 'engagement', label: 'Engagement Score', getValue: (lead) => lead.engagement_score },\n    { field: 'response_time', label: 'Response Time', getValue: (lead) => lead.response_time_avg },\n    { field: 'name', label: 'Name (A-Z)', getValue: (lead) => `${lead.first_name} ${lead.last_name}`.toLowerCase() },\n    { field: 'urgency', label: 'Urgency Level', getValue: (lead) => {\n      const urgency = getResponseUrgency(lead);\n      const urgencyOrder = { 'urgent-response': 4, 'needs-response': 3, 'needs-followup': 2, 'none': 1 };\n      return urgencyOrder[urgency] || 0;\n    }}\n  ];\n\n  // State for UI controls\n  const [selectedLead, setSelectedLead] = useState(null);\n  const [sortBy, setSortBy] = useState('recent');\n  const [filterBy, setFilterBy] = useState('all');\n  const [responseFilter, setResponseFilter] = useState('all');\n  const [dateFilter, setDateFilter] = useState('all');\n  const [customStartDate, setCustomStartDate] = useState('');\n  const [customEndDate, setCustomEndDate] = useState('');\n  const [industryFilter, setIndustryFilter] = useState('all');\n  const [sourceFilter, setSourceFilter] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [draftResponse, setDraftResponse] = useState('');\n  const [isGeneratingDraft, setIsGeneratingDraft] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(true);\n  \n  // Add state for collapsible sections - default to all open\n  const [activeSection, setActiveSection] = useState(['general', 'enrichment', 'engagement']);\n  \n  // Analytics state\n  const [analyticsDateRange, setAnalyticsDateRange] = useState('30'); // days\n  \n  // New state for editable email fields\n  const [editableToEmail, setEditableToEmail] = useState('');\n  const [editableCcEmails, setEditableCcEmails] = useState('');\n  \n  // New state for rich text editor\n  const [showFormatting, setShowFormatting] = useState(false);\n  const [selectedText, setSelectedText] = useState('');\n  const [draftHtml, setDraftHtml] = useState('');\n  \n  // New state for advanced sort/filter popups\n  const [showSortPopup, setShowSortPopup] = useState(false);\n  const [showFilterPopup, setShowFilterPopup] = useState(false);\n  const [activeSorts, setActiveSorts] = useState([{ field: 'last_reply', direction: 'desc' }]);\n  const [activeFilters, setActiveFilters] = useState({});\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [leadToDelete, setLeadToDelete] = useState(null);\n  const [showSentConfirm, setShowSentConfirm] = useState(false);\n\n  // Available filter options\n  const filterOptions = {\n    intent: {\n      label: 'Intent Score',\n      options: [\n        { value: 'high', label: 'High Intent (7-10)' },\n        { value: 'medium', label: 'Medium Intent (4-6)' },\n        { value: 'low', label: 'Low Intent (1-3)' }\n      ]\n    },\n    urgency: {\n      label: 'Urgency Status',\n      options: [\n        { value: 'urgent-response', label: '🚨 Urgent Response Needed' },\n        { value: 'needs-response', label: '⚡ Needs Response' },\n        { value: 'needs-followup', label: '📞 Needs Followup' },\n        { value: 'none', label: 'No Action Needed' }\n      ]\n    },\n    category: {\n      label: 'Lead Category',\n      options: [\n        { value: '1', label: 'Interested' },\n        { value: '2', label: 'Meeting Request' },\n        { value: '3', label: 'Not Interested' },\n        { value: '4', label: 'Do Not Contact' },\n        { value: '5', label: 'Information Request' },\n        { value: '6', label: 'Out Of Office' },\n        { value: '7', label: 'Wrong Person' },\n        { value: '8', label: 'Uncategorizable by AI' },\n        { value: '9', label: 'Sender Originated Bounce' }\n      ]\n    },\n    engagement: {\n      label: 'Engagement Level',\n      options: [\n        { value: 'high', label: 'High Engagement (80%+)' },\n        { value: 'medium', label: 'Medium Engagement (50-79%)' },\n        { value: 'low', label: 'Low Engagement (0-49%)' }\n      ]\n    },\n    replies: {\n      label: 'Reply Status',\n      options: [\n        { value: 'has_replies', label: 'Has Replies' },\n        { value: 'no_replies', label: 'No Replies Yet' },\n        { value: 'multiple_replies', label: 'Multiple Replies (2+)' }\n      ]\n    },\n    timeframe: {\n      label: 'Last Activity',\n      options: [\n        { value: 'today', label: 'Today' },\n        { value: 'yesterday', label: 'Yesterday' },\n        { value: 'this_week', label: 'This Week' },\n        { value: 'last_week', label: 'Last Week' },\n        { value: 'this_month', label: 'This Month' },\n        { value: 'older', label: 'Older than 1 Month' }\n      ]\n    }\n  };\n\n  // Handle adding sort\n  const handleAddSort = (field, direction = 'desc') => {\n    setActiveSorts(prev => {\n      const existing = prev.find(s => s.field === field);\n      if (existing) {\n        return prev.map(s => s.field === field ? { ...s, direction } : s);\n      }\n      return [...prev, { field, direction }];\n    });\n  };\n\n  // Handle removing sort\n  const handleRemoveSort = (field) => {\n    setActiveSorts(prev => prev.filter(s => s.field !== field));\n    if (activeSorts.length === 1) {\n      setActiveSorts([{ field: 'last_reply', direction: 'desc' }]); // Always have at least one sort\n    }\n  };\n\n  // Handle adding filter with validation\n  const handleAddFilter = (category, value) => {\n    if (!category || !value || !filterOptions[category]) {\n      console.warn('Invalid filter:', { category, value });\n      return;\n    }\n\n    // Validate that the value exists in the options\n    const isValidValue = filterOptions[category].options.some(opt => opt.value === value);\n    if (!isValidValue) {\n      console.warn('Invalid filter value:', { category, value });\n      return;\n    }\n\n    setActiveFilters(prev => ({\n      ...prev,\n      [category]: [...new Set([...(prev[category] || []), value])]\n    }));\n  };\n\n  // Handle removing filter with validation\n  const handleRemoveFilter = (category, value) => {\n    if (!category || !value || !activeFilters[category]) {\n      console.warn('Invalid filter removal:', { category, value });\n      return;\n    }\n\n    setActiveFilters(prev => {\n      const updated = { ...prev };\n      if (updated[category]) {\n        updated[category] = updated[category].filter(v => v !== value);\n        if (updated[category].length === 0) {\n          delete updated[category];\n        }\n      }\n      return updated;\n    });\n  };\n\n  // Clear all filters\n  const handleClearAllFilters = () => {\n    setActiveFilters({});\n    // Reset any related filter states\n    setShowFilterPopup(false);\n  };\n\n  // Handle delete lead\n  const handleDeleteLead = async (lead) => {\n    try {\n      console.log('Deleting lead:', lead);\n      \n      // Send all lead data to delete webhook\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/bfffab96-188f-4a4a-9ae2-62aa9e0a02f4', {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n\n      console.log('Delete response status:', response.status);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Delete webhook error:', errorText);\n        throw new Error(`Failed to delete lead: ${response.status}`);\n      }\n\n      console.log('Lead deleted successfully');\n      \n      // Remove from local state immediately for better UX\n      setLeads(prevLeads => prevLeads.filter(l => l.id !== lead.id));\n      \n      // If this was the selected lead, clear selection\n      if (selectedLead?.id === lead.id) {\n        setSelectedLead(null);\n      }\n      \n      // Close confirmation popup\n      setShowDeleteConfirm(false);\n      setLeadToDelete(null);\n      \n    } catch (error) {\n      console.error('Error deleting lead:', error);\n      alert(`Error deleting lead: ${error.message}`);\n      setShowDeleteConfirm(false);\n      setLeadToDelete(null);\n    }\n  };\n\n  // Show delete confirmation\n  const showDeleteConfirmation = (lead) => {\n    setLeadToDelete(lead);\n    setShowDeleteConfirm(true);\n  };\n  const availableStages = [\n    'initial-outreach',\n    'engaged', \n    'pricing-discussion',\n    'samples-requested',\n    'call-scheduled',\n    'considering',\n    'stalled',\n    'no-response',\n    'rejected',\n    'active'\n  ];\n\n  // Update lead stage\n  const updateLeadStage = (leadId, newStage) => {\n    setLeads(prevLeads => \n      prevLeads.map(lead => \n        lead.id === leadId \n          ? { ...lead, stage: newStage }\n          : lead\n      )\n    );\n  };\n\n  // Calculate dashboard metrics\n  const dashboardMetrics = useMemo(() => {\n    const totalLeads = leads.length;\n    const highIntentLeads = leads.filter(lead => lead.intent >= 7).length;\n    const avgResponseTime = leads.reduce((sum, lead) => sum + lead.response_time_avg, 0) / totalLeads;\n    const avgEngagement = leads.reduce((sum, lead) => sum + lead.engagement_score, 0) / totalLeads;\n    \n    const urgentResponse = leads.filter(lead => getResponseUrgency(lead) === 'urgent-response').length;\n    const needsResponse = leads.filter(lead => getResponseUrgency(lead) === 'needs-response').length;\n    const needsFollowup = leads.filter(lead => getResponseUrgency(lead) === 'needs-followup').length;\n\n    return {\n      totalLeads,\n      highIntentLeads,\n      avgResponseTime,\n      avgEngagement,\n      urgentResponse,\n      needsResponse,\n      needsFollowup\n    };\n  }, [leads]);\n\n  // Message patterns for our outbound messages\n  const MESSAGE_PATTERNS = {\n    questions: ['?', 'what', 'how', 'when', 'where', 'why', 'could', 'would', 'interested', 'thoughts'],\n    calls: ['call', 'meeting', 'schedule', 'discuss', 'chat', 'talk', 'meet', 'zoom', 'teams', 'connect'],\n    pricing: ['price', 'cost', 'budget', 'investment', 'pricing', 'package', 'quote', 'plan', 'rate'],\n    value_props: ['help', 'improve', 'increase', 'reduce', 'save', 'better', 'solution', 'roi', 'results', 'benefit']\n  };\n\n  // Calculate analytics data\n  const analyticsData = useMemo(() => {\n    if (!leads.length) return null;\n\n    // Filter leads by date range\n    const daysBack = parseInt(analyticsDateRange);\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - daysBack);\n    \n    const filteredLeads = leads.filter(lead => {\n      const leadDate = new Date(lead.created_at);\n      return leadDate >= cutoffDate;\n    });\n\n    // Analyze message content and patterns\n    const messageAnalysis = filteredLeads.flatMap(lead => \n      lead.conversation\n        .filter(msg => msg.type === 'SENT')\n        .map(msg => {\n          const content = msg.content.toLowerCase();\n          const wordCount = content.split(/\\s+/).length;\n          \n          // Check for pattern matches in our outbound messages\n          const hasQuestion = MESSAGE_PATTERNS.questions.some(q => content.includes(q));\n          const hasCall = MESSAGE_PATTERNS.calls.some(c => content.includes(c));\n          const hasPricing = MESSAGE_PATTERNS.pricing.some(p => content.includes(p));\n          const hasValueProp = MESSAGE_PATTERNS.value_props.some(v => content.includes(v));\n          \n          // Get next message if exists\n          const msgIndex = lead.conversation.indexOf(msg);\n          const nextMsg = lead.conversation[msgIndex + 1];\n          const gotReply = nextMsg && nextMsg.type === 'REPLY';\n          const replyTime = gotReply ? new Date(nextMsg.time) - new Date(msg.time) : null;\n          \n          return {\n            wordCount,\n            hasQuestion,\n            hasCall,\n            hasPricing,\n            hasValueProp,\n            gotReply,\n            replyTime\n          };\n        })\n    );\n\n    // Calculate what works\n    const copyInsights = {\n      // Message length analysis\n      totalMessages: messageAnalysis.length,\n      avgWordCount: messageAnalysis.reduce((sum, m) => sum + m.wordCount, 0) / messageAnalysis.length,\n      \n      // Pattern success rates\n             withQuestions: {\n         total: messageAnalysis.filter(m => m.hasQuestion).length,\n         success: messageAnalysis.filter(m => m.hasQuestion && m.gotReply).length\n       },\n       withCalls: {\n         total: messageAnalysis.filter(m => m.hasCall).length,\n         success: messageAnalysis.filter(m => m.hasCall && m.gotReply).length\n       },\n       withPricing: {\n         total: messageAnalysis.filter(m => m.hasPricing).length,\n         success: messageAnalysis.filter(m => m.hasPricing && m.gotReply).length\n       },\n       withValueProps: {\n         total: messageAnalysis.filter(m => m.hasValueProp).length,\n         success: messageAnalysis.filter(m => m.hasValueProp && m.gotReply).length\n       },\n      \n      // Length effectiveness\n      lengthBreakdown: [\n        {\n          range: '< 50 words',\n          messages: messageAnalysis.filter(m => m.wordCount < 50).length,\n          replies: messageAnalysis.filter(m => m.wordCount < 50 && m.gotReply).length\n        },\n        {\n          range: '50-100 words',\n          messages: messageAnalysis.filter(m => m.wordCount >= 50 && m.wordCount < 100).length,\n          replies: messageAnalysis.filter(m => m.wordCount >= 50 && m.wordCount < 100 && m.gotReply).length\n        },\n        {\n          range: '100-200 words',\n          messages: messageAnalysis.filter(m => m.wordCount >= 100 && m.wordCount < 200).length,\n          replies: messageAnalysis.filter(m => m.wordCount >= 100 && m.wordCount < 200 && m.gotReply).length\n        },\n        {\n          range: '200+ words',\n          messages: messageAnalysis.filter(m => m.wordCount >= 200).length,\n          replies: messageAnalysis.filter(m => m.wordCount >= 200 && m.gotReply).length\n        }\n      ],\n      \n      // Response time by pattern\n      avgReplyTime: {\n        withQuestion: messageAnalysis.filter(m => m.hasQuestion && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) / \n                     messageAnalysis.filter(m => m.hasQuestion && m.replyTime).length / (1000 * 60 * 60), // Convert to hours\n        withCall: messageAnalysis.filter(m => m.hasCall && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) /\n                 messageAnalysis.filter(m => m.hasCall && m.replyTime).length / (1000 * 60 * 60),\n        withPricing: messageAnalysis.filter(m => m.hasPricing && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) /\n                    messageAnalysis.filter(m => m.hasPricing && m.replyTime).length / (1000 * 60 * 60),\n        withValueProp: messageAnalysis.filter(m => m.hasValueProp && m.replyTime).reduce((sum, m) => sum + m.replyTime, 0) /\n                      messageAnalysis.filter(m => m.hasValueProp && m.replyTime).length / (1000 * 60 * 60)\n      }\n    };\n\n    // Overall metrics (meaningful for response inbox)\n    const totalLeads = filteredLeads.length;\n    const leadsWithMultipleReplies = filteredLeads.filter(lead => \n      lead.conversation.filter(msg => msg.type === 'REPLY').length >= 2\n    ).length;\n    const engagementRate = totalLeads > 0 ? (leadsWithMultipleReplies / totalLeads * 100) : 0;\n    \n    // Average replies per lead (more meaningful than response rate)\n    const totalReplies = filteredLeads.reduce((sum, lead) => \n      sum + lead.conversation.filter(msg => msg.type === 'REPLY').length, 0\n    );\n    const avgRepliesPerLead = totalLeads > 0 ? (totalReplies / totalLeads) : 0;\n\n    // Response time analysis\n    const responseTimesByLead = filteredLeads.map(lead => lead.response_time_avg).filter(time => time > 0);\n    const avgResponseTime = responseTimesByLead.length > 0 \n      ? responseTimesByLead.reduce((sum, time) => sum + time, 0) / responseTimesByLead.length \n      : 0;\n\n    // Response time distribution\n    const responseTimeDistribution = {\n      under1h: responseTimesByLead.filter(time => time < 1).length,\n      '1to4h': responseTimesByLead.filter(time => time >= 1 && time < 4).length,\n      '4to24h': responseTimesByLead.filter(time => time >= 4 && time < 24).length,\n      over24h: responseTimesByLead.filter(time => time >= 24).length\n    };\n\n    // Campaign performance (meaningful metrics for response inbox)\n    const campaignPerformance = filteredLeads.reduce((acc, lead) => {\n      const campaignId = lead.campaign_id || 'Unknown Campaign';\n      if (!acc[campaignId]) {\n        acc[campaignId] = {\n          name: `Campaign ${campaignId}`,\n          totalLeads: 0,\n          totalReplies: 0,\n          totalIntent: 0,\n          totalEngagement: 0,\n          responseTimes: [],\n          conversationDepths: []\n        };\n      }\n      \n      acc[campaignId].totalLeads++;\n      acc[campaignId].totalIntent += lead.intent;\n      acc[campaignId].totalEngagement += lead.engagement_score;\n      \n      const replyCount = lead.conversation.filter(msg => msg.type === 'REPLY').length;\n      acc[campaignId].totalReplies += replyCount;\n      acc[campaignId].conversationDepths.push(lead.conversation.length);\n      \n      if (lead.response_time_avg > 0) {\n        acc[campaignId].responseTimes.push(lead.response_time_avg);\n      }\n      \n      return acc;\n    }, {});\n\n    // Calculate campaign averages and sort by engagement score\n    const campaignStats = Object.values(campaignPerformance)\n      .map(campaign => ({\n        ...campaign,\n        avgRepliesPerLead: campaign.totalLeads > 0 ? (campaign.totalReplies / campaign.totalLeads) : 0,\n        avgIntent: campaign.totalLeads > 0 ? (campaign.totalIntent / campaign.totalLeads) : 0,\n        avgEngagement: campaign.totalLeads > 0 ? (campaign.totalEngagement / campaign.totalLeads) : 0,\n        avgResponseTime: campaign.responseTimes.length > 0 \n          ? campaign.responseTimes.reduce((sum, time) => sum + time, 0) / campaign.responseTimes.length \n          : 0,\n        avgConversationDepth: campaign.conversationDepths.length > 0\n          ? campaign.conversationDepths.reduce((sum, depth) => sum + depth, 0) / campaign.conversationDepths.length\n          : 0\n      }))\n      .sort((a, b) => b.avgEngagement - a.avgEngagement);\n\n    // Lead category performance (meaningful metrics for response inbox)\n    const categoryPerformance = filteredLeads.reduce((acc, lead) => {\n      const category = lead.tags && lead.tags[0] ? lead.tags[0] : 'Uncategorized';\n      if (!acc[category]) {\n        acc[category] = { \n          totalLeads: 0, \n          totalReplies: 0, \n          totalEngagement: 0,\n          responseTimes: [],\n          conversationDepths: []\n        };\n      }\n      \n      acc[category].totalLeads++;\n      acc[category].totalReplies += lead.conversation.filter(msg => msg.type === 'REPLY').length;\n      acc[category].totalEngagement += lead.engagement_score;\n      acc[category].conversationDepths.push(lead.conversation.length);\n      \n      if (lead.response_time_avg > 0) {\n        acc[category].responseTimes.push(lead.response_time_avg);\n      }\n      \n      return acc;\n    }, {});\n\n    const categoryStats = Object.entries(categoryPerformance)\n      .map(([category, data]) => ({\n        category,\n        totalLeads: data.totalLeads,\n        avgRepliesPerLead: data.totalLeads > 0 ? (data.totalReplies / data.totalLeads) : 0,\n        avgEngagement: data.totalLeads > 0 ? (data.totalEngagement / data.totalLeads) : 0,\n        avgResponseTime: data.responseTimes.length > 0\n          ? data.responseTimes.reduce((sum, time) => sum + time, 0) / data.responseTimes.length\n          : 0,\n        avgConversationDepth: data.conversationDepths.length > 0\n          ? data.conversationDepths.reduce((sum, depth) => sum + depth, 0) / data.conversationDepths.length\n          : 0\n      }))\n      .sort((a, b) => b.avgEngagement - a.avgEngagement);\n\n    // Intent vs Engagement correlation (more meaningful than response rate)\n    const intentCorrelation = [\n      { intent: 'High (7-10)', \n        avgReplies: filteredLeads.filter(l => l.intent >= 7).length > 0\n          ? filteredLeads.filter(l => l.intent >= 7)\n              .reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / \n            filteredLeads.filter(l => l.intent >= 7).length : 0,\n        count: filteredLeads.filter(l => l.intent >= 7).length },\n      { intent: 'Medium (4-6)', \n        avgReplies: filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length > 0\n          ? filteredLeads.filter(l => l.intent >= 4 && l.intent < 7)\n              .reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / \n            filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length : 0,\n        count: filteredLeads.filter(l => l.intent >= 4 && l.intent < 7).length },\n      { intent: 'Low (1-3)', \n        avgReplies: filteredLeads.filter(l => l.intent < 4).length > 0\n          ? filteredLeads.filter(l => l.intent < 4)\n              .reduce((sum, l) => sum + l.conversation.filter(m => m.type === 'REPLY').length, 0) / \n            filteredLeads.filter(l => l.intent < 4).length : 0,\n        count: filteredLeads.filter(l => l.intent < 4).length }\n    ];\n\n    // Time/Day heatmap analysis\n    const replyMessages = filteredLeads.flatMap(lead => \n      lead.conversation.filter(msg => msg.type === 'REPLY')\n        .map(msg => ({\n          ...msg,\n          date: new Date(msg.time),\n          hour: new Date(msg.time).getHours(),\n          dayOfWeek: new Date(msg.time).getDay() // 0=Sunday, 1=Monday, etc\n        }))\n    );\n\n    // Create heatmap data structure\n    const heatmapData = Array.from({ length: 7 }, (_, day) => \n      Array.from({ length: 24 }, (_, hour) => ({\n        day,\n        hour,\n        count: replyMessages.filter(msg => msg.dayOfWeek === day && msg.hour === hour).length,\n        dayName: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][day]\n      }))\n    ).flat();\n\n    // Peak activity times\n    const maxCount = Math.max(...heatmapData.map(d => d.count));\n    const peakHour = heatmapData.find(d => d.count === maxCount);\n\n    // Response trends (daily) - showing engagement trends instead\n    const last30Days = Array.from({ length: Math.min(daysBack, 30) }, (_, i) => {\n      const date = new Date();\n      date.setDate(date.getDate() - i);\n      return date.toISOString().split('T')[0];\n    }).reverse();\n\n    const responseTrends = last30Days.map(dateStr => {\n      const dayReplies = replyMessages.filter(msg => \n        msg.time.split('T')[0] === dateStr\n      );\n      \n      return {\n        date: dateStr,\n        replyCount: dayReplies.length,\n        avgResponseTime: dayReplies.length > 0 \n          ? dayReplies.reduce((sum, msg) => sum + (msg.response_time || 0), 0) / dayReplies.length \n          : 0\n      };\n    });\n\n          return {\n      totalLeads,\n      leadsWithMultipleReplies,\n      engagementRate,\n      avgRepliesPerLead,\n      avgResponseTime,\n      responseTimeDistribution,\n      campaignStats: campaignStats.slice(0, 10), // Top 10 campaigns\n      categoryStats,\n      intentCorrelation,\n      responseTrends,\n      heatmapData,\n      peakHour,\n      maxCount,\n      totalReplies,\n      dateRange: daysBack,\n      copyInsights // Add copy insights to analytics data\n    };\n  }, [leads, analyticsDateRange]);\n\n  // Get intent color and label - NO COLORS, only for circles\n  const getIntentStyle = (intent) => {\n    return { bg: '', border: '', text: 'text-white', label: intent >= 7 ? 'High Intent' : intent >= 4 ? 'Medium Intent' : 'Low Intent' };\n  };\n\n  // Get engagement color\n  const getEngagementColor = (score) => {\n    if (score >= 90) return 'text-green-600';\n    if (score >= 75) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  // Enhanced filter and sort leads\n  const filteredAndSortedLeads = useMemo(() => {\n    try {\n      if (!leads || !Array.isArray(leads)) {\n        return [];\n      }\n      let filtered = leads.slice(); // Create a copy\n\n      // Apply tab filter first\n      if (activeTab === 'need_response') {\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead || !lead.conversation || !Array.isArray(lead.conversation) || lead.conversation.length === 0) {\n              return false;\n            }\n            const lastMessage = lead.conversation[lead.conversation.length - 1];\n            return lastMessage && lastMessage.type === 'REPLY';\n          } catch (e) {\n            console.warn('Error filtering need_response:', e);\n            return false;\n          }\n        });\n      } else if (activeTab === 'recently_sent') {\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead || !lead.conversation || !Array.isArray(lead.conversation) || lead.conversation.length === 0) {\n              return false;\n            }\n            const lastMessage = lead.conversation[lead.conversation.length - 1];\n            if (!lastMessage || !lastMessage.time || lastMessage.type !== 'SENT') {\n              return false;\n            }\n            const timeSinceLastMessage = Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60));\n            return timeSinceLastMessage <= 24;\n          } catch (e) {\n            console.warn('Error filtering recently_sent:', e);\n            return false;\n          }\n        });\n      }\n\n      // Apply search filter\n      if (searchQuery && typeof searchQuery === 'string' && searchQuery.trim()) {\n        const query = searchQuery.toLowerCase().trim();\n        filtered = filtered.filter(lead => {\n          try {\n            if (!lead) return false;\n            \n            const firstName = (lead.first_name || '').toLowerCase();\n            const lastName = (lead.last_name || '').toLowerCase();\n            const email = (lead.email || '').toLowerCase();\n            const subject = (lead.subject || '').toLowerCase();\n            \n            let tagsMatch = false;\n            if (lead.tags && Array.isArray(lead.tags)) {\n              tagsMatch = lead.tags.some(tag => {\n                return tag && typeof tag === 'string' && tag.toLowerCase().includes(query);\n              });\n            }\n            \n            return firstName.includes(query) || \n                   lastName.includes(query) || \n                   email.includes(query) || \n                   subject.includes(query) || \n                   tagsMatch;\n          } catch (e) {\n            console.warn('Error in search filter:', e);\n            return false;\n          }\n        });\n      }\n\n      // Apply advanced filters\n      if (activeFilters && typeof activeFilters === 'object') {\n        for (const [category, values] of Object.entries(activeFilters)) {\n          if (!values || !Array.isArray(values) || values.length === 0) continue;\n          \n          filtered = filtered.filter(lead => {\n            try {\n              if (!lead) return false;\n              \n              return values.some(value => {\n                if (!value) return false;\n                \n                switch (category) {\n                  case 'intent':\n                    if (typeof lead.intent !== 'number') return false;\n                    if (value === 'high') return lead.intent >= 7;\n                    if (value === 'medium') return lead.intent >= 4 && lead.intent <= 6;\n                    if (value === 'low') return lead.intent <= 3;\n                    return false;\n                  \n                  case 'urgency':\n                    try {\n                      const urgency = getResponseUrgency(lead);\n                      return value === urgency;\n                    } catch (e) {\n                      console.warn('Error checking urgency:', e);\n                      return false;\n                    }\n                  \n                  case 'category':\n                    return lead.lead_category && lead.lead_category.toString() === value;\n                  \n                  case 'engagement':\n                    if (typeof lead.engagement_score !== 'number') return false;\n                    if (value === 'high') return lead.engagement_score >= 80;\n                    if (value === 'medium') return lead.engagement_score >= 50 && lead.engagement_score < 80;\n                    if (value === 'low') return lead.engagement_score < 50;\n                    return false;\n                  \n                  case 'replies':\n                    try {\n                      let replyCount = 0;\n                      if (lead.conversation && Array.isArray(lead.conversation)) {\n                        replyCount = lead.conversation.filter(m => m && m.type === 'REPLY').length;\n                      }\n                      if (value === 'has_replies') return replyCount > 0;\n                      if (value === 'no_replies') return replyCount === 0;\n                      if (value === 'multiple_replies') return replyCount >= 2;\n                      return false;\n                    } catch (e) {\n                      console.warn('Error checking replies:', e);\n                      return false;\n                    }\n                  \n                  case 'timeframe':\n                    try {\n                      let lastActivity;\n                      if (lead.conversation && Array.isArray(lead.conversation) && lead.conversation.length > 0) {\n                        const lastMessage = lead.conversation[lead.conversation.length - 1];\n                        lastActivity = lastMessage && lastMessage.time ? new Date(lastMessage.time) : new Date(lead.created_at || Date.now());\n                      } else {\n                        lastActivity = new Date(lead.created_at || Date.now());\n                      }\n                      \n                      const daysDiff = (new Date() - lastActivity) / (1000 * 60 * 60 * 24);\n                      \n                      if (value === 'today') return daysDiff >= 0 && daysDiff < 1;\n                      if (value === 'yesterday') return daysDiff >= 1 && daysDiff < 2;\n                      if (value === 'this_week') return daysDiff <= 7;\n                      if (value === 'last_week') return daysDiff > 7 && daysDiff <= 14;\n                      if (value === 'this_month') return daysDiff <= 30;\n                      if (value === 'older') return daysDiff > 30;\n                      return false;\n                    } catch (e) {\n                      console.warn('Error checking timeframe:', e);\n                      return false;\n                    }\n                  \n                  default:\n                    return false;\n                }\n              });\n            } catch (e) {\n              console.warn('Error in advanced filter:', e);\n              return false;\n            }\n          });\n        }\n      }\n\n      return filtered;\n    } catch (e) {\n      console.error('Error in filteredAndSortedLeads:', e);\n      return leads || [];\n    }\n  }, [leads, searchQuery, activeFilters, activeTab]);\n\n  // Auto-populate email fields and restore drafts when lead is selected\n  useEffect(() => {\n    if (selectedLead) {\n      // Add to recently viewed\n      addToRecentlyViewed(selectedLead);\n      \n      // Restore draft if exists\n      const savedDraft = drafts[selectedLead.id];\n      if (savedDraft) {\n        setDraftResponse(savedDraft.content);\n        setDraftHtml(savedDraft.htmlContent || '');\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = savedDraft.htmlContent || savedDraft.content.replace(/\\n/g, '<br>');\n        }\n      } else {\n        // Clear draft if no saved content\n        setDraftResponse('');\n        setDraftHtml('');\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = '';\n        }\n      }\n      \n      if (selectedLead.conversation.length > 0) {\n        const lastMessage = selectedLead.conversation[selectedLead.conversation.length - 1];\n        \n        // Dynamically detect our email addresses from SENT messages\n        const getOurEmails = () => {\n          const ourEmails = new Set();\n          selectedLead.conversation.forEach(msg => {\n            if (msg.type === 'SENT' && msg.from) {\n              ourEmails.add(msg.from);\n            }\n          });\n          return Array.from(ourEmails);\n        };\n        \n        // Get all unique email participants from the conversation (excluding our emails)\n        const getAllParticipants = () => {\n          const participants = new Set();\n          const ourEmails = getOurEmails();\n          \n          // Go through conversation to find all unique email addresses\n          selectedLead.conversation.forEach(msg => {\n            if (msg.from) participants.add(msg.from);\n            if (msg.to) participants.add(msg.to);\n            if (msg.cc && Array.isArray(msg.cc) && msg.cc.length > 0) {\n              msg.cc.forEach(ccEntry => {\n                if (ccEntry.address) participants.add(ccEntry.address);\n              });\n            }\n          });\n          \n          // Remove our own emails dynamically\n          ourEmails.forEach(email => participants.delete(email));\n          \n          return Array.from(participants);\n        };\n        \n        // Determine recipients based on the last message\n        let primaryRecipient = '';\n        let ccRecipients = [];\n        \n        if (lastMessage.type === 'REPLY') {\n          // If they replied, send back to the sender and CC everyone else who was involved\n          primaryRecipient = lastMessage.from;\n          \n          // Get all other participants for CC (excluding the primary recipient)\n          const allParticipants = getAllParticipants();\n          ccRecipients = allParticipants.filter(email => email !== primaryRecipient);\n        } else {\n          // If we sent last, use the same recipients as the last sent message\n          primaryRecipient = lastMessage.to || selectedLead.email;\n          \n          // Only add CC if the last message actually had CC recipients\n          if (lastMessage.cc && Array.isArray(lastMessage.cc) && lastMessage.cc.length > 0) {\n            ccRecipients = lastMessage.cc\n              .map(cc => cc.address)\n              .filter(email => email && email.trim() !== '');\n          }\n        }\n        \n        setEditableToEmail(primaryRecipient || selectedLead.email);\n        setEditableCcEmails(ccRecipients.join(', '));\n      } else {\n        // Fallback to original lead email if no conversation\n        setEditableToEmail(selectedLead.email);\n        setEditableCcEmails('');\n      }\n    }\n  }, [selectedLead]);\n  const calculateEngagementScore = (conversation) => {\n    const replies = conversation.filter(m => m.type === 'REPLY').length;\n    const sent = conversation.filter(m => m.type === 'SENT').length;\n    if (sent === 0) return 0;\n    \n    let score = 0;\n    \n    // Response rate (60 points max)\n    score += Math.min((replies / sent) * 60, 60);\n    \n    // Response speed bonus (40 points max)\n    const avgResponse = conversation\n      .filter(m => m.response_time)\n      .reduce((sum, m) => sum + m.response_time, 0) / Math.max(replies, 1);\n    \n    if (avgResponse < 1) score += 40;      // Under 1 hour = 40 points\n    else if (avgResponse < 4) score += 30;  // Under 4 hours = 30 points  \n    else if (avgResponse < 24) score += 20; // Under 1 day = 20 points\n    else if (avgResponse < 72) score += 10; // Under 3 days = 10 points\n    \n    return Math.round(Math.min(score, 100));\n  };\n\n  // Check if lead needs reply (they replied last)\n  const checkNeedsReply = (conversation) => {\n    if (!conversation || conversation.length === 0) return false;\n    const lastMessage = conversation[conversation.length - 1];\n    return lastMessage && lastMessage.type === 'REPLY';\n  };\n\n  // Auto-generate tags based on conversation - DISABLED\n  const generateAutoTags = (conversation, lead) => {\n    // Only return the lead category tag\n    return lead.tags || [];\n  };\n\n  // Detect conversation stage\n  const detectConversationStage = (conversation) => {\n    const allText = conversation.map(m => m.content.toLowerCase()).join(' ');\n    const replies = conversation.filter(m => m.type === 'REPLY');\n    const lastMessage = conversation[conversation.length - 1];\n    const daysSinceLastMessage = (new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60 * 24);\n    \n    // No replies yet\n    if (replies.length === 0) {\n      if (daysSinceLastMessage > 7) return 'no-response';\n      return 'initial-outreach';\n    }\n    \n    // Has replies - analyze content and timing\n    if (allText.includes('not interested') || allText.includes('no thanks')) {\n      return 'rejected';\n    }\n    \n    if (allText.includes('price') || allText.includes('cost') || allText.includes('budget')) {\n      return 'pricing-discussion';\n    }\n    \n    if (allText.includes('sample') || allText.includes('example') || allText.includes('portfolio')) {\n      return 'samples-requested';\n    }\n    \n    if (allText.includes('call') || allText.includes('meeting') || allText.includes('schedule')) {\n      return 'call-scheduled';\n    }\n    \n    if (allText.includes('think about') || allText.includes('discuss with team') || allText.includes('get back')) {\n      return 'considering';\n    }\n    \n    // Check for stalled conversations\n    if (daysSinceLastMessage > 7) {\n      return 'stalled';\n    }\n    \n    // Active conversation with positive engagement\n    if (replies.length > 0 && (allText.includes('interested') || allText.includes('yes') || allText.includes('sure'))) {\n      return 'engaged';\n    }\n    \n    return 'active';\n  };\n\n  // Get stage styling\n  const getStageStyle = (stage) => {\n    const styles = {\n      'initial-outreach': { bg: 'bg-blue-100', text: 'text-blue-800', label: 'Initial Outreach' },\n      'engaged': { bg: 'bg-green-100', text: 'text-green-800', label: 'Engaged' },\n      'pricing-discussion': { bg: 'bg-purple-100', text: 'text-purple-800', label: 'Pricing Discussion' },\n      'samples-requested': { bg: 'bg-orange-100', text: 'text-orange-800', label: 'Samples Requested' },\n      'call-scheduled': { bg: 'bg-cyan-100', text: 'text-cyan-800', label: 'Call Scheduled' },\n      'considering': { bg: 'bg-yellow-100', text: 'text-yellow-800', label: 'Considering' },\n      'stalled': { bg: 'bg-red-100', text: 'text-red-800', label: 'Stalled' },\n      'no-response': { bg: 'bg-gray-100', text: 'text-gray-800', label: 'No Response' },\n      'rejected': { bg: 'bg-red-100', text: 'text-red-800', label: 'Rejected' },\n      'active': { bg: 'bg-blue-100', text: 'text-blue-800', label: 'Active' }\n    };\n    return styles[stage] || styles['active'];\n  };\n\n  // Format timestamp\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleString();\n  };\n\n  // Format currency\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);\n  };\n\n  // Rich text formatting functions\n  const formatText = (command, value = null) => {\n    document.execCommand(command, false, value);\n  };\n\n  const insertLink = () => {\n    const selection = window.getSelection();\n    const selectedText = selection.toString().trim();\n    const range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n    const editor = document.querySelector('[contenteditable]');\n\n    // Create modal with clean styling\n    const modal = document.createElement('div');\n    modal.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n    `;\n    \n    const content = document.createElement('div');\n    content.style.cssText = `\n      background: #1A1C1A;\n      border: 1px solid rgba(255, 255, 255, 0.2);\n      border-radius: 8px;\n      padding: 24px;\n      width: 400px;\n      max-width: 90vw;\n    `;\n\n    // Title\n    const title = document.createElement('h3');\n    title.textContent = 'Insert Link';\n    title.style.cssText = `\n      color: white;\n      font-weight: bold;\n      margin: 0 0 20px 0;\n      font-size: 16px;\n    `;\n\n    // Text input\n    const textContainer = document.createElement('div');\n    textContainer.style.marginBottom = '16px';\n    \n    const textLabel = document.createElement('label');\n    textLabel.textContent = 'Text to display:';\n    textLabel.style.cssText = `\n      display: block;\n      color: white;\n      font-size: 12px;\n      margin-bottom: 4px;\n    `;\n\n    const textInput = document.createElement('input');\n    textInput.type = 'text';\n    textInput.value = selectedText;\n    textInput.placeholder = 'Link text';\n    textInput.style.cssText = `\n          width: 100%;\n          padding: 8px 12px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          border-radius: 6px;\n          background: rgba(255, 255, 255, 0.05);\n          color: white;\n      font-size: 14px;\n      box-sizing: border-box;\n      outline: none;\n    `;\n\n    // URL input\n    const urlContainer = document.createElement('div');\n    urlContainer.style.marginBottom = '24px';\n    \n    const urlLabel = document.createElement('label');\n    urlLabel.textContent = 'URL:';\n    urlLabel.style.cssText = textLabel.style.cssText;\n\n    const urlInput = document.createElement('input');\n    urlInput.type = 'text';\n    urlInput.placeholder = 'https://example.com';\n    urlInput.style.cssText = textInput.style.cssText;\n\n    // Error message\n    const errorMessage = document.createElement('div');\n    errorMessage.style.cssText = `\n      color: #ff4444;\n      font-size: 12px;\n          margin-bottom: 16px;\n      min-height: 16px;\n    `;\n\n    // Buttons\n    const buttonsContainer = document.createElement('div');\n    buttonsContainer.style.cssText = `\n      display: flex;\n      justify-content: flex-end;\n      gap: 8px;\n    `;\n\n    const cancelButton = document.createElement('button');\n    cancelButton.textContent = 'Cancel';\n    cancelButton.style.cssText = `\n            padding: 8px 16px;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 6px;\n            background: rgba(255, 255, 255, 0.05);\n            color: white;\n            cursor: pointer;\n      font-size: 14px;\n    `;\n\n    const insertButton = document.createElement('button');\n    insertButton.textContent = 'Insert Link';\n    insertButton.style.cssText = `\n            padding: 8px 16px;\n            border: none;\n            border-radius: 6px;\n            background: #54FCFF;\n            color: #1A1C1A;\n            cursor: pointer;\n            font-weight: bold;\n      font-size: 14px;\n    `;\n\n    // Assemble the modal\n    textContainer.appendChild(textLabel);\n    textContainer.appendChild(textInput);\n    urlContainer.appendChild(urlLabel);\n    urlContainer.appendChild(urlInput);\n    buttonsContainer.appendChild(cancelButton);\n    buttonsContainer.appendChild(insertButton);\n\n    content.appendChild(title);\n    content.appendChild(textContainer);\n    content.appendChild(urlContainer);\n    content.appendChild(errorMessage);\n    content.appendChild(buttonsContainer);\n    modal.appendChild(content);\n\n    document.body.appendChild(modal);\n\n    // Focus URL input if text is selected, otherwise focus text input\n    setTimeout(() => {\n      if (selectedText) {\n    urlInput.focus();\n      } else {\n        textInput.focus();\n      }\n    }, 50);\n\n    const validateAndInsert = () => {\n      const text = textInput.value.trim();\n      let url = urlInput.value.trim();\n\n      // Validate inputs\n      if (!text) {\n        errorMessage.textContent = 'Please enter the text to display';\n        return;\n      }\n\n      if (!url) {\n        errorMessage.textContent = 'Please enter a URL';\n        return;\n      }\n\n      // Add protocol if missing\n      if (!url.startsWith('http://') && !url.startsWith('https://')) {\n        url = 'https://' + url;\n      }\n\n      // Validate URL format\n      try {\n        new URL(url);\n      } catch (e) {\n        errorMessage.textContent = 'Please enter a valid URL';\n        return;\n      }\n\n      if (range && editor) {\n        // Create link wrapper div to help with positioning the remove button\n        const linkWrapper = document.createElement('span');\n        linkWrapper.style.position = 'relative';\n        linkWrapper.style.display = 'inline-block';\n        \n        // Create the link\n        const link = document.createElement('a');\n        link.href = url;\n        link.textContent = text;\n        link.target = '_blank';\n        link.rel = 'noopener noreferrer';\n        link.style.cssText = `\n          color: #0066cc;\n          text-decoration: underline;\n          cursor: pointer;\n        `;\n        \n        // Create remove button (always visible)\n        const removeBtn = document.createElement('span');\n        removeBtn.textContent = '×';\n        removeBtn.style.cssText = `\n          position: absolute;\n          top: -8px;\n          right: -12px;\n          background: #e0e0e0;\n          color: #333;\n          border-radius: 50%;\n          width: 16px;\n          height: 16px;\n          font-size: 12px;\n          line-height: 16px;\n          text-align: center;\n          cursor: pointer;\n          user-select: none;\n          opacity: 0;\n          transition: opacity 0.2s;\n        `;\n        \n        // Show/hide remove button on hover\n        linkWrapper.addEventListener('mouseenter', () => {\n          removeBtn.style.opacity = '1';\n          link.style.color = '#004499';\n        });\n        \n        linkWrapper.addEventListener('mouseleave', () => {\n          removeBtn.style.opacity = '0';\n          link.style.color = '#0066cc';\n        });\n        \n        // Handle remove button click\n        removeBtn.addEventListener('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const text = document.createTextNode(link.textContent);\n          linkWrapper.parentNode.replaceChild(text, linkWrapper);\n          handleTextareaChange({ target: editor });\n        });\n        \n        // Assemble the link component\n        linkWrapper.appendChild(link);\n        linkWrapper.appendChild(removeBtn);\n        \n        // Insert into document\n        range.deleteContents();\n        range.insertNode(linkWrapper);\n        \n        // Update editor content\n        handleTextareaChange({ target: editor });\n      }\n\n      // Close modal\n      document.body.removeChild(modal);\n    };\n    \n    // Event Listeners\n    cancelButton.addEventListener('click', () => document.body.removeChild(modal));\n    insertButton.addEventListener('click', validateAndInsert);\n    \n    // Handle Enter key\n    [textInput, urlInput].forEach(input => {\n      input.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') {\n          e.preventDefault();\n          validateAndInsert();\n        }\n      });\n    });\n\n    // Close on background click\n    modal.addEventListener('click', (e) => {\n      if (e.target === modal) {\n      document.body.removeChild(modal);\n      }\n    });\n\n    // Handle Escape key\n    document.addEventListener('keydown', function escapeHandler(e) {\n      if (e.key === 'Escape') {\n        document.body.removeChild(modal);\n        document.removeEventListener('keydown', escapeHandler);\n      }\n    });\n  };\n\n  const insertList = () => {\n    const editor = document.querySelector('[contenteditable]');\n    const selection = window.getSelection();\n    \n    if (selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0);\n      const selectedText = selection.toString().trim();\n      \n      if (selectedText) {\n        // Convert selected text into a formatted list\n        const lines = selectedText.split('\\n');\n        const listContainer = document.createElement('div');\n        listContainer.style.cssText = `\n          margin: 8px 0;\n          padding-left: 8px;\n        `;\n        \n        lines\n          .map(line => line.trim())\n          .filter(line => line.length > 0)\n          .forEach(line => {\n            const listItem = document.createElement('div');\n            listItem.style.cssText = `\n              position: relative;\n              padding-left: 20px;\n              margin: 4px 0;\n              line-height: 1.5;\n            `;\n            \n            // Create bullet point\n            const bullet = document.createElement('span');\n            bullet.textContent = '•';\n            bullet.style.cssText = `\n              position: absolute;\n              left: 4px;\n              font-size: 1.2em;\n              line-height: 1;\n              top: 50%;\n              transform: translateY(-50%);\n            `;\n            \n            // Create text content without explicit color\n            const textContent = document.createElement('span');\n            textContent.textContent = line;\n            \n            listItem.appendChild(bullet);\n            listItem.appendChild(textContent);\n            listContainer.appendChild(listItem);\n          });\n        \n        // Insert the formatted list\n      range.deleteContents();\n        range.insertNode(listContainer);\n      } else {\n        // Insert a single formatted bullet point\n        const listItem = document.createElement('div');\n        listItem.style.cssText = `\n          position: relative;\n          padding-left: 20px;\n          margin: 4px 0;\n          line-height: 1.5;\n        `;\n        \n        // Create bullet point\n        const bullet = document.createElement('span');\n        bullet.textContent = '•';\n        bullet.style.cssText = `\n          position: absolute;\n          left: 4px;\n          font-size: 1.2em;\n          line-height: 1;\n          top: 50%;\n          transform: translateY(-50%);\n        `;\n        \n        // Create editable content area without explicit color\n        const textContent = document.createElement('span');\n        \n        listItem.appendChild(bullet);\n        listItem.appendChild(textContent);\n        \n        // Insert at cursor position\n        range.deleteContents();\n        range.insertNode(listItem);\n        \n        // Move cursor to text content\n        const newRange = document.createRange();\n        newRange.setStart(textContent, 0);\n        newRange.collapse(true);\n        selection.removeAllRanges();\n        selection.addRange(newRange);\n      }\n      \n      // Update the draft content\n      handleTextareaChange({ target: editor });\n    }\n  };\n\n  const handleTextareaChange = (e) => {\n    // Clean up any remaining remove buttons\n    const removeButtons = e.target.querySelectorAll('.remove-link');\n    removeButtons.forEach(btn => btn.remove());\n    \n    // Sanitize HTML content to prevent XSS attacks\n    const rawHtml = e.target.innerHTML;\n    const sanitizedHtml = sanitizeHtml(rawHtml);\n    \n    // Update content with sanitized HTML\n    const textContent = e.target.textContent || e.target.innerText;\n    setDraftResponse(textContent);\n    setDraftHtml(sanitizedHtml);\n    \n    // Auto-save draft if we have a selected lead\n    if (selectedLead) {\n      saveDraft(selectedLead.id, textContent, sanitizedHtml);\n    }\n    \n    // Update the editor with sanitized content if it was changed\n    if (rawHtml !== sanitizedHtml) {\n      e.target.innerHTML = sanitizedHtml;\n      console.warn('HTML content was sanitized for security');\n    }\n  };\n\n  const convertToHtml = (text) => {\n    return text.replace(/\\n/g, '<br>');\n  };\n  const formatResponseTime = (hours) => {\n    if (hours < 1) return `${Math.round(hours * 60)}m`;\n    if (hours < 24) return `${hours.toFixed(1)}h`;\n    return `${(hours / 24).toFixed(1)}d`;\n  };\n\n  // Handle draft generation\n  const generateDraft = async () => {\n    if (!selectedLead) {\n      console.error('No lead selected');\n      return;\n    }\n\n    setIsGeneratingDraft(true);\n    console.log('Generating draft for lead:', selectedLead);\n    \n    try {\n      const lastMessage = selectedLead.conversation[selectedLead.conversation.length - 1];\n      const urgency = getResponseUrgency(selectedLead);\n      \n      // Clean function to remove problematic characters\n      const cleanString = (str) => {\n        if (!str) return '';\n        return str\n          .replace(/\\r\\n/g, ' ')  // Replace Windows line breaks\n          .replace(/\\n/g, ' ')    // Replace Unix line breaks  \n          .replace(/\\r/g, ' ')    // Replace Mac line breaks\n          .replace(/\\t/g, ' ')    // Replace tabs\n          .replace(/[\\x00-\\x1F\\x7F-\\x9F]/g, '')  // Remove other control characters\n          .replace(/\"/g, \"'\")     // Replace double quotes with single quotes\n          .replace(/\\s+/g, ' ')   // Replace multiple spaces with single space\n          .trim();\n      };\n\n      // Debug: Log the full payload we're sending\n      const payload = {\n        id: selectedLead.id,\n        email: cleanString(selectedLead.email),\n        first_name: cleanString(selectedLead.first_name),\n        last_name: cleanString(selectedLead.last_name),\n        subject: cleanString(selectedLead.subject),\n        intent: selectedLead.intent,\n        engagement_score: selectedLead.engagement_score,\n        urgency: urgency,\n        last_message_type: lastMessage?.type || 'SENT',\n        last_message_content: cleanString((lastMessage?.content || '').substring(0, 300)),\n        reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n        days_since_last_message: Math.floor((new Date() - new Date(lastMessage?.time || new Date())) / (1000 * 60 * 60 * 24)),\n        website: cleanString(selectedLead.website || ''),\n        content_brief: cleanString(selectedLead.content_brief || ''),\n        conversation: selectedLead.conversation.map(msg => ({\n          ...msg,\n          content: cleanString(msg.content),\n          from: cleanString(msg.from || ''),\n          to: cleanString(msg.to || '')\n        }))\n      };\n\n      // Debug: Log the full payload we're sending\n      const fullPayload = {\n        id: selectedLead.id,\n        email: cleanString(selectedLead.email),\n        first_name: cleanString(selectedLead.first_name),\n        last_name: cleanString(selectedLead.last_name),\n        subject: cleanString(selectedLead.subject),\n        intent: selectedLead.intent,\n        engagement_score: selectedLead.engagement_score,\n        urgency: urgency,\n        last_message_type: lastMessage?.type || 'SENT',\n        last_message_content: cleanString((lastMessage?.content || '').substring(0, 300)),\n        reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n        days_since_last_message: Math.floor((new Date() - new Date(lastMessage?.time || new Date())) / (1000 * 60 * 60 * 24)),\n        website: cleanString(selectedLead.website || ''),\n        content_brief: cleanString(selectedLead.content_brief || ''),\n        conversation: selectedLead.conversation.map(msg => ({\n          ...msg,\n          content: cleanString(msg.content),\n          from: cleanString(msg.from || ''),\n          to: cleanString(msg.to || '')\n        })),\n        email_message_body: selectedLead.email_message_body || ''\n      };\n\n      console.log('=== WEBHOOK DEBUG INFO ===');\n      console.log('Payload being sent:', JSON.stringify(fullPayload, null, 2));\n      console.log('Payload size (characters):', JSON.stringify(fullPayload).length);\n      console.log('URL:', 'https://reidsickels.app.n8n.cloud/webhook/8021dcee-ebfd-4cd0-a424-49d7eeb5b66b');\n      console.log('Request method: POST');\n      console.log('Content-Type: application/json');\n\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/draftmessage', {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(fullPayload)\n      });\n      \n      console.log('=== RESPONSE DEBUG INFO ===');\n      console.log('Response status:', response.status);\n      console.log('Response headers:', Object.fromEntries(response.headers.entries()));\n      \n      // Get raw response text to see what we're actually getting\n      const responseText = await response.text();\n      console.log('Raw response text:', responseText);\n      console.log('Response text length:', responseText.length);\n      console.log('Response text type:', typeof responseText);\n      \n      if (!response.ok) {\n        console.error('=== ERROR DETAILS ===');\n        console.error('Status:', response.status);\n        console.error('Status Text:', response.statusText);\n        console.error('Response Body:', responseText);\n        throw new Error(`HTTP error! status: ${response.status}, body: ${responseText}`);\n      }\n      \n      // Check if response is empty\n      if (!responseText || responseText.trim() === '') {\n        console.error('Empty response from webhook');\n        throw new Error('Empty response from webhook');\n      }\n      \n      // Try to parse JSON response\n      let data;\n      try {\n        data = JSON.parse(responseText);\n        console.log('Parsed response data:', data);\n      } catch (e) {\n        console.error('JSON parsing failed. Raw response:', responseText);\n        console.error('JSON parse error:', e.message);\n        throw new Error(`Invalid JSON response from webhook. Raw response: ${responseText}`);\n      }\n      \n      // Handle both array and object response formats\n      if (data.text) {\n        // Clean the response text of any problematic characters\n        const cleanResponseText = data.text\n          .replace(/\\\\n/g, '\\n')  // Convert literal \\n to actual line breaks\n          .replace(/\\\\r/g, '\\r')  // Convert literal \\r to actual line breaks\n          .trim();\n\n        // Update both the text state and HTML content\n        setDraftResponse(cleanResponseText);\n        const formattedHtml = convertToHtml(cleanResponseText);\n        setDraftHtml(formattedHtml);\n\n        // Update the contenteditable div\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = formattedHtml;\n        }\n\n        console.log('Draft set successfully from object format');\n      } else if (data && data.length > 0 && data[0].text) {\n        const cleanResponseText = data[0].text\n          .replace(/\\\\n/g, '\\n')\n          .replace(/\\\\r/g, '\\r')\n          .trim();\n\n        // Update both the text state and HTML content\n        setDraftResponse(cleanResponseText);\n        const formattedHtml = convertToHtml(cleanResponseText);\n        setDraftHtml(formattedHtml);\n\n        // Update the contenteditable div\n        const editor = document.querySelector('[contenteditable]');\n        if (editor) {\n          editor.innerHTML = formattedHtml;\n        }\n\n        console.log('Draft set successfully from array format');\n      } else {\n        console.error('No text found in response:', data);\n        throw new Error('No text content in webhook response');\n      }\n    } catch (error) {\n      console.error('=== FULL ERROR DETAILS ===');\n      console.error('Error message:', error.message);\n      console.error('Error stack:', error.stack);\n      console.error('Selected lead data:', selectedLead);\n      \n      // Simple fallback for debugging\n      setDraftResponse(`Hi ${selectedLead.first_name},\\n\\nThank you for your message.\\n\\nBest regards`);\n    } finally {\n      setIsGeneratingDraft(false);\n    }\n  };\n\n  // Handle send message\n  const sendMessage = async () => {\n    const textContent = document.querySelector('[contenteditable]')?.textContent || draftResponse;\n    const rawHtmlContent = document.querySelector('[contenteditable]')?.innerHTML || convertToHtml(draftResponse);\n    const htmlContent = sanitizeHtml(rawHtmlContent);\n    \n    if (!textContent.trim()) return;\n    \n    setIsSending(true);\n    try {\n      // Parse CC emails from the editable field\n      const ccEmails = editableCcEmails\n        .split(',')\n        .map(email => email.trim())\n        .filter(email => email.length > 0)\n        .map(email => ({ name: '', address: email }));\n\n      // Get file attachments\n      const attachmentInput = document.getElementById('attachment-input');\n      const attachments = [];\n      if (attachmentInput && attachmentInput.files.length > 0) {\n        for (let file of attachmentInput.files) {\n          // Convert file to base64 for sending\n          const base64 = await new Promise((resolve) => {\n            const reader = new FileReader();\n            reader.onload = () => resolve(reader.result.split(',')[1]);\n            reader.readAsDataURL(file);\n          });\n          \n          attachments.push({\n            filename: file.name,\n            content: base64,\n            encoding: 'base64',\n            contentType: file.type\n          });\n        }\n      }\n      \n      // Prepare payload with editable recipients and HTML content\n      const sendPayload = {\n        // Draft message data with user-editable recipients and rich formatting\n        message: {\n          content: textContent.trim(), // Plain text version\n          html_content: htmlContent, // Rich HTML version\n          to: editableToEmail.trim(),\n          cc: ccEmails,\n          subject: `Re: ${selectedLead.subject}`,\n          type: 'SENT',\n          attachments: attachments\n        },\n        \n        // Lead data\n        lead: {\n          id: selectedLead.id,\n          campaign_id: selectedLead.campaign_id,\n          lead_id: selectedLead.lead_id,\n          email_stats_id: selectedLead.email_stats_id,\n          email: editableToEmail.trim(), // Use the editable primary email\n          first_name: selectedLead.first_name,\n          last_name: selectedLead.last_name,\n          subject: selectedLead.subject,\n          intent: selectedLead.intent,\n          engagement_score: selectedLead.engagement_score,\n          urgency: getResponseUrgency(selectedLead),\n          website: selectedLead.website || '',\n          tags: selectedLead.tags,\n          conversation_history: selectedLead.conversation,\n          reply_count: selectedLead.conversation.filter(msg => msg.type === 'REPLY').length,\n          last_activity: selectedLead.conversation.length > 0 ? selectedLead.conversation[selectedLead.conversation.length - 1].time : selectedLead.created_at,\n          // Add recipient info\n          cc_recipients: ccEmails.map(cc => cc.address)\n        },\n        smartlead_api_key: apiKeys.smartlead,\n        claude_api_key: apiKeys.claude,\n        fullenrich_api_key: apiKeys.fullenrich\n      };\n\n      console.log('Sending message with rich formatting:', {\n        to: editableToEmail.trim(),\n        cc: ccEmails,\n        htmlContent: htmlContent,\n        attachments: attachments.length,\n        payload: sendPayload\n      });\n\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/8021dcee-ebfd-4cd0-a424-49d7eeb5b66b', {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(sendPayload)\n      });\n\n      console.log('Send response status:', response.status);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Send webhook error:', errorText);\n        throw new Error(`Failed to send message: ${response.status}`);\n      }\n\n      const responseData = await response.json();\n      console.log('Send response data:', responseData);\n\n      // Show success modal instead of alert\n      setShowSentConfirm(true);\n      \n      // Clear draft and editor\n      setDraftResponse('');\n      setDraftHtml('');\n      const editor = document.querySelector('[contenteditable]');\n      if (editor) {\n        editor.innerHTML = '';\n      }\n      \n      // Clear file input\n      if (attachmentInput) {\n        attachmentInput.value = '';\n      }\n      \n      // Optionally refresh leads to get updated data\n      await fetchLeads();\n      \n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert(`Error sending message: ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Add enrichment function\n  const enrichLeadData = async (lead) => {\n    setEnrichingLeads(prev => new Set([...prev, lead.id]));\n    try {\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/9894a38a-ac26-46b8-89a2-ef2e80e83504', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to enrich lead data');\n      }\n\n      const enrichedData = await response.json();\n      console.log('Raw webhook response:', enrichedData);\n\n      // Create a new lead object with the enriched data\n      const updatedLead = {\n        ...lead,\n        role: enrichedData.Role || null,\n        company_data: enrichedData[\"Company Summary\"] || null,\n        personal_linkedin_url: enrichedData[\"Personal LinkedIn\"] || null,\n        business_linkedin_url: enrichedData[\"Business LinkedIn\"] || null,\n        last_name: enrichedData[\"Last Name\"] || lead.last_name || ''\n      };\n\n      // Update the leads array\n      setLeads(prevLeads => prevLeads.map(l => \n        l.id === lead.id ? updatedLead : l\n      ));\n\n      // If this is the selected lead, update it with a new object reference\n      if (selectedLead?.id === lead.id) {\n        setSelectedLead(updatedLead);\n      }\n\n      // Show success/not found toast with lead name\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      if (enrichedData.Role || enrichedData[\"Company Summary\"] || enrichedData[\"Personal LinkedIn\"] || enrichedData[\"Business LinkedIn\"]) {\n        showToast(`Data enriched for ${leadName}`, 'success', lead.id);\n      } else {\n        showToast(`No additional data found for ${leadName}`, 'error', lead.id);\n      }\n\n    } catch (error) {\n      console.error('Error enriching lead:', error);\n      console.error('Error details:', {\n        message: error.message,\n        stack: error.stack\n      });\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      showToast(`Error enriching data for ${leadName}`, 'error', lead.id);\n    } finally {\n      setEnrichingLeads(prev => {\n        const next = new Set(prev);\n        next.delete(lead.id);\n        return next;\n      });\n    }\n  };\n\n  // Loading state\n  if (loading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\" style={{backgroundColor: '#1A1C1A'}}>\n        <div className=\"text-center p-8 rounded-2xl shadow-xl\" style={{backgroundColor: 'rgba(26, 28, 26, 0.8)', border: '1px solid white'}}>\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4\" style={{borderColor: '#54FCFF'}}></div>\n          <p className=\"text-white\">Loading leads...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\" style={{backgroundColor: '#1A1C1A'}}>\n        <div className=\"text-center\">\n          <p className=\"text-red-400 mb-6 font-medium\">Error loading leads: {error}</p>\n          <button \n            onClick={fetchLeads}\n            className=\"px-4 py-2 text-white rounded-lg hover:opacity-80 transition-colors\"\n            style={{backgroundColor: '#54FCFF', color: '#1A1C1A', border: '1px solid white'}}\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Function to handle API key updates\n  const handleApiKeyChange = (key, value) => {\n    setApiKeys(prev => {\n      if (key === 'esp') {\n        // For ESP, we need to handle both provider and key\n        return {\n          ...prev,\n          esp: value\n        };\n      }\n      // For other keys, direct update\n      return {\n        ...prev,\n        [key]: value\n      };\n    });\n  };\n\n  // Function to save API keys (with encryption)\n  const saveApiKeys = () => {\n    setIsSavingApi(true);\n    try {\n      // Save ESP settings\n      if (apiKeys.esp.provider) {\n        localStorage.setItem('esp_provider', apiKeys.esp.provider);\n        const encryptedEspKey = encryptApiKey(apiKeys.esp.key);\n        localStorage.setItem('esp_api_key_enc', encryptedEspKey);\n      }\n\n      // Save Full Enrich key\n      const encryptedFullEnrich = encryptApiKey(apiKeys.fullenrich);\n      localStorage.setItem('fullenrich_api_key_enc', encryptedFullEnrich);\n\n      // Remove old keys if they exist\n      ['smartlead', 'claude'].forEach(oldKey => {\n        localStorage.removeItem(`${oldKey}_api_key`);\n        localStorage.removeItem(`${oldKey}_api_key_enc`);\n      });\n\n      // Show success toast\n      setApiToastMessage({\n        type: 'success',\n        message: 'API keys saved securely'\n      });\n      setShowApiToast(true);\n      setTimeout(() => setShowApiToast(false), 3000);\n    } catch (error) {\n      console.error('Failed to save API keys:', error);\n      setApiToastMessage({\n        type: 'error',\n        message: 'Failed to save API keys'\n      });\n      setShowApiToast(true);\n      setTimeout(() => setShowApiToast(false), 3000);\n    } finally {\n      setIsSavingApi(false);\n    }\n  };\n\n  // Function to toggle all sections\n  const toggleAllSections = () => {\n    if (activeSection.length === 0) {\n      setActiveSection(['general', 'enrichment', 'engagement']);\n    } else {\n      setActiveSection([]);\n    }\n  };\n\n  // Function to toggle individual section\n  const toggleSection = (section) => {\n    setActiveSection(prev => \n      prev.includes(section) \n        ? prev.filter(s => s !== section)\n        : [...prev, section]\n    );\n  };\n\n  const findPhoneNumber = async (lead) => {\n    setSearchingPhoneLeads(prev => new Set([...prev, lead.id]));\n    try {\n      const response = await fetch('https://reidsickels.app.n8n.cloud/webhook/0b5749de-2324-45da-aa36-20971addef0b', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...lead,\n          smartlead_api_key: apiKeys.smartlead,\n          claude_api_key: apiKeys.claude,\n          fullenrich_api_key: apiKeys.fullenrich\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to find phone number');\n      }\n\n      const data = await response.json();\n      console.log('Raw webhook response:', data);\n\n      // Extract phone number from the nested structure\n      const phoneNumber = data?.datas?.[0]?.contact?.phones?.[0]?.number || null;\n\n      // Create a new lead object with the phone number\n      const updatedLead = {\n        ...lead,\n        phone: phoneNumber\n      };\n\n      // Update the leads array\n      setLeads(prevLeads => prevLeads.map(l => \n        l.id === lead.id ? updatedLead : l\n      ));\n\n      // If this is the selected lead, update it with a new object reference\n      if (selectedLead?.id === lead.id) {\n        setSelectedLead(updatedLead);\n      }\n\n      // Show success/not found toast with lead name\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      if (phoneNumber) {\n        showToast(`Phone found for ${leadName}`, 'success', lead.id);\n      } else {\n        showToast(`No phone found for ${leadName}`, 'error', lead.id);\n      }\n\n    } catch (error) {\n      console.error('Error finding phone number:', error);\n      console.error('Error details:', {\n        message: error.message,\n        stack: error.stack\n      });\n      const leadName = `${lead.first_name} ${lead.last_name}`.trim();\n      showToast(`Error searching phone for ${leadName}`, 'error', lead.id);\n    } finally {\n      setSearchingPhoneLeads(prev => {\n        const next = new Set(prev);\n        next.delete(lead.id);\n        return next;\n      });\n    }\n  };\n\n  // Add a helper function to get active filter count\n  const getActiveFilterCount = () => {\n    return Object.values(activeFilters)\n      .reduce((count, values) => count + (Array.isArray(values) ? values.length : 0), 0);\n  };\n\n  // Update the urgency filter buttons\n  const handleUrgencyFilter = (urgencyType) => {\n    // If this urgency is already active, clear it\n    if (activeFilters.urgency?.includes(urgencyType)) {\n      handleRemoveFilter('urgency', urgencyType);\n    } else {\n      // Otherwise, set only this urgency\n      handleAddFilter('urgency', urgencyType);\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen relative overflow-hidden transition-colors duration-300\" style={{backgroundColor: themeStyles.primaryBg}}>\n      {/* Top Navigation Bar */}\n      <div className=\"absolute top-0 left-0 right-0 h-12 bg-opacity-50 backdrop-blur-md z-20 flex items-center px-6 transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, borderBottom: `1px solid ${themeStyles.border}`}}>\n        <div className=\"flex justify-between items-center w-full\">\n          <div className=\"flex space-x-4\">\n            <button\n              onClick={() => setActiveTab('all')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                (activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent') ? `text-white` : `hover:bg-white/5`\n              }`}\n              style={{\n                backgroundColor: (activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent') ? `${themeStyles.accent}20` : 'transparent',\n                color: (activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent') ? themeStyles.accent : themeStyles.textPrimary\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <Mail className=\"w-4 h-4\" />\n                Inbox\n              </div>\n            </button>\n\n            <button\n              onClick={() => setActiveTab('analytics')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                activeTab === 'analytics' ? `text-white` : `hover:bg-white/5`\n              }`}\n              style={{\n                backgroundColor: activeTab === 'analytics' ? `${themeStyles.accent}20` : 'transparent',\n                color: activeTab === 'analytics' ? themeStyles.accent : themeStyles.textPrimary\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <BarChart3 className=\"w-4 h-4\" />\n                Analytics\n              </div>\n            </button>\n\n            {/* Recently Viewed Dropdown */}\n            {recentlyViewed.length > 0 && (\n              <div className=\"relative recent-dropdown\">\n                <button\n                  onClick={() => setShowRecentDropdown(!showRecentDropdown)}\n                  className=\"px-4 py-2 rounded-lg text-sm font-medium transition-all hover:bg-white/5 flex items-center gap-2\"\n                  style={{color: themeStyles.textPrimary}}\n                >\n                  <Clock className=\"w-4 h-4\" />\n                  Recent ({recentlyViewed.length})\n                  <ChevronDown className=\"w-3 h-3\" />\n                </button>\n\n                {showRecentDropdown && (\n                  <div className=\"absolute top-full left-0 mt-2 w-64 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                    <div className=\"p-3\">\n                      <h4 className=\"font-medium mb-2 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Recently Viewed</h4>\n                      <div className=\"space-y-1\">\n                        {recentlyViewed.map((recent) => (\n                          <button\n                            key={recent.id}\n                            onClick={() => {\n                              const lead = leads.find(l => l.id === recent.id);\n                              if (lead) {\n                                setSelectedLead(lead);\n                                setShowRecentDropdown(false);\n                              }\n                            }}\n                            className=\"w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-300 hover:opacity-80\"\n                            style={{\n                              backgroundColor: selectedLead?.id === recent.id ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                              color: themeStyles.textPrimary\n                            }}\n                          >\n                            <div className=\"font-medium\">{recent.name}</div>\n                            <div className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>{recent.email}</div>\n                          </button>\n                        ))}\n                      </div>\n                      <button\n                        onClick={() => {\n                          setRecentlyViewed([]);\n                          localStorage.removeItem('inbox_manager_recent_leads');\n                          setShowRecentDropdown(false);\n                        }}\n                        className=\"w-full mt-3 px-3 py-2 text-xs rounded-lg transition-all duration-300 hover:opacity-80\"\n                        style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textMuted}}\n                      >\n                        Clear Recent\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            <button\n              onClick={() => setShowApiSettings(true)}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                showApiSettings ? 'text-white' : 'hover:bg-white/5'\n              }`}\n              style={{\n                backgroundColor: showApiSettings ? `${themeStyles.accent}20` : 'transparent',\n                color: showApiSettings ? themeStyles.accent : themeStyles.textPrimary\n              }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <Key className=\"w-4 h-4\" />\n                API Settings\n              </div>\n            </button>\n          </div>\n\n          <div className=\"flex items-center space-x-3\">\n            {/* User Info */}\n            {user && (\n              <div className=\"flex items-center space-x-2 px-3 py-1 rounded-lg text-sm\" style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}>\n                <User className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">{user.email}</span>\n              </div>\n            )}\n\n            {/* Theme Toggle */}\n            <button\n              onClick={toggleTheme}\n              className=\"px-3 py-2 rounded-lg text-sm font-medium transition-all hover:bg-white/5 flex items-center gap-2\"\n              style={{color: themeStyles.textPrimary}}\n              title={`Switch to ${isDarkMode ? 'light' : 'dark'} mode`}\n            >\n              {isDarkMode ? (\n                <>\n                  <span className=\"text-lg\">☀️</span>\n                  <span className=\"hidden sm:inline\">Light</span>\n                </>\n              ) : (\n                <>\n                  <span className=\"text-lg\">🌙</span>\n                  <span className=\"hidden sm:inline\">Dark</span>\n                </>\n              )}\n            </button>\n\n            {/* Sign Out Button */}\n            {user && onSignOut && (\n              <button\n                onClick={onSignOut}\n                className=\"px-3 py-2 rounded-lg text-sm font-medium transition-all hover:bg-red-500/10 flex items-center gap-2\"\n                style={{color: '#ef4444'}}\n                title=\"Sign out\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">Sign Out</span>\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* API Settings Modal */}\n      {showApiSettings && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-[#1A1C1A] rounded-xl shadow-xl max-w-2xl w-full border border-white/10 overflow-hidden\">\n            <div className=\"p-6 border-b border-white/10\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n                  <Key className=\"w-5 h-5\" style={{color: '#54FCFF'}} />\n                  API Settings\n                </h2>\n                <button\n                  onClick={() => setShowApiSettings(false)}\n                  className=\"text-gray-400 hover:text-white transition-colors\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"p-6 space-y-6\">\n              {/* Security Notice */}\n              <div className=\"bg-[#1A1C1A] border border-[#00FF8C]/20 rounded-lg p-3\">\n                <div className=\"flex items-center gap-2 text-[#00FF8C] text-sm\">\n                  <CheckCircle className=\"w-4 h-4\" />\n                  <span className=\"font-medium\">Secure Storage Enabled</span>\n                </div>\n                <p className=\"text-xs text-[#00FF8C]/80 mt-1\">API keys are encrypted before storage for enhanced security</p>\n              </div>\n\n              {/* Email Service Provider Section */}\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-2\">\n                  <Mail className=\"w-4 h-4\" style={{color: '#54FCFF'}} />\n                  <h3 className=\"font-medium text-[#54FCFF]\">Email Service Provider</h3>\n                </div>\n\n                {/* ESP Selection */}\n                <div className=\"grid grid-cols-3 gap-3\">\n                  {['Email Bison', 'Smartlead', 'Instantly'].map(provider => (\n                    <button\n                      key={provider}\n                      onClick={() => handleApiKeyChange('esp', { ...apiKeys.esp, provider: provider.toLowerCase() })}\n                      className={`px-4 py-2 rounded-lg text-sm font-medium transition-all text-white ${\n                        apiKeys.esp.provider === provider.toLowerCase() \n                          ? 'bg-[#54FCFF]/10 border-[#54FCFF] text-[#54FCFF]' \n                          : 'bg-[#1A1C1A] border-white/10 hover:bg-[#1A1C1A]/80'\n                      }`}\n                      style={{border: '1px solid'}}\n                    >\n                      {provider}\n                    </button>\n                  ))}\n                </div>\n\n                {/* ESP API Key Input */}\n                {apiKeys.esp.provider && (\n                  <div className=\"space-y-2\">\n                    <label className=\"text-sm text-white/60\">\n                      {apiKeys.esp.provider.charAt(0).toUpperCase() + apiKeys.esp.provider.slice(1)} API Key\n                    </label>\n                    <div className=\"relative\">\n                                          <input\n                      type=\"password\"\n                      value={apiKeys.esp.key}\n                      onChange={(e) => handleApiKeyChange('esp', { ...apiKeys.esp, key: e.target.value })}\n                      className=\"w-full px-4 py-2 rounded-lg text-white placeholder-gray-400 bg-[#1A1C1A] border border-white/10 focus:border-[#54FCFF] focus:ring-1 focus:ring-[#54FCFF] transition-all\"\n                      placeholder={`Enter ${apiKeys.esp.provider} API key`}\n                    />\n                      {apiTestStatus.esp === true && (\n                        <CheckCircle className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400\" />\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Data Enrichment Section */}\n              <div className=\"space-y-4 pt-6 mt-6 border-t border-white/10\">\n                <div className=\"flex items-center gap-2\">\n                  <Database className=\"w-4 h-4\" style={{color: '#54FCFF'}} />\n                  <h3 className=\"font-medium text-[#54FCFF]\">Data Enrichment</h3>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm text-white/60\">\n                    Full Enrich API Key\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"password\"\n                      value={apiKeys.fullenrich}\n                      onChange={(e) => handleApiKeyChange('fullenrich', e.target.value)}\n                      className=\"w-full px-4 py-2 rounded-lg text-white placeholder-gray-400 bg-[#1A1C1A] border border-white/10 focus:border-[#54FCFF] focus:ring-1 focus:ring-[#54FCFF] transition-all\"\n                      placeholder=\"Enter Full Enrich API key\"\n                    />\n                    {apiTestStatus.fullenrich === true && (\n                      <CheckCircle className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400\" />\n                    )}\n                  </div>\n                  <p className=\"text-xs text-white/40 mt-2\">\n                    Used for finding phone numbers, company data, and social profiles\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6 bg-[#1A1C1A] border-t border-white/10 flex justify-end gap-3\">\n              <button\n                onClick={() => setShowApiSettings(false)}\n                className=\"px-4 py-2 rounded-lg text-white hover:bg-white/5 transition-colors text-sm\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={saveApiKeys}\n                disabled={isSavingApi}\n                className=\"px-4 py-2 rounded-lg bg-[#54FCFF] text-black font-medium hover:opacity-90 transition-all text-sm flex items-center gap-2 disabled:opacity-50\"\n              >\n                {isSavingApi ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                    Saving...\n                  </>\n                ) : (\n                  <>\n                    <Save className=\"w-4 h-4\" />\n                    Save API Keys\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Success/Error Toast */}\n      {showApiToast && (\n        <div className=\"fixed top-4 right-4 z-50 animate-slideIn\">\n          <div className={`rounded-lg shadow-lg p-4 text-sm font-medium flex items-center gap-2 ${\n            apiToastMessage.type === 'success' \n              ? 'bg-green-400 text-green-900' \n              : 'bg-red-400 text-red-900'\n          }`}>\n            {apiToastMessage.type === 'success' ? (\n              <CheckCircle className=\"w-4 h-4\" />\n            ) : (\n              <AlertCircle className=\"w-4 h-4\" />\n            )}\n            {apiToastMessage.message}\n          </div>\n        </div>\n      )}\n\n      {/* Toast Notifications Container */}\n      <div className=\"fixed top-4 right-4 z-50 flex flex-col-reverse gap-2\">\n        {toasts.map(toast => (\n          <div \n            key={toast.id}\n            className=\"flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg cursor-pointer transition-all transform hover:scale-102 min-w-[200px]\"\n            style={{\n              backgroundColor: toast.type === 'success' \n                ? `${themeStyles.success}20` \n                : `${themeStyles.error}20`,\n              border: `1px solid ${toast.type === 'success' ? themeStyles.success : themeStyles.error}`,\n              backdropFilter: 'blur(8px)',\n              animation: 'slideIn 0.2s ease-out'\n            }}\n            onClick={() => {\n              if (toast.leadId) {\n                const lead = leads.find(l => l.id === toast.leadId);\n                if (lead) {\n                  setSelectedLead(lead);\n                  removeToast(toast.id);\n                }\n              }\n            }}\n          >\n            {toast.type === 'success' ? (\n              <CheckCircle className=\"w-5 h-5 shrink-0\" style={{color: themeStyles.success}} />\n            ) : (\n              <AlertCircle className=\"w-5 h-5 shrink-0\" style={{color: themeStyles.error}} />\n            )}\n            <span className=\"text-sm font-medium flex-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{toast.message}</span>\n            <button \n              onClick={(e) => {\n                e.stopPropagation();\n                removeToast(toast.id);\n              }}\n              className=\"ml-2 shrink-0 hover:opacity-80 transition-colors duration-300\"\n              style={{color: themeStyles.textMuted}}\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        ))}\n      </div>\n\n      <style jsx global>{`\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes glow {\n          0% { opacity: 0.5; }\n          100% { opacity: 1; }\n        }\n        \n        /* Theme transition animations */\n        * {\n          transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n        }\n        \n        /* Custom scrollbar for theme */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n        \n        ::-webkit-scrollbar-track {\n          background: ${isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'};\n          border-radius: 4px;\n        }\n        \n        ::-webkit-scrollbar-thumb {\n          background: ${themeStyles.accent};\n          border-radius: 4px;\n        }\n        \n        ::-webkit-scrollbar-thumb:hover {\n          background: ${themeStyles.accent}CC;\n        }\n      `}</style>\n\n      {/* Add margin-top to main content to account for nav bar */}\n      <div className=\"flex-1 flex mt-12\">\n        {/* Analytics Dashboard */}\n        {activeTab === 'analytics' && (\n          <div className=\"flex-1 p-8 overflow-y-auto transition-colors duration-300\" style={{backgroundColor: themeStyles.primaryBg}}>\n            <div className=\"max-w-7xl mx-auto space-y-8\">\n              {/* Analytics Header */}\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  <h1 className=\"text-3xl font-bold transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                    Analytics Dashboard\n                  </h1>\n                  <p className=\"mt-2 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>\n                    Insights and performance metrics for your lead management\n                  </p>\n                </div>\n                \n                {/* Date Range Selector */}\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Show data for:</span>\n                  <select\n                    value={analyticsDateRange}\n                    onChange={(e) => setAnalyticsDateRange(e.target.value)}\n                    className=\"px-3 py-2 rounded-lg text-sm transition-colors duration-300\"\n                    style={{\n                      backgroundColor: themeStyles.secondaryBg,\n                      border: `1px solid ${themeStyles.border}`,\n                      color: themeStyles.textPrimary\n                    }}\n                  >\n                    <option value=\"7\">Last 7 days</option>\n                    <option value=\"30\">Last 30 days</option>\n                    <option value=\"90\">Last 90 days</option>\n                    <option value=\"365\">Last year</option>\n                  </select>\n                </div>\n              </div>\n\n              {analyticsData ? (\n                <>\n                  {/* KPI Cards */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Total Leads</p>\n                          <p className=\"text-2xl font-bold transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                            {analyticsData.totalLeads.toLocaleString()}\n                          </p>\n                        </div>\n                        <Users className=\"w-8 h-8 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                      </div>\n                    </div>\n\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Engagement Rate</p>\n                          <p className=\"text-2xl font-bold transition-colors duration-300\" style={{color: themeStyles.success}}>\n                            {analyticsData.engagementRate.toFixed(1)}%\n                          </p>\n                          <p className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                            Leads with 2+ replies\n                          </p>\n                        </div>\n                        <TrendingUp className=\"w-8 h-8 transition-colors duration-300\" style={{color: themeStyles.success}} />\n                      </div>\n                    </div>\n\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Avg Response Time</p>\n                          <p className=\"text-2xl font-bold transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                            {formatResponseTime(analyticsData.avgResponseTime)}\n                          </p>\n                        </div>\n                        <Clock className=\"w-8 h-8 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                      </div>\n                    </div>\n\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <p className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Avg Replies per Lead</p>\n                          <p className=\"text-2xl font-bold transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                            {analyticsData.avgRepliesPerLead.toFixed(1)}\n                          </p>\n                          <p className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                            {analyticsData.totalReplies} total replies\n                          </p>\n                        </div>\n                        <MessageSquare className=\"w-8 h-8 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Charts Grid */}\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                    {/* Response Time Distribution */}\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <h3 className=\"text-xl font-bold mb-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                        Response Time Distribution\n                      </h3>\n                      <div className=\"space-y-3\">\n                        {Object.entries(analyticsData.responseTimeDistribution).map(([timeRange, count]) => {\n                          const total = Object.values(analyticsData.responseTimeDistribution).reduce((sum, val) => sum + val, 0);\n                          const percentage = total > 0 ? (count / total * 100) : 0;\n                          const label = {\n                            'under1h': 'Under 1 hour',\n                            '1to4h': '1-4 hours',\n                            '4to24h': '4-24 hours',\n                            'over24h': 'Over 24 hours'\n                          }[timeRange];\n                          \n                          return (\n                            <div key={timeRange} className=\"flex items-center justify-between\">\n                              <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>{label}</span>\n                              <div className=\"flex items-center gap-3\">\n                                <div className=\"w-32 rounded-full h-2 transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                                  <div \n                                    className=\"h-2 rounded-full transition-all duration-500\"\n                                    style={{\n                                      width: `${percentage}%`,\n                                      backgroundColor: themeStyles.accent\n                                    }}\n                                  />\n                                </div>\n                                <span className=\"text-sm font-medium w-12 text-right transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                  {count}\n                                </span>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n\n                    {/* Average Replies by Intent Level */}\n                    <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <h3 className=\"text-xl font-bold mb-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                        Average Replies by Intent Level\n                      </h3>\n                      <div className=\"space-y-4\">\n                        {analyticsData.intentCorrelation.map((item, index) => (\n                          <div key={index} className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>{item.intent}</span>\n                              <span className=\"text-xs px-2 py-1 rounded-full transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textMuted}}>\n                                {item.count} leads\n                              </span>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"w-32 rounded-full h-3 transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                                <div \n                                  className=\"h-3 rounded-full transition-all duration-500\"\n                                  style={{\n                                    width: `${Math.min(item.avgReplies * 20, 100)}%`, // Scale for visual\n                                    backgroundColor: index === 0 ? themeStyles.success : index === 1 ? themeStyles.warning : themeStyles.accent\n                                  }}\n                                />\n                              </div>\n                              <span className=\"text-sm font-bold w-12 text-right transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                {item.avgReplies.toFixed(1)}\n                              </span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Reply Activity Heatmap */}\n                  <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                    <div className=\"flex justify-between items-center mb-4\">\n                      <h3 className=\"text-xl font-bold transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                        Reply Activity Heatmap\n                      </h3>\n                      {analyticsData.peakHour && analyticsData.maxCount > 0 && (\n                        <div className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>\n                          Peak: {analyticsData.peakHour.dayName} at {analyticsData.peakHour.hour}:00 ({analyticsData.maxCount} replies)\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Heatmap Grid */}\n                    <div className=\"relative\">\n                      {/* Hour labels */}\n                      <div className=\"flex mb-2 ml-16\">\n                        {Array.from({ length: 24 }, (_, hour) => (\n                          <div key={hour} className=\"flex-1 text-center text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                            {hour % 4 === 0 ? `${hour}:00` : ''}\n                          </div>\n                        ))}\n                      </div>\n                      \n                      {/* Heatmap rows */}\n                      {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map((dayName, dayIndex) => (\n                        <div key={dayName} className=\"flex items-center mb-1\">\n                          <div className=\"w-14 text-xs text-right mr-2 transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                            {dayName.slice(0, 3)}\n                          </div>\n                          <div className=\"flex flex-1 gap-1\">\n                            {Array.from({ length: 24 }, (_, hour) => {\n                              const dataPoint = analyticsData.heatmapData.find(d => \n                                d.day === ((dayIndex + 1) % 7) && d.hour === hour // Adjust for Sunday=0\n                              );\n                              const intensity = analyticsData.maxCount > 0 ? (dataPoint?.count || 0) / analyticsData.maxCount : 0;\n                              \n                              return (\n                                <div\n                                  key={hour}\n                                  className=\"flex-1 h-6 rounded-sm transition-all duration-300 hover:scale-110 cursor-pointer\"\n                                  style={{\n                                    backgroundColor: intensity > 0 \n                                      ? `${themeStyles.accent}${Math.floor(intensity * 255).toString(16).padStart(2, '0')}`\n                                      : themeStyles.tertiaryBg,\n                                    border: `1px solid ${themeStyles.border}`\n                                  }}\n                                  title={`${dayName} ${hour}:00 - ${dataPoint?.count || 0} replies`}\n                                />\n                              );\n                            })}\n                          </div>\n                        </div>\n                      ))}\n                      \n                      {/* Legend */}\n                      <div className=\"flex items-center justify-center mt-4 gap-4\">\n                        <span className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Less</span>\n                        <div className=\"flex gap-1\">\n                          {[0, 0.2, 0.4, 0.6, 0.8, 1].map((intensity, i) => (\n                            <div\n                              key={i}\n                              className=\"w-3 h-3 rounded-sm\"\n                              style={{\n                                backgroundColor: intensity > 0 \n                                  ? `${themeStyles.accent}${Math.floor(intensity * 255).toString(16).padStart(2, '0')}`\n                                  : themeStyles.tertiaryBg,\n                                border: `1px solid ${themeStyles.border}`\n                              }}\n                            />\n                          ))}\n                        </div>\n                        <span className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>More</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Message Copy Analysis */}\n                  <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                    <h3 className=\"text-xl font-bold mb-6 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                      What Works in Messages\n                    </h3>\n\n                    {/* Message Length Analysis */}\n                    <div className=\"mb-8\">\n                      <h4 className=\"text-sm font-medium mb-4 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Message Length Impact</h4>\n                      <div className=\"grid grid-cols-4 gap-4\">\n                        {analyticsData.copyInsights.lengthBreakdown.map((length, index) => {\n                          const replyRate = length.messages > 0 ? (length.replies / length.messages * 100) : 0;\n                          return (\n                            <div key={index} className=\"p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                              <div className=\"text-sm font-medium mb-2 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                {length.range}\n                              </div>\n                              <div className=\"text-2xl font-bold mb-1 transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                                {replyRate.toFixed(1)}%\n                              </div>\n                              <div className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                                {length.messages} messages sent\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n\n                    {/* Pattern Success Rates */}\n                    <div className=\"mb-8\">\n                      <h4 className=\"text-sm font-medium mb-4 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Message Pattern Success</h4>\n                      <div className=\"space-y-4\">\n                        {[\n                          { label: 'Contains Questions', data: analyticsData.copyInsights.withQuestions },\n                          { label: 'Suggests Call/Meeting', data: analyticsData.copyInsights.withCalls },\n                          { label: 'Discusses Pricing', data: analyticsData.copyInsights.withPricing },\n                          { label: 'Value Proposition', data: analyticsData.copyInsights.withValueProps }\n                        ].map((pattern, index) => {\n                          const successRate = pattern.data.total > 0 \n                            ? (pattern.data.success / pattern.data.total * 100)\n                            : 0;\n                          return (\n                            <div key={index} className=\"flex items-center gap-4\">\n                              <div className=\"flex-1\">\n                                <div className=\"flex justify-between mb-2\">\n                                  <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{pattern.label}</span>\n                                  <span className=\"text-sm font-medium transition-colors duration-300\" style={{color: themeStyles.accent}}>{successRate.toFixed(1)}% success</span>\n                                </div>\n                                <div className=\"h-2 rounded-full transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                                  <div \n                                    className=\"h-2 rounded-full transition-all duration-500\"\n                                    style={{\n                                      width: `${successRate}%`,\n                                      backgroundColor: themeStyles.accent\n                                    }}\n                                  />\n                                </div>\n                              </div>\n                              <div className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                                {pattern.data.success}/{pattern.data.total} replies\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n\n                    {/* Response Time Analysis */}\n                    <div>\n                      <h4 className=\"text-sm font-medium mb-4 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Average Response Time by Pattern</h4>\n                      <div className=\"grid grid-cols-4 gap-4\">\n                        {[\n                          { label: 'Questions', time: analyticsData.copyInsights.avgReplyTime.withQuestion },\n                          { label: 'Call/Meeting', time: analyticsData.copyInsights.avgReplyTime.withCall },\n                          { label: 'Pricing', time: analyticsData.copyInsights.avgReplyTime.withPricing },\n                          { label: 'Value Prop', time: analyticsData.copyInsights.avgReplyTime.withValueProp }\n                        ].map((timing, index) => (\n                          <div key={index} className=\"p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                            <div className=\"text-sm mb-2 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{timing.label}</div>\n                            <div className=\"text-xl font-bold transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                              {formatResponseTime(timing.time)}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Campaign Performance Table */}\n                  <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                    <h3 className=\"text-xl font-bold mb-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                      Top Performing Campaigns\n                    </h3>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full\">\n                        <thead>\n                          <tr className=\"border-b transition-colors duration-300\" style={{borderColor: themeStyles.border}}>\n                            <th className=\"text-left py-3 px-4 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Campaign</th>\n                            <th className=\"text-left py-3 px-4 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Leads</th>\n                            <th className=\"text-left py-3 px-4 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Avg Engagement</th>\n                            <th className=\"text-left py-3 px-4 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Avg Replies</th>\n                            <th className=\"text-left py-3 px-4 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Avg Response Time</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {analyticsData.campaignStats.slice(0, 5).map((campaign, index) => (\n                            <tr key={index} className=\"border-b transition-colors duration-300\" style={{borderColor: themeStyles.border}}>\n                              <td className=\"py-3 px-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{campaign.name}</td>\n                              <td className=\"py-3 px-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{campaign.totalLeads}</td>\n                              <td className=\"py-3 px-4\">\n                                <span className=\"px-2 py-1 rounded-full text-xs font-medium transition-colors duration-300\" \n                                      style={{\n                                        backgroundColor: campaign.avgEngagement >= 80 ? `${themeStyles.success}20` : \n                                                        campaign.avgEngagement >= 50 ? `${themeStyles.warning}20` : `${themeStyles.error}20`,\n                                        color: campaign.avgEngagement >= 80 ? themeStyles.success : \n                                               campaign.avgEngagement >= 50 ? themeStyles.warning : themeStyles.error\n                                      }}>\n                                  {campaign.avgEngagement.toFixed(0)}%\n                                </span>\n                              </td>\n                              <td className=\"py-3 px-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{campaign.avgRepliesPerLead.toFixed(1)}</td>\n                              <td className=\"py-3 px-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                {campaign.avgResponseTime > 0 ? formatResponseTime(campaign.avgResponseTime) : 'N/A'}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n\n                  {/* Category Performance */}\n                  <div className=\"p-6 rounded-2xl shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                    <h3 className=\"text-xl font-bold mb-4 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                      Performance by Lead Category\n                    </h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {analyticsData.categoryStats.map((category, index) => (\n                        <div key={index} className=\"p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                          <div className=\"flex justify-between items-center mb-2\">\n                            <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{category.category}</span>\n                            <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textMuted}}>{category.totalLeads} leads</span>\n                          </div>\n                          \n                          {/* Engagement Score */}\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <span className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Engagement:</span>\n                            <div className=\"flex-1 rounded-full h-2 transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                              <div \n                                className=\"h-2 rounded-full transition-all duration-500\"\n                                style={{\n                                  width: `${category.avgEngagement}%`,\n                                  backgroundColor: themeStyles.success\n                                }}\n                              />\n                            </div>\n                            <span className=\"text-xs font-bold w-10 text-right transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                              {category.avgEngagement.toFixed(0)}%\n                            </span>\n                          </div>\n                          \n                          {/* Average Replies */}\n                          <div className=\"flex items-center justify-between text-xs\">\n                            <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                              Avg replies: <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{category.avgRepliesPerLead.toFixed(1)}</span>\n                            </span>\n                            <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                              Avg response: <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                {category.avgResponseTime > 0 ? formatResponseTime(category.avgResponseTime) : 'N/A'}\n                              </span>\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <BarChart3 className=\"w-16 h-16 mx-auto mb-4 opacity-50 transition-colors duration-300\" style={{color: themeStyles.textMuted}} />\n                  <p className=\"text-lg transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>No data available</p>\n                  <p className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Lead data will appear here once you have conversations</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Rest of your existing content */}\n        {(activeTab === 'inbox' || activeTab === 'all' || activeTab === 'need_response' || activeTab === 'recently_sent') && (\n          <>\n      {/* Animated Background Gradient */}\n      <div className=\"absolute inset-0 opacity-30 pointer-events-none\">\n        <div \n          className=\"absolute inset-0 animate-pulse\" \n          style={{\n            background: `radial-gradient(circle at 20% 50%, rgba(84, 252, 255, 0.1) 0%, transparent 50%), \n                        radial-gradient(circle at 80% 20%, rgba(34, 197, 94, 0.08) 0%, transparent 50%), \n                        radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.06) 0%, transparent 50%)`,\n            animation: 'gradientShift 8s ease-in-out infinite'\n          }}\n        />\n      </div>\n\n      {/* Floating Particles */}\n      <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n        {[...Array(6)].map((_, i) => (\n          <div\n            key={i}\n            className=\"absolute w-1 h-1 rounded-full opacity-20\"\n            style={{\n              backgroundColor: '#54FCFF',\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n              animation: `float ${4 + Math.random() * 4}s ease-in-out infinite`,\n              animationDelay: `${Math.random() * 4}s`\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Sidebar - Lead List */}\n      <div className=\"w-1/2 flex flex-col shadow-lg relative z-10 transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, borderRadius: '12px', margin: '8px', marginRight: '4px', backdropFilter: 'blur(10px)', border: `1px solid ${themeStyles.border}`}}>\n        {/* Header with Metrics */}\n        <div className=\"p-6 relative transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, borderRadius: '12px 12px 0 0', borderBottom: `1px solid ${themeStyles.border}`}}>\n          {/* Glowing accent line */}\n                <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-20 h-0.5 rounded-full\" style={{background: `linear-gradient(90deg, transparent, ${themeStyles.accent}, transparent)`, animation: 'glow 2s ease-in-out infinite alternate'}} />\n          <div className=\"flex justify-between items-center mb-4\">\n            <h1 className=\"text-2xl font-bold relative transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n              Inbox Manager\n              <div className=\"absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-transparent to-transparent opacity-50\" style={{background: `linear-gradient(90deg, transparent, ${themeStyles.accent}, transparent)`}} />\n            </h1>\n            <button\n              onClick={() => setShowMetrics(!showMetrics)}\n              className=\"text-sm transition-all duration-300 hover:scale-105 relative group\"\n              style={{color: themeStyles.accent}}\n            >\n              <span className=\"relative z-10\">{showMetrics ? 'Hide' : 'Show'} Metrics</span>\n              <div className=\"absolute inset-0 rounded opacity-0 group-hover:opacity-20 transition-opacity duration-300\" style={{backgroundColor: themeStyles.accent}} />\n            </button>\n          </div>\n\n          {/* Dashboard Metrics with breathing animation */}\n          {showMetrics && (\n            <div className=\"grid grid-cols-3 gap-4 mb-6\">\n              <button\n                onClick={() => handleUrgencyFilter('urgent-response')}\n                className=\"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\"\n                style={{backgroundColor: 'rgba(239, 68, 68, 0.5)'}}\n              >\n                <div className=\"absolute inset-0 bg-red-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\" />\n                <div className=\"relative z-10\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <AlertCircle className=\"w-4 h-4\" style={{color: themeStyles.textPrimary}} />\n                    <span className=\"font-bold text-sm\" style={{color: themeStyles.textPrimary}}>🚨 URGENT</span>\n                    {activeFilters.urgency?.includes('urgent-response') && (\n                      <span className=\"text-xs px-2 py-1 rounded-full\" style={{backgroundColor: `${themeStyles.textPrimary}20`, color: themeStyles.textPrimary}}>ACTIVE</span>\n                    )}\n                  </div>\n                  <div className=\"text-2xl font-bold\" style={{color: themeStyles.textPrimary}}>\n                    {leads.filter(lead => getResponseUrgency(lead) === 'urgent-response').length}\n                  </div>\n                  <div className=\"text-xs mt-1\" style={{color: themeStyles.textSecondary}}>Needs immediate response (2+ days)</div>\n                </div>\n              </button>\n\n              <button\n                onClick={() => handleUrgencyFilter('needs-response')}\n                className=\"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\"\n                style={{backgroundColor: 'rgba(234, 179, 8, 0.5)'}}\n              >\n                <div className=\"absolute inset-0 bg-yellow-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\" />\n                <div className=\"relative z-10\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Users className=\"w-4 h-4\" style={{color: themeStyles.textPrimary}} />\n                    <span className=\"font-bold text-sm\" style={{color: themeStyles.textPrimary}}>⚡ NEEDS RESPONSE</span>\n                    {activeFilters.urgency?.includes('needs-response') && (\n                      <span className=\"text-xs px-2 py-1 rounded-full\" style={{backgroundColor: `${themeStyles.textPrimary}20`, color: themeStyles.textPrimary}}>ACTIVE</span>\n                    )}\n                  </div>\n                  <div className=\"text-2xl font-bold\" style={{color: themeStyles.textPrimary}}>\n                    {leads.filter(lead => getResponseUrgency(lead) === 'needs-response').length}\n                  </div>\n                  <div className=\"text-xs mt-1\" style={{color: themeStyles.textSecondary}}>They replied, awaiting your response</div>\n                </div>\n              </button>\n\n              <button\n                onClick={() => handleUrgencyFilter('needs-followup')}\n                className=\"p-6 rounded-xl shadow-lg backdrop-blur-sm flex-1 text-left hover:scale-105 transition-all duration-300 cursor-pointer relative group active:animate-gradient-flash\"\n                style={{backgroundColor: 'rgba(34, 197, 94, 0.5)'}}\n              >\n                <div className=\"absolute inset-0 bg-green-400 rounded-xl opacity-0 group-hover:opacity-20 group-active:opacity-40 transition-opacity duration-300\" />\n                <div className=\"relative z-10\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Target className=\"w-4 h-4\" style={{color: themeStyles.textPrimary}} />\n                    <span className=\"font-bold text-sm\" style={{color: themeStyles.textPrimary}}>📞 NEEDS FOLLOWUP</span>\n                    {activeFilters.urgency?.includes('needs-followup') && (\n                      <span className=\"text-xs px-2 py-1 rounded-full\" style={{backgroundColor: `${themeStyles.textPrimary}20`, color: themeStyles.textPrimary}}>ACTIVE</span>\n                    )}\n                  </div>\n                  <div className=\"text-2xl font-bold\" style={{color: themeStyles.textPrimary}}>\n                    {leads.filter(lead => getResponseUrgency(lead) === 'needs-followup').length}\n                  </div>\n                  <div className=\"text-xs mt-1\" style={{color: themeStyles.textSecondary}}>You sent last, no reply 3+ days</div>\n                </div>\n              </button>\n            </div>\n          )}\n          \n          {/* Search */}\n          <div className=\"relative mb-6\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n            <input\n              type=\"text\"\n              placeholder=\"Search leads, tags, emails...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg backdrop-blur-sm focus:ring-2 transition-colors duration-300\"\n              style={{\n                backgroundColor: themeStyles.tertiaryBg, \n                border: `1px solid ${themeStyles.border}`, \n                color: themeStyles.textPrimary,\n                '--tw-ring-color': themeStyles.accent\n              }}\n            />\n          </div>\n\n          {/* Sort and Filter Buttons */}\n          <div className=\"grid grid-cols-2 gap-3 mb-4\">\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowSortPopup(!showSortPopup)}\n                className=\"w-full flex items-center justify-between px-4 py-2 rounded-lg hover:opacity-80 backdrop-blur-sm transition-all\"\n                style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <BarChart3 className=\"w-4 h-4\" style={{color: themeStyles.accent}} />\n                  <span className=\"text-sm font-medium\" style={{color: themeStyles.textPrimary}}>Sort</span>\n                  {activeSorts.length > 0 && (\n                    <span className=\"px-2 py-1 rounded-full text-xs\" style={{backgroundColor: `${themeStyles.accent}20`, color: themeStyles.accent}}>\n                      {activeSorts.length}\n                    </span>\n                  )}\n                </div>\n                <ChevronDown className=\"w-4 h-4\" style={{color: themeStyles.textMuted}} />\n              </button>\n\n              {/* Sort Popup */}\n              {showSortPopup && (\n                <div className=\"absolute top-full left-0 right-0 mt-2 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`}}>\n                  <div className=\"p-4\">\n                    <div className=\"flex justify-between items-center mb-3\">\n                      <h4 className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Sort Options</h4>\n                      <button\n                        onClick={() => setShowSortPopup(false)}\n                        className=\"transition-colors duration-300 hover:opacity-80\"\n                        style={{color: themeStyles.textMuted}}\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                    \n                    {/* Active Sorts */}\n                    {activeSorts.length > 0 && (\n                      <div className=\"mb-4\">\n                        <h5 className=\"text-xs font-medium mb-2 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>ACTIVE SORTS</h5>\n                        <div className=\"space-y-2\">\n                          {activeSorts.map((sort, index) => {\n                            const option = sortOptions.find(opt => opt.field === sort.field);\n                            return (\n                              <div key={sort.field} className=\"flex items-center justify-between px-3 py-2 rounded-lg transition-colors duration-300\" style={{backgroundColor: `${themeStyles.accent}20`, border: `1px solid ${themeStyles.accent}`}}>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-xs px-2 py-1 rounded transition-colors duration-300\" style={{backgroundColor: themeStyles.accent, color: isDarkMode ? '#1A1C1A' : '#FFFFFF'}}>\n                                    {index + 1}\n                                  </span>\n                                  <span className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{option?.label}</span>\n                                  <button\n                                    onClick={() => handleAddSort(sort.field, sort.direction === 'desc' ? 'asc' : 'desc')}\n                                    className=\"text-xs hover:opacity-80 transition-colors duration-300\"\n                                    style={{color: themeStyles.accent}}\n                                  >\n                                    {sort.direction === 'desc' ? '↓' : '↑'}\n                                  </button>\n                                </div>\n                                <button\n                                  onClick={() => handleRemoveSort(sort.field)}\n                                  className=\"hover:opacity-80 transition-colors duration-300\"\n                                  style={{color: themeStyles.textMuted}}\n                                >\n                                  <X className=\"w-3 h-3\" />\n                                </button>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Available Sort Options */}\n                    <div>\n                      <h5 className=\"text-xs font-medium mb-2 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>ADD SORT</h5>\n                      <div className=\"space-y-1\">\n                        {sortOptions.map((option) => {\n                          const isActive = activeSorts.some(s => s.field === option.field);\n                          return (\n                            <button\n                              key={option.field}\n                              onClick={() => !isActive && handleAddSort(option.field)}\n                              disabled={isActive}\n                              className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors duration-300`}\n                              style={{\n                                backgroundColor: themeStyles.tertiaryBg,\n                                color: isActive ? themeStyles.textMuted : themeStyles.textPrimary,\n                                cursor: isActive ? 'not-allowed' : 'pointer'\n                              }}\n                            >\n                              {option.label}\n                              {isActive && <span className=\"text-xs ml-2\" style={{color: themeStyles.textMuted}}>(active)</span>}\n                            </button>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowFilterPopup(!showFilterPopup)}\n                className=\"w-full flex items-center justify-between px-4 py-2 rounded-lg hover:opacity-80 backdrop-blur-sm transition-all\"\n                style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Filter className=\"w-4 h-4\" style={{color: themeStyles.accent}} />\n                  <span className=\"text-sm font-medium\" style={{color: themeStyles.textPrimary}}>Filter</span>\n                  {getActiveFilterCount() > 0 && (\n                    <span className=\"px-2 py-1 rounded-full text-xs\" style={{backgroundColor: `${themeStyles.accent}20`, color: themeStyles.accent}}>\n                      {getActiveFilterCount()}\n                    </span>\n                  )}\n                </div>\n                <ChevronDown className=\"w-4 h-4\" style={{color: themeStyles.textMuted}} />\n              </button>\n\n                              {/* Filter Popup */}\n                {showFilterPopup && (\n                  <div className=\"absolute top-full left-0 right-0 mt-2 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, border: `1px solid ${themeStyles.border}`, backdropFilter: 'none'}}>\n                    <div className=\"p-4\">\n                      <div className=\"flex justify-between items-center mb-3\">\n                        <h4 className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Filter Options</h4>\n                        <div className=\"flex gap-2\">\n                          {getActiveFilterCount() > 0 && (\n                            <button\n                              onClick={handleClearAllFilters}\n                              className=\"text-xs transition-colors duration-300\"\n                              style={{color: themeStyles.error}}\n                            >\n                              Clear All\n                            </button>\n                          )}\n                          <button\n                            onClick={() => setShowFilterPopup(false)}\n                            className=\"transition-colors duration-300 hover:opacity-80\"\n                            style={{color: themeStyles.textMuted}}\n                          >\n                            <X className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* Active Filters */}\n                      {getActiveFilterCount() > 0 && (\n                        <div className=\"mb-4\">\n                          <h5 className=\"text-xs font-medium mb-2 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>ACTIVE FILTERS</h5>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {Object.entries(activeFilters).map(([category, values]) =>\n                              (values || []).map((value) => {\n                                const categoryOption = filterOptions[category];\n                                const valueOption = categoryOption?.options.find(opt => opt.value === value);\n                                if (!valueOption) return null;\n                                \n                                return (\n                                  <span\n                                    key={`${category}-${value}`}\n                                    className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs\"\n                                    style={{backgroundColor: themeStyles.accent, color: isDarkMode ? '#1A1C1A' : '#FFFFFF'}}\n                                  >\n                                    {valueOption.label}\n                                    <button\n                                      onClick={() => handleRemoveFilter(category, value)}\n                                      className=\"hover:opacity-80\"\n                                    >\n                                      <X className=\"w-3 h-3\" />\n                                    </button>\n                                  </span>\n                                );\n                              })\n                            )}\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Filter Categories */}\n                      <div className=\"space-y-4\">\n                        {Object.entries(filterOptions).map(([category, config]) => (\n                          <div key={category}>\n                            <h5 className=\"text-xs font-medium mb-2 uppercase transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>\n                              {config.label}\n                            </h5>\n                            <div className=\"space-y-1\">\n                              {config.options.map((option) => {\n                                const isActive = activeFilters[category]?.includes(option.value);\n                                return (\n                                  <button\n                                    key={option.value}\n                                    onClick={() => {\n                                      if (isActive) {\n                                        handleRemoveFilter(category, option.value);\n                                      } else {\n                                        handleAddFilter(category, option.value);\n                                      }\n                                    }}\n                                    className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors duration-300`}\n                                    style={{\n                                      backgroundColor: isActive ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                                      color: themeStyles.textPrimary,\n                                      border: isActive ? `1px solid ${themeStyles.accent}` : `1px solid ${themeStyles.border}`\n                                    }}\n                                  >\n                                    <div className=\"flex items-center justify-between\">\n                                      {option.label}\n                                      {isActive && <span style={{color: themeStyles.accent}}>✓</span>}\n                                    </div>\n                                  </button>\n                                );\n                              })}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                )}\n            </div>\n          </div>\n\n          {/* Response Status Tabs */}\n          <div className=\"flex gap-2 mb-6\">\n            <button\n              onClick={() => setActiveTab('all')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${\n                activeTab === 'all'\n                  ? 'opacity-100' \n                  : 'opacity-80 hover:opacity-90'\n              }`}\n              style={{\n                backgroundColor: activeTab === 'all' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg, \n                color: activeTab === 'all' ? themeStyles.accent : themeStyles.textPrimary, \n                border: `1px solid ${themeStyles.border}`\n              }}\n              disabled={loading}\n            >\n              {loading ? (\n                <div className=\"flex items-center gap-2\">\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  Loading...\n                </div>\n              ) : (\n                'All Leads'\n              )}\n            </button>\n            <button\n              onClick={() => setActiveTab('need_response')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${\n                activeTab === 'need_response'\n                  ? 'opacity-100'\n                  : 'opacity-80 hover:opacity-90'\n              }`}\n              style={{\n                backgroundColor: activeTab === 'need_response' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg, \n                color: activeTab === 'need_response' ? themeStyles.accent : themeStyles.textPrimary, \n                border: `1px solid ${themeStyles.border}`\n              }}\n              disabled={loading}\n            >\n              {loading ? (\n                <div className=\"flex items-center gap-2\">\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  Loading...\n                </div>\n              ) : (\n                <>\n                  Need Response\n                  {activeTab !== 'need_response' && (\n                    <span className=\"ml-2 px-2 py-1 rounded-full text-xs\" style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textMuted}}>\n                      {leads.filter(lead => checkNeedsReply(lead.conversation)).length}\n                    </span>\n                  )}\n                </>\n              )}\n            </button>\n            <button\n              onClick={() => setActiveTab('recently_sent')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm ${\n                activeTab === 'recently_sent'\n                  ? 'opacity-100'\n                  : 'opacity-80 hover:opacity-90'\n              }`}\n              style={{\n                backgroundColor: activeTab === 'recently_sent' ? `${themeStyles.accent}20` : themeStyles.tertiaryBg, \n                color: activeTab === 'recently_sent' ? themeStyles.accent : themeStyles.textPrimary, \n                border: `1px solid ${themeStyles.border}`\n              }}\n              disabled={loading}\n            >\n              {loading ? (\n                <div className=\"flex items-center gap-2\">\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  Loading...\n                </div>\n              ) : (\n                <>\n                  Recently Sent\n                  {activeTab !== 'recently_sent' && (\n                    <span className=\"ml-2 px-2 py-1 rounded-full text-xs\" style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textMuted}}>\n                      {leads.filter(lead => {\n                        if (lead.conversation.length === 0) return false;\n                        const lastMessage = lead.conversation[lead.conversation.length - 1];\n                        const timeSinceLastMessage = Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60));\n                        return lastMessage.type === 'SENT' && timeSinceLastMessage <= 24;\n                      }).length}\n                    </span>\n                  )}\n                </>\n              )}\n            </button>\n          </div>\n\n\n        </div>\n\n        {/* Lead List */}\n        <div className=\"flex-1 overflow-y-auto overflow-x-hidden\" style={{scrollbarWidth: 'thin', scrollbarColor: '#54FCFF rgba(26, 28, 26, 0.5)', minHeight: 0}}>\n          <div className=\"pb-4\">\n            {filteredAndSortedLeads.length === 0 ? (\n              <div className=\"text-center p-8 text-white\">\n                <p>No leads found for current filter</p>\n              </div>\n            ) : null}\n            {filteredAndSortedLeads.map((lead, index) => {\n            try {\n              const intentStyle = getIntentStyle(lead.intent);\n              const lastMessage = lead.conversation && lead.conversation.length > 0 ? lead.conversation[lead.conversation.length - 1] : null;\n              const urgency = getResponseUrgency(lead);\n              const displayTags = generateAutoTags(lead.conversation, lead);\n            \n            // Get the response badge for top of card\n            const getResponseBadge = () => {\n              if (urgency === 'urgent-response') {\n                return (\n                  <div className=\"bg-red-600 text-white px-4 py-2 rounded-full text-xs font-bold mb-3 shadow-lg relative overflow-hidden\">\n                    <div className=\"absolute inset-0 bg-white opacity-20 animate-pulse\" />\n                    <span className=\"relative z-10\">🚨 URGENT NEEDS RESPONSE</span>\n                  </div>\n                );\n              } else if (urgency === 'needs-response') {\n                return (\n                  <div className=\"bg-red-500 text-white px-4 py-2 rounded-full text-xs font-medium mb-3 shadow-md relative overflow-hidden\">\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10 transform -skew-x-12 animate-shimmer\" />\n                    <span className=\"relative z-10\">⚡ NEEDS RESPONSE</span>\n                  </div>\n                );\n              } else if (urgency === 'needs-followup') {\n                return (\n                  <div className=\"bg-green-600 text-white px-4 py-2 rounded-full text-xs font-medium mb-3 shadow-md relative overflow-hidden\">\n                    <div className=\"absolute inset-0 bg-white opacity-10 animate-pulse\" />\n                    <span className=\"relative z-10\">📞 NEEDS FOLLOWUP</span>\n                  </div>\n                );\n              }\n              return null;\n            };\n            \n            return (\n              <div\n                key={lead.id}\n                onClick={() => setSelectedLead(lead)}\n                className={`p-5 cursor-pointer transition-all duration-300 ease-out relative m-2 rounded-lg group`}\n                style={{\n                  backgroundColor: selectedLead?.id === lead.id ? `${themeStyles.accent}20` : themeStyles.tertiaryBg,\n                  border: selectedLead?.id === lead.id ? `2px solid ${themeStyles.accent}80` : `1px solid ${themeStyles.border}`,\n                  borderLeft: urgency !== 'none' ? `4px solid ${themeStyles.accent}` : `1px solid ${themeStyles.border}`,\n                  boxShadow: selectedLead?.id === lead.id ? `0 0 30px ${themeStyles.accent}30` : 'none',\n                  animationDelay: `${index * 0.1}s`,\n                  backdropFilter: 'blur(5px)'\n                }}\n              >\n                {/* Hover glow effect */}\n                <div className=\"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\" \n                     style={{background: `linear-gradient(45deg, ${themeStyles.accent}10 0%, ${themeStyles.accent}05 100%)`}} />\n                \n                <div className=\"relative z-10\">\n                  {/* Response Badge at Top */}\n                  {getResponseBadge()}\n                  \n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h3 className={`transition-all duration-300 ${urgency !== 'none' ? 'font-bold' : 'font-medium'} flex items-center gap-2`}\n                        style={{color: selectedLead?.id === lead.id ? themeStyles.accent : themeStyles.textPrimary}}>\n                      <span>{lead.first_name} {lead.last_name}</span>\n                      {urgency !== 'none' && <span className=\"text-sm animate-pulse\" style={{color: themeStyles.error}}>●</span>}\n                      {drafts[lead.id] && (\n                        <span \n                          className=\"px-2 py-1 text-xs rounded-full transition-all duration-300 flex items-center gap-1\"\n                          style={{backgroundColor: `${themeStyles.warning}20`, border: `1px solid ${themeStyles.warning}`, color: themeStyles.warning}}\n                          title=\"Has unsaved draft\"\n                        >\n                          <Edit3 className=\"w-3 h-3\" />\n                          Draft\n                        </span>\n                      )}\n                    </h3>\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"px-2 py-1 text-xs rounded-full transition-all duration-300 transform group-hover:scale-110\" \n                            style={{backgroundColor: `${themeStyles.accent}15`, border: `1px solid ${themeStyles.border}`, color: themeStyles.textPrimary}}>\n                        {lead.intent}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  <p className=\"text-sm mb-1 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>{lead.email}</p>\n                  <p className={`text-sm mb-2 transition-all duration-300 ${urgency !== 'none' ? 'font-bold' : 'font-medium'}`}\n                     style={{color: selectedLead?.id === lead.id ? themeStyles.accent : themeStyles.textPrimary}}>\n                    {lead.subject}\n                  </p>\n                  \n                  {/* Enhanced metadata with animations */}\n                  <div className=\"flex items-center gap-3 text-xs mb-2\" style={{color: themeStyles.textSecondary}}>\n                    <span className={`font-medium transition-all duration-300 group-hover:scale-105`} style={{color: getEngagementColor(lead.engagement_score)}}>\n                      {lead.engagement_score}% engagement\n                    </span>\n                    <span className=\"transition-all duration-300 group-hover:scale-105\" style={{color: themeStyles.accent}}>\n                      {lead.conversation.filter(m => m.type === 'REPLY').length} replies\n                    </span>\n                    {urgency !== 'none' && lastMessage && (\n                      <span className=\"font-bold animate-pulse transition-all duration-300 group-hover:scale-105\" style={{color: themeStyles.error}}>\n                        {Math.floor((new Date() - new Date(lastMessage.time)) / (1000 * 60 * 60 * 24))} days\n                      </span>\n                    )}\n                  </div>\n                  \n                  {/* Tags with staggered animations */}\n                  <div className=\"flex flex-wrap gap-2 mb-3\">\n                    {displayTags.slice(0, 3).map((tag, tagIndex) => (\n                      <span key={tag} \n                            className=\"text-xs px-3 py-1 rounded-full transition-all duration-300 transform hover:scale-110\" \n                            style={{\n                              backgroundColor: `${themeStyles.accent}15`, \n                              color: themeStyles.textPrimary, \n                              border: `1px solid ${themeStyles.border}`,\n                              animation: `tagFadeIn 0.5s ease-out ${(index * 0.1) + (tagIndex * 0.1)}s both`\n                            }}>\n                        {tag}\n                      </span>\n                    ))}\n                    {displayTags.length > 3 && (\n                      <span className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>+{displayTags.length - 3}</span>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between text-xs\" style={{color: themeStyles.textSecondary}}>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex items-center transition-all duration-300\">\n                        <Timer className=\"w-3 h-3 mr-1 transition-transform duration-300 group-hover:rotate-12\" />\n                        Last followup: {(() => {\n                          const lastSent = lead.conversation.filter(m => m.type === 'SENT');\n                          if (lastSent.length === 0) return 'N/A';\n                          const daysSince = Math.floor((new Date() - new Date(lastSent[lastSent.length - 1].time)) / (1000 * 60 * 60 * 24));\n                          return `${daysSince}d ago`;\n                        })()}\n                      </div>\n                      <div className=\"flex items-center transition-all duration-300\">\n                        <Clock className=\"w-3 h-3 mr-1 transition-transform duration-300 group-hover:rotate-12\" />\n                        Last reply: {(() => {\n                          const lastReply = getLastResponseFromThem(lead.conversation);\n                          if (!lastReply) return 'None';\n                          const daysSince = Math.floor((new Date() - new Date(lastReply)) / (1000 * 60 * 60 * 24));\n                          return `${daysSince}d ago`;\n                        })()}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"px-3 py-1 rounded-full text-xs transition-all duration-300 transform group-hover:scale-105\" \n                            style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`, color: themeStyles.textPrimary}}>\n                        {lead.conversation.length} messages\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n            } catch (error) {\n              console.error('Error rendering lead:', lead.first_name, error);\n              return (\n                <div key={lead.id || index} className=\"p-4 m-2 bg-red-500/20 text-white rounded\">\n                  Error rendering {lead.first_name || 'Unknown'}: {error.message}\n                </div>\n              );\n            }\n          })}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content - Lead Details */}\n      <div className=\"flex-1 flex flex-col shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.secondaryBg, borderRadius: '12px', margin: '8px', marginLeft: '4px', border: `1px solid ${themeStyles.border}`}}>\n        {selectedLead ? (\n          <>\n            {/* Lead Header */}\n            <div className=\"p-8 transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, borderRadius: '12px 12px 0 0', borderBottom: `1px solid ${themeStyles.border}`}}>\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <h2 className=\"text-3xl font-bold transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                    {selectedLead.first_name} {selectedLead.last_name}\n                  </h2>\n                  <p className=\"mt-2 font-medium transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>{selectedLead.email}</p>\n                  {selectedLead.phone ? (\n                    <p className=\"text-sm mt-2 flex items-center gap-2 transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                      <Phone className=\"w-3 h-3\" />\n                      <span className=\"font-medium\">{selectedLead.phone}</span>\n                    </p>\n                  ) : (\n                    <p className=\"text-sm mt-2 flex items-center gap-2 transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                      <Phone className=\"w-3 h-3\" />\n                      <span>No phone number found</span>\n                    </p>\n                  )}\n                  {selectedLead.website && (\n                    <p className=\"text-sm mt-2\">\n                      <a href={`https://${selectedLead.website}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"flex items-center gap-2 hover:opacity-80 transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                        {selectedLead.website}\n                        <ExternalLink className=\"w-3 h-3\" />\n                      </a>\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-4\">\n                  {(() => {\n                    const intentStyle = getIntentStyle(selectedLead.intent);\n                    return (\n                      <span className=\"px-3 py-1 rounded-full text-sm font-medium transition-colors duration-300\" style={{backgroundColor: `${themeStyles.accent}15`, border: `1px solid ${themeStyles.border}`, color: themeStyles.textPrimary}}>\n                        {intentStyle.label} ({selectedLead.intent}/10)\n                      </span>\n                    );\n                  })()}\n                  <button\n                    onClick={() => showDeleteConfirmation(selectedLead)}\n                    className=\"px-3 py-2 rounded-lg transition-colors duration-300 flex items-center gap-2 text-sm hover:opacity-80\"\n                    title=\"Delete lead\"\n                    style={{border: `1px solid ${themeStyles.border}`, backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                  >\n                    <X className=\"w-4 h-4\" />\n                    Delete\n                  </button>\n                  <button\n                    onClick={() => setSelectedLead(null)}\n                    className=\"p-2 rounded-lg transition-colors duration-300 hover:opacity-80\"\n                    style={{border: `1px solid ${themeStyles.border}`, backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textMuted}}\n                  >\n                    <X className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1 overflow-y-auto p-8 transition-colors duration-300\" style={{scrollbarWidth: 'thin', scrollbarColor: `${themeStyles.accent} ${themeStyles.primaryBg}50`}}>\n              <div className=\"space-y-8\">\n                      {/* Unified Lead Information Section */}\n                <div className=\"rounded-2xl p-6 shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                        <div className=\"flex justify-between items-center mb-6\">\n                          <h3 className=\"font-bold flex items-center text-lg transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                    <User className=\"w-4 h-4 mr-2 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                    Lead Information\n                  </h3>\n                          <div className=\"flex items-center gap-2\">\n                            <button\n                              onClick={() => findPhoneNumber(selectedLead)}\n                              disabled={searchingPhoneLeads.has(selectedLead.id)}\n                              className=\"px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm hover:opacity-80 disabled:opacity-50 flex items-center gap-2\"\n                              style={{backgroundColor: `${themeStyles.accent}20`, color: themeStyles.accent, border: `1px solid ${themeStyles.accent}30`}}\n                            >\n                              {searchingPhoneLeads.has(selectedLead.id) ? (\n                                <>\n                                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2\" style={{borderColor: themeStyles.accent}} />\n                                  Searching...\n                                </>\n                              ) : (\n                                <>\n                                  <Phone className=\"w-4 h-4\" />\n                                  Find Phone\n                                </>\n                              )}\n                            </button>\n                            <button\n                              onClick={() => enrichLeadData(selectedLead)}\n                              disabled={enrichingLeads.has(selectedLead.id)}\n                              className=\"px-4 py-2 rounded-lg text-sm font-medium transition-all backdrop-blur-sm hover:opacity-80 disabled:opacity-50 flex items-center gap-2\"\n                              style={{backgroundColor: `${themeStyles.accent}20`, color: themeStyles.accent, border: `1px solid ${themeStyles.accent}30`}}\n                            >\n                              {enrichingLeads.has(selectedLead.id) ? (\n                                <>\n                                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2\" style={{borderColor: themeStyles.accent}} />\n                                  Enriching...\n                                </>\n                              ) : (\n                                <>\n                                  <Zap className=\"w-4 h-4\" />\n                                  Enrich\n                                </>\n                              )}\n                            </button>\n                          </div>\n                        </div>\n\n                        {/* Communication Timeline */}\n                        <div className=\"mb-6 p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                          <div className=\"flex items-center justify-between text-sm\">\n                            <div className=\"flex items-center gap-6\">\n                              <div>\n                                <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Last Reply</span>\n                                <p className=\"font-medium mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                  {(() => {\n                                    const lastReply = getLastResponseFromThem(selectedLead.conversation);\n                                    return lastReply ? formatTime(lastReply) : 'No replies yet';\n                                  })()}\n                                </p>\n                              </div>\n                              <div>\n                                <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Last Followup</span>\n                                <p className=\"font-medium mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                  {(() => {\n                                    const lastSent = selectedLead.conversation.filter(m => m.type === 'SENT');\n                                    return lastSent.length > 0 ? formatTime(lastSent[lastSent.length - 1].time) : 'N/A';\n                                  })()}\n                                </p>\n                              </div>\n                              <div>\n                                <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Avg Response</span>\n                                <p className=\"font-medium mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{formatResponseTime(selectedLead.response_time_avg)}</p>\n                              </div>\n                            </div>\n                            <div className=\"px-3 py-1 rounded-full text-sm transition-colors duration-300\" style={{backgroundColor: `${themeStyles.accent}15`, border: `1px solid ${themeStyles.accent}20`}}>\n                              <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{selectedLead.conversation.filter(m => m.type === 'REPLY').length}</span>\n                              <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}> replies</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          {/* General Info Subsection */}\n                          <div className=\"rounded-lg overflow-hidden transition-all duration-200\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                            <button \n                              onClick={() => toggleSection('general')}\n                              className=\"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\"\n                            >\n                              <div className=\"flex items-center gap-2\">\n                                <ChevronRight \n                                  className={`w-4 h-4 transition-transform duration-200 ${activeSection.includes('general') ? 'rotate-90' : ''}`} \n                                  style={{color: themeStyles.accent}} \n                                />\n                                <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>General Information</span>\n                              </div>\n                            </button>\n                            {activeSection.includes('general') && (\n                              <div className=\"px-4 pb-4\">\n                                <div className=\"grid grid-cols-2 gap-4 text-sm pl-6\">\n                    <div>\n                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Subject:</span>\n                      <p className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{selectedLead.subject}</p>\n                    </div>\n                    <div>\n                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Website:</span>\n                      <p className=\"font-medium\">\n                        {selectedLead.website ? (\n                          <a href={`https://${selectedLead.website}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:opacity-80 flex items-center gap-1 transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                            {selectedLead.website}\n                            <ExternalLink className=\"w-3 h-3\" />\n                          </a>\n                        ) : <span className=\"transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>N/A</span>}\n                      </p>\n                    </div>\n                    <div className=\"col-span-2\">\n                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Tags:</span>\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\n                        {selectedLead.tags.map(tag => (\n                          <span key={tag} className=\"text-xs px-2 py-1 rounded-full transition-colors duration-300\" style={{backgroundColor: `${themeStyles.accent}15`, border: `1px solid ${themeStyles.border}`, color: themeStyles.textPrimary}}>\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                              </div>\n                            )}\n                </div>\n\n                          {/* Enrichment Data Subsection */}\n                          <div className=\"rounded-lg overflow-hidden transition-all duration-200\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                            <button \n                              onClick={() => toggleSection('enrichment')}\n                              className=\"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\"\n                            >\n                              <div className=\"flex items-center gap-2\">\n                                <ChevronRight \n                                  className={`w-4 h-4 transition-transform duration-200 ${activeSection.includes('enrichment') ? 'rotate-90' : ''}`} \n                                  style={{color: themeStyles.accent}} \n                                />\n                                <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Enrichment Data</span>\n                      </div>\n                              {(!selectedLead.role && !selectedLead.company_data && !selectedLead.personal_linkedin_url && !selectedLead.business_linkedin_url) && (\n                                <span className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>No data yet</span>\n                              )}\n                            </button>\n                            {activeSection.includes('enrichment') && (\n                              <div className=\"px-4 pb-4\">\n                                {(!selectedLead.role && !selectedLead.company_data && !selectedLead.personal_linkedin_url && !selectedLead.business_linkedin_url) ? (\n                                  <div className=\"text-center py-6 rounded-lg mx-6 transition-colors duration-300\" style={{color: themeStyles.textMuted, border: `1px solid ${themeStyles.border}`}}>\n                                    <Zap className=\"w-8 h-8 mx-auto mb-3 opacity-50\" />\n                                    <p className=\"text-sm\">Click the Enrich button above to fetch additional data</p>\n                      </div>\n                                ) : (\n                                  <div className=\"grid grid-cols-2 gap-4 text-sm pl-6\">\n                                    <div>\n                                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Role:</span>\n                                      <p className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{selectedLead.role || 'N/A'}</p>\n                    </div>\n                                    <div className=\"col-span-2\">\n                                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Company Summary:</span>\n                                      <p className=\"font-medium mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>{selectedLead.company_data || 'N/A'}</p>\n                      </div>\n                                    <div>\n                                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Personal LinkedIn:</span>\n                                      {selectedLead.personal_linkedin_url ? (\n                                        <a\n                                          href={selectedLead.personal_linkedin_url}\n                                          target=\"_blank\"\n                                          rel=\"noopener noreferrer\"\n                                          className=\"font-medium hover:opacity-80 flex items-center gap-1 transition-colors duration-300\"\n                                          style={{color: themeStyles.accent}}\n                                        >\n                                          View Profile\n                                          <ExternalLink className=\"w-3 h-3\" />\n                                        </a>\n                                      ) : (\n                                        <p className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>N/A</p>\n                                      )}\n                      </div>\n                                    <div>\n                                      <span className=\"transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Company LinkedIn:</span>\n                                      {selectedLead.business_linkedin_url ? (\n                                        <a\n                                          href={selectedLead.business_linkedin_url}\n                                          target=\"_blank\"\n                                          rel=\"noopener noreferrer\"\n                                          className=\"font-medium hover:opacity-80 flex items-center gap-1 transition-colors duration-300\"\n                                          style={{color: themeStyles.accent}}\n                                        >\n                                          View Company\n                                          <ExternalLink className=\"w-3 h-3\" />\n                                        </a>\n                                      ) : (\n                                        <p className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>N/A</p>\n                                      )}\n                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            )}\n                          </div>\n\n                          {/* Engagement Metrics Subsection */}\n                          <div className=\"rounded-lg overflow-hidden transition-all duration-200\" style={{backgroundColor: themeStyles.tertiaryBg}}>\n                            <button \n                              onClick={() => toggleSection('engagement')}\n                              className=\"w-full px-4 py-3 flex items-center justify-between hover:opacity-80 transition-colors duration-300\"\n                            >\n                              <div className=\"flex items-center gap-2\">\n                                <ChevronRight \n                                  className={`w-4 h-4 transition-transform duration-200 ${activeSection.includes('engagement') ? 'rotate-90' : ''}`} \n                                  style={{color: themeStyles.accent}} \n                                />\n                                <span className=\"font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Engagement Metrics</span>\n                              </div>\n                            </button>\n                            {activeSection.includes('engagement') && (\n                              <div className=\"px-4 pb-4\">\n                                <div className=\"grid grid-cols-3 gap-4 text-sm pl-6\">\n                                  <div className=\"col-span-3 p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                                    <div className=\"grid grid-cols-3 gap-8\">\n                                      <div>\n                                        <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Avg Response Time</span>\n                                        <p className=\"text-2xl font-bold mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                                          {formatResponseTime(selectedLead.response_time_avg)}\n                                        </p>\n                                      </div>\n                                      <div>\n                                        <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Intent Score</span>\n                                        <p className=\"text-2xl font-bold mt-1 transition-colors duration-300\" style={{color: themeStyles.accent}}>\n                                          {selectedLead.intent}/10\n                                        </p>\n                                      </div>\n                                      <div>\n                                        <span className=\"transition-colors duration-300\" style={{color: themeStyles.textMuted}}>Reply Rate</span>\n                                        <p className=\"text-2xl font-bold mt-1 transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                        {selectedLead.conversation.filter(msg => msg.type === 'REPLY').length}/{selectedLead.conversation.filter(msg => msg.type === 'SENT').length}\n                                        </p>\n                      </div>\n                      </div>\n                                  </div>\n                                </div>\n                              </div>\n                            )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Conversation History */}\n                <div className=\"rounded-2xl p-6 shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                  <h3 className=\"font-bold mb-4 flex items-center text-lg transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                    <MessageSquare className=\"w-4 h-4 mr-2 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                    Conversation History ({selectedLead.conversation.length} messages)\n                  </h3>\n                  <div className=\"space-y-6 max-h-96 overflow-y-auto\" style={{scrollbarWidth: 'thin', scrollbarColor: `${themeStyles.accent} ${themeStyles.primaryBg}50`}}>\n                                          {selectedLead.conversation.map((message, index) => (\n                        <div key={index} className={`p-5 rounded-xl border shadow-sm transition-colors duration-300`} style={{\n                          backgroundColor: message.type === 'SENT' \n                            ? `${themeStyles.accent}08` \n                            : themeStyles.tertiaryBg,\n                          borderColor: message.type === 'SENT' \n                            ? `${themeStyles.accent}30` \n                            : themeStyles.border\n                        }}>\n                          <div className=\"flex justify-between items-start mb-2\">\n                            <div className=\"text-sm\">\n                              <span className={`font-medium transition-colors duration-300`} style={{color: message.type === 'SENT' ? themeStyles.accent : themeStyles.textPrimary}}>\n                                {message.type === 'SENT' ? 'Outbound' : 'Reply'} \n                              </span>\n                              <span className=\"ml-2 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>\n                                {formatTime(message.time)}\n                              </span>\n                              {message.response_time && (\n                                <span className=\"ml-2 text-xs transition-colors duration-300\" style={{color: themeStyles.success}}>\n                                  • {formatResponseTime(message.response_time)} response\n                                </span>\n                              )}\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <span className={`px-2 py-1 text-xs rounded-full transition-colors duration-300`} style={{\n                                backgroundColor: message.type === 'SENT' \n                                  ? `${themeStyles.accent}15` \n                                  : themeStyles.tertiaryBg,\n                                border: `1px solid ${themeStyles.border}`,\n                                color: message.type === 'SENT' ? themeStyles.accent : themeStyles.textPrimary\n                              }}>\n                                {message.type}\n                              </span>\n                            </div>\n                          </div>\n\n                          {/* Email routing information */}\n                          <div className=\"mb-3 text-xs space-y-1 transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                            <div className=\"flex flex-wrap gap-4\">\n                              <span><strong>From:</strong> {message.from || 'N/A'}</span>\n                              <span><strong>To:</strong> {message.to || 'N/A'}</span>\n                            </div>\n                            {message.cc && Array.isArray(message.cc) && message.cc.length > 0 && (\n                              <div>\n                                <strong>CC:</strong> {message.cc.map(cc => {\n                                  if (typeof cc === 'string') return cc;\n                                  if (cc && cc.address) return cc.address;\n                                  if (cc && cc.name && cc.name.trim() !== '') return cc.name;\n                                  return '';\n                                }).filter(Boolean).join(', ')}\n                              </div>\n                            )}\n                            {message.subject && (\n                              <div>\n                                <strong>Subject:</strong> {message.subject}\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"text-sm whitespace-pre-wrap leading-relaxed transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                            {message.content}\n                          </div>\n                        </div>\n                      ))}\n                  </div>\n                </div>\n\n                {/* Response Section */}\n                <div className=\"rounded-2xl p-6 shadow-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"font-bold flex items-center text-lg transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                      <Mail className=\"w-4 h-4 mr-2 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                      Compose Response\n                    </h3>\n                    {/* Draft Status Indicator */}\n                    <div className=\"flex items-center gap-2 text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                      {isDraftSaving && (\n                        <span className=\"flex items-center gap-1\">\n                          <div className=\"animate-spin w-3 h-3 border border-t-transparent rounded-full\" style={{borderColor: themeStyles.accent}} />\n                          Saving draft...\n                        </span>\n                      )}\n                      {selectedLead && drafts[selectedLead.id] && !isDraftSaving && (\n                        <span className=\"flex items-center gap-1\" style={{color: themeStyles.success}}>\n                          <CheckCircle className=\"w-3 h-3\" />\n                          Draft saved {new Date(drafts[selectedLead.id].savedAt).toLocaleTimeString()}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"space-y-6\">\n                    {/* Editable Email Recipients */}\n                    <div className=\"p-4 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                      <h4 className=\"font-medium mb-3 flex items-center text-sm transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>\n                        <Mail className=\"w-4 h-4 mr-2 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n                        Email Recipients\n                      </h4>\n                      <div className=\"grid grid-cols-1 gap-3\">\n                        <div>\n                          <label className=\"text-xs block mb-1 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>To:</label>\n                          <input\n                            type=\"email\"\n                            value={editableToEmail}\n                            onChange={(e) => setEditableToEmail(e.target.value)}\n                            className=\"w-full px-3 py-2 rounded-lg text-sm focus:ring-2 transition-colors duration-300\"\n                            style={{\n                              backgroundColor: themeStyles.secondaryBg, \n                              border: `1px solid ${themeStyles.border}`, \n                              color: themeStyles.textPrimary,\n                              '--tw-ring-color': themeStyles.accent\n                            }}\n                            placeholder=\"Primary recipient email\"\n                          />\n                        </div>\n                        <div>\n                          <label className=\"text-xs block mb-1 transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>CC: (separate multiple emails with commas)</label>\n                          <input\n                            type=\"text\"\n                            value={editableCcEmails}\n                            onChange={(e) => setEditableCcEmails(e.target.value)}\n                            className=\"w-full px-3 py-2 rounded-lg text-sm focus:ring-2 transition-colors duration-300\"\n                            style={{\n                              backgroundColor: themeStyles.secondaryBg, \n                              border: `1px solid ${themeStyles.border}`, \n                              color: themeStyles.textPrimary,\n                              '--tw-ring-color': themeStyles.accent\n                            }}\n                            placeholder=\"CC recipients (optional)\"\n                          />\n                        </div>\n                        <div className=\"text-xs transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n                          Auto-populated based on conversation. Edit as needed before sending.\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={generateDraft}\n                        disabled={isGeneratingDraft}\n                        className=\"px-4 py-2 rounded-lg hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all duration-300\"\n                        style={{backgroundColor: themeStyles.accent, color: isDarkMode ? '#1A1C1A' : '#FFFFFF'}}\n                      >\n                        <Edit3 className=\"w-4 h-4\" />\n                        {isGeneratingDraft ? 'Generating...' : 'Generate Smart Draft'}\n                      </button>\n                    </div>\n\n                    {/* Rich Text Editor with Formatting */}\n                    <div className=\"space-y-3\">\n                      {/* Formatting Toolbar */}\n                      <div className=\"flex flex-wrap gap-2 p-3 rounded-lg transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, border: `1px solid ${themeStyles.border}`}}>\n                        <button\n                          type=\"button\"\n                          onClick={() => formatText('bold')}\n                          className=\"px-3 py-1 rounded text-xs font-bold hover:opacity-80 transition-all duration-300\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Bold\"\n                        >\n                          B\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => formatText('italic')}\n                          className=\"px-3 py-1 rounded text-xs italic hover:opacity-80 transition-all duration-300\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Italic\"\n                        >\n                          I\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => formatText('underline')}\n                          className=\"px-3 py-1 rounded text-xs underline hover:opacity-80 transition-all duration-300\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Underline\"\n                        >\n                          U\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={insertLink}\n                          className=\"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300 flex items-center gap-1\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Insert Link\"\n                        >\n                          🔗 Link\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={insertList}\n                          className=\"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Bullet List\"\n                        >\n                          • List\n                        </button>\n                        <div className=\"mx-2\" style={{borderLeft: `1px solid ${themeStyles.border}`}}></div>\n                        <input\n                          type=\"file\"\n                          multiple\n                          accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n                          className=\"hidden\"\n                          id=\"attachment-input\"\n                        />\n                        <label\n                          htmlFor=\"attachment-input\"\n                          className=\"px-3 py-1 rounded text-xs hover:opacity-80 transition-all duration-300 cursor-pointer flex items-center gap-1\"\n                          style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textPrimary}}\n                          title=\"Attach File\"\n                        >\n                          📎 Attach\n                        </label>\n                      </div>\n\n                      {/* Rich Text Editor */}\n                      <div\n                        contentEditable\n                        suppressContentEditableWarning={true}\n                        onInput={handleTextareaChange}\n                        onKeyDown={(e) => {\n                          // Handle common keyboard shortcuts\n                          if (e.ctrlKey || e.metaKey) {\n                            switch(e.key) {\n                              case 'b':\n                                e.preventDefault();\n                                formatText('bold');\n                                break;\n                              case 'i':\n                                e.preventDefault();\n                                formatText('italic');\n                                break;\n                              case 'u':\n                                e.preventDefault();\n                                formatText('underline');\n                                break;\n                            }\n                                } else if (e.key === 'Enter') {\n                                  const selection = window.getSelection();\n                                  if (selection.rangeCount > 0) {\n                                    const range = selection.getRangeAt(0);\n                                    let currentListItem = range.startContainer;\n                                    \n                                    // Navigate up to find the list item div\n                                    while (currentListItem && (!currentListItem.style || currentListItem.style.position !== 'relative')) {\n                                      currentListItem = currentListItem.parentNode;\n                                    }\n                                    \n                                    // If we're in a list item\n                                    if (currentListItem && currentListItem.style && currentListItem.style.position === 'relative') {\n                                      e.preventDefault();\n                                      \n                                      // Check if current list item is empty (except for bullet)\n                                      const textContent = currentListItem.textContent.replace('•', '').trim();\n                                      \n                                      if (textContent === '') {\n                                        // Exit list if empty\n                                        const newLine = document.createElement('div');\n                                        newLine.innerHTML = '<br>';\n                                        currentListItem.parentNode.replaceChild(newLine, currentListItem);\n                                        \n                                        // Place cursor in new line\n                                        const newRange = document.createRange();\n                                        newRange.setStart(newLine, 0);\n                                        newRange.collapse(true);\n                                        selection.removeAllRanges();\n                                        selection.addRange(newRange);\n                                      } else {\n                                        // Create new bullet point\n                                        const listItem = document.createElement('div');\n                                        listItem.style.cssText = `\n                                          position: relative;\n                                          padding-left: 20px;\n                                          margin: 4px 0;\n                                          line-height: 1.5;\n                                        `;\n                                        \n                                        const bullet = document.createElement('span');\n                                        bullet.textContent = '•';\n                                        bullet.style.cssText = `\n                                          position: absolute;\n                                          left: 4px;\n                                          font-size: 1.2em;\n                                          line-height: 1;\n                                          top: 50%;\n                                          transform: translateY(-50%);\n                                        `;\n                                        \n                                        const textContent = document.createElement('span');\n                                        textContent.style.color = 'white';\n                                        \n                                        listItem.appendChild(bullet);\n                                        listItem.appendChild(textContent);\n                                        \n                                        // Insert after current list item\n                                        currentListItem.parentNode.insertBefore(listItem, currentListItem.nextSibling);\n                                        \n                                        // Move cursor to new list item\n                                        const newRange = document.createRange();\n                                        newRange.setStart(textContent, 0);\n                                        newRange.collapse(true);\n                                        selection.removeAllRanges();\n                                        selection.addRange(newRange);\n                                      }\n                                      \n                                      // Update content\n                                      handleTextareaChange({ target: e.target });\n                                    }\n                            }\n                          }\n                        }}\n                        className=\"w-full h-40 p-3 rounded-lg resize-none focus:ring-2 focus:outline-none overflow-y-auto transition-colors duration-300\"\n                        style={{\n                          backgroundColor: themeStyles.secondaryBg, \n                          border: `1px solid ${themeStyles.border}`, \n                          color: themeStyles.textPrimary,\n                          '--tw-ring-color': themeStyles.accent,\n                          minHeight: '160px'\n                        }}\n                        data-placeholder=\"Generated draft will appear here, or write your own response...\"\n                      />\n                      \n                      {/* Show HTML preview for debugging */}\n                      {draftHtml && (\n                        <details className=\"text-xs\">\n                          <summary className=\"cursor-pointer transition-colors duration-300\" style={{color: themeStyles.textMuted}}>HTML Preview</summary>\n                          <pre className=\"mt-2 p-2 rounded whitespace-pre-wrap transition-colors duration-300\" style={{backgroundColor: themeStyles.tertiaryBg, color: themeStyles.textSecondary}}>\n                            {draftHtml}\n                          </pre>\n                        </details>\n                      )}\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                      <button\n                        onClick={sendMessage}\n                        disabled={!draftResponse.trim() || isSending}\n                        className=\"px-6 py-2 rounded-lg hover:opacity-80 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-all duration-300\"\n                        style={{backgroundColor: themeStyles.success, color: '#FFFFFF'}}\n                      >\n                        <Send className=\"w-4 h-4\" />\n                        {isSending ? 'Sending...' : 'Send Message'}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex-1 flex items-center justify-center transition-colors duration-300\" style={{color: themeStyles.textMuted}}>\n            <div className=\"text-center\">\n              <Mail className=\"w-12 h-12 mx-auto mb-4 transition-colors duration-300\" style={{color: themeStyles.accent}} />\n              <p className=\"text-lg font-medium transition-colors duration-300\" style={{color: themeStyles.textPrimary}}>Select a lead to view details</p>\n              <p className=\"text-sm transition-colors duration-300\" style={{color: themeStyles.textSecondary}}>Choose a lead from the inbox to see their conversation history and respond</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Delete Confirmation Popup */}\n      {showDeleteConfirm && leadToDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"rounded-lg p-6 max-w-md w-mx mx-4 shadow-xl\" style={{backgroundColor: '#1A1C1A', border: '1px solid white'}}>\n            <h3 className=\"text-lg font-semibold text-white mb-2\">Delete Lead</h3>\n            <p className=\"text-gray-300 mb-6\">\n              Are you sure you want to delete <strong className=\"text-white\">{leadToDelete.first_name} {leadToDelete.last_name}</strong>? \n              This action cannot be undone.\n            </p>\n            <div className=\"flex gap-3 justify-end\">\n              <button\n                onClick={() => {\n                  setShowDeleteConfirm(false);\n                  setLeadToDelete(null);\n                }}\n                className=\"px-4 py-2 text-white hover:opacity-80 rounded-lg transition-colors\"\n                style={{border: '1px solid white'}}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => handleDeleteLead(leadToDelete)}\n                className=\"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg transition-colors\"\n              >\n                Delete Lead\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Message Sent Confirmation Popup */}\n      {showSentConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"rounded-lg p-6 max-w-md w-mx mx-4 shadow-xl\" style={{backgroundColor: '#1A1C1A', border: '1px solid white'}}>\n            <h3 className=\"text-lg font-semibold text-green-400 mb-2\">Message Sent Successfully!</h3>\n            <p className=\"text-gray-300 mb-6\">\n              Your message has been sent and the conversation has been updated.\n            </p>\n            <div className=\"flex gap-3 justify-end\">\n              <button\n                onClick={() => {\n                  setShowSentConfirm(false);\n                  setSelectedLead(null);\n                }}\n                className=\"px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-lg transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n            {/* Add Enrichment Popup */}\n            {showEnrichmentPopup && enrichmentData && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                <div className=\"rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\" style={{backgroundColor: '#1A1C1A', border: '1px solid rgba(84, 252, 255, 0.3)'}}>\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-semibold\" style={{color: '#54FCFF'}}>Enriched Lead Data</h3>\n                    <button\n                      onClick={() => setShowEnrichmentPopup(false)}\n                      className=\"text-gray-400 hover:text-white\"\n                    >\n                      <X className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"text-gray-400 text-sm\">Role</label>\n                      <p className=\"text-white font-medium\">{enrichmentData.role || 'N/A'}</p>\n                    </div>\n                    \n                    <div>\n                      <label className=\"text-gray-400 text-sm\">Company Summary</label>\n                      <p className=\"text-white font-medium\">{enrichmentData.companySummary || 'N/A'}</p>\n                    </div>\n                    \n                    <div>\n                      <label className=\"text-gray-400 text-sm\">LinkedIn</label>\n                      {enrichmentData.linkedin ? (\n                        <a\n                          href={enrichmentData.linkedin}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"flex items-center gap-2 hover:opacity-80 transition-colors mt-1\"\n                          style={{color: '#54FCFF'}}\n                        >\n                          {enrichmentData.linkedin}\n                          <ExternalLink className=\"w-4 h-4\" />\n                        </a>\n                      ) : (\n                        <p className=\"text-white\">N/A</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default InboxManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}